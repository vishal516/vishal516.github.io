this.createjs=this.createjs||{},createjs.extend=function(e,t){"use strict";function a(){this.constructor=e}return a.prototype=t.prototype,e.prototype=new a},this.createjs=this.createjs||{},createjs.promote=function(t,a){"use strict";var r=t.prototype,n=Object.getPrototypeOf&&Object.getPrototypeOf(r)||r.__proto__;if(n)for(var i in r[(a+="_")+"constructor"]=n.constructor,n)r.hasOwnProperty(i)&&"function"==typeof n[i]&&(r[a+i]=n[i]);return t},this.createjs=this.createjs||{},createjs.indexOf=function(e,t){"use strict";for(var a=0,r=e.length;r>a;a++)if(t===e[a])return a;return-1},this.createjs=this.createjs||{},function(){"use strict";function e(){throw"UID cannot be instantiated"}e._nextID=0,e.get=function(){return e._nextID++},createjs.UID=e}(),this.createjs=this.createjs||{},createjs.deprecate=function(e,t){"use strict";return function(){var a="Deprecated property or method '"+t+"'. See docs for info.";return console&&(console.warn?console.warn(a):console.log(a)),e&&e.apply(this,arguments)}},this.createjs=this.createjs||{},function(){"use strict";function e(e,t,a){this.type=e,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!t,this.cancelable=!!a,this.timeStamp=new Date().getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var t=e.prototype;t.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},t.stopPropagation=function(){this.propagationStopped=!0},t.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},t.remove=function(){this.removed=!0},t.clone=function(){return new e(this.type,this.bubbles,this.cancelable)},t.set=function(e){for(var t in e)this[t]=e[t];return this},t.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this._listeners=null,this._captureListeners=null}var t=e.prototype;e.initialize=function(e){e.addEventListener=t.addEventListener,e.on=t.on,e.removeEventListener=e.off=t.removeEventListener,e.removeAllEventListeners=t.removeAllEventListeners,e.hasEventListener=t.hasEventListener,e.dispatchEvent=t.dispatchEvent,e._dispatchEvent=t._dispatchEvent,e.willTrigger=t.willTrigger},t.addEventListener=function(t,a,r){var n=r?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{};var i=n[t];return i&&this.removeEventListener(t,a,r),i=n[t],i?i.push(a):n[t]=[a],a},t.on=function(t,r,n,i,o,e){return r.handleEvent&&(n=n||r,r=r.handleEvent),n=n||this,this.addEventListener(t,function(e){r.call(n,e,o),i&&e.remove()},e)},t.removeEventListener=function(t,a,r){var n=r?this._captureListeners:this._listeners;if(n){var i=n[t];if(i)for(var e=0,o=i.length;o>e;e++)if(i[e]==a){1==o?delete n[t]:i.splice(e,1);break}}},t.off=t.removeEventListener,t.removeAllEventListeners=function(e){e?(this._listeners&&delete this._listeners[e],this._captureListeners&&delete this._captureListeners[e]):this._listeners=this._captureListeners=null},t.dispatchEvent=function(e,t,r){if("string"==typeof e){var n=this._listeners;if(!(t||n&&n[e]))return!0;e=new createjs.Event(e,t,r)}else e.target&&e.clone&&(e=e.clone());try{e.target=this}catch(t){}if(e.bubbles&&this.parent){for(var o=this,d=[o];o.parent;)d.push(o=o.parent);var l,u=d.length;for(l=u-1;0<=l&&!e.propagationStopped;l--)d[l]._dispatchEvent(e,1+(0==l));for(l=1;u>l&&!e.propagationStopped;l++)d[l]._dispatchEvent(e,3)}else this._dispatchEvent(e,2);return!e.defaultPrevented},t.hasEventListener=function(e){var t=this._listeners,a=this._captureListeners;return!!(t&&t[e]||a&&a[e])},t.willTrigger=function(e){for(var t=this;t;){if(t.hasEventListener(e))return!0;t=t.parent}return!1},t.toString=function(){return"[EventDispatcher]"},t._dispatchEvent=function(t,a){var r,n,i=2>=a?this._captureListeners:this._listeners;if(t&&i&&(n=i[t.type])&&(r=n.length)){try{t.currentTarget=this}catch(e){}try{t.eventPhase=0|a}catch(e){}t.removed=!1,n=n.slice();for(var e,o=0;r>o&&!t.immediatePropagationStopped;o++)e=n[o],e.handleEvent?e.handleEvent(t):e(t),t.removed&&(this.off(t.type,e,1==a),t.removed=!1)}2===a&&this._dispatchEvent(t,2.1)},createjs.EventDispatcher=e}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"Ticker cannot be instantiated."}t.RAF_SYNCHED="synched",t.RAF="raf",t.TIMEOUT="timeout",t.timingMode=null,t.maxDelta=0,t.paused=!1,t.removeEventListener=null,t.removeAllEventListeners=null,t.dispatchEvent=null,t.hasEventListener=null,t._listeners=null,createjs.EventDispatcher.initialize(t),t._addEventListener=t.addEventListener,t.addEventListener=function(){return!t._inited&&t.init(),t._addEventListener.apply(t,arguments)},t._inited=!1,t._startTime=0,t._pausedTime=0,t._ticks=0,t._pausedTicks=0,t._interval=50,t._lastTime=0,t._times=null,t._tickTimes=null,t._timerId=null,t._raf=!0,t._setInterval=function(e){t._interval=e,t._inited&&t._setupTick()},t.setInterval=createjs.deprecate(t._setInterval,"Ticker.setInterval"),t._getInterval=function(){return t._interval},t.getInterval=createjs.deprecate(t._getInterval,"Ticker.getInterval"),t._setFPS=function(e){t._setInterval(1e3/e)},t.setFPS=createjs.deprecate(t._setFPS,"Ticker.setFPS"),t._getFPS=function(){return 1e3/t._interval},t.getFPS=createjs.deprecate(t._getFPS,"Ticker.getFPS");try{Object.defineProperties(t,{interval:{get:t._getInterval,set:t._setInterval},framerate:{get:t._getFPS,set:t._setFPS}})}catch(e){console.log(e)}t.init=function(){t._inited||(t._inited=!0,t._times=[],t._tickTimes=[],t._startTime=t._getTime(),t._times.push(t._lastTime=0),t.interval=t._interval)},t.reset=function(){if(t._raf){var e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;e&&e(t._timerId)}else clearTimeout(t._timerId);t.removeAllEventListeners("tick"),t._timerId=t._times=t._tickTimes=null,t._startTime=t._lastTime=t._ticks=t._pausedTime=0,t._inited=!1},t.getMeasuredTickTime=function(a){var r=0,n=t._tickTimes;if(!n||1>n.length)return-1;a=Math.min(n.length,a||0|t._getFPS());for(var i=0;a>i;i++)r+=n[i];return r/a},t.getMeasuredFPS=function(e){var a=t._times;return!a||2>a.length?-1:(e=Math.min(a.length-1,e||0|t._getFPS()),1e3/((a[0]-a[e])/e))},t.getTime=function(e){return t._startTime?t._getTime()-(e?t._pausedTime:0):-1},t.getEventTime=function(e){return t._startTime?(t._lastTime||t._startTime)-(e?t._pausedTime:0):-1},t.getTicks=function(e){return t._ticks-(e?t._pausedTicks:0)},t._handleSynch=function(){t._timerId=null,t._setupTick(),t._getTime()-t._lastTime>=.97*(t._interval-1)&&t._tick()},t._handleRAF=function(){t._timerId=null,t._setupTick(),t._tick()},t._handleTimeout=function(){t._timerId=null,t._setupTick(),t._tick()},t._setupTick=function(){if(null==t._timerId){var e=t.timingMode;if(e==t.RAF_SYNCHED||e==t.RAF){var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(a)return t._timerId=a(e==t.RAF?t._handleRAF:t._handleSynch),void(t._raf=!0)}t._raf=!1,t._timerId=setTimeout(t._handleTimeout,t._interval)}},t._tick=function(){var a=t.paused,r=t._getTime(),n=r-t._lastTime;if(t._lastTime=r,t._ticks++,a&&(t._pausedTicks++,t._pausedTime+=n),t.hasEventListener("tick")){var i=new createjs.Event("tick"),e=t.maxDelta;i.delta=e&&n>e?e:n,i.paused=a,i.time=r,i.runTime=r-t._pausedTime,t.dispatchEvent(i)}for(t._tickTimes.unshift(t._getTime()-r);100<t._tickTimes.length;)t._tickTimes.pop();for(t._times.unshift(r);100<t._times.length;)t._times.pop()};var e=window,a=e.performance.now||e.performance.mozNow||e.performance.msNow||e.performance.oNow||e.performance.webkitNow;t._getTime=function(){return(a&&a.call(e.performance)||new Date().getTime())-t._startTime},createjs.Ticker=t}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.readyState=e.readyState,this._video=e,this._canvas=null,this._lastTime=-1,2>this.readyState&&e.addEventListener("canplaythrough",this._videoReady.bind(this))}var t=e.prototype;t.getImage=function(){if(!(2>this.readyState)){var e=this._canvas,t=this._video;if(e||(e=this._canvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"),e.width=t.videoWidth,e.height=t.videoHeight),2<=t.readyState&&t.currentTime!==this._lastTime){var r=e.getContext("2d");r.clearRect(0,0,e.width,e.height),r.drawImage(t,0,0,e.width,e.height),this._lastTime=t.currentTime}return e}},t._videoReady=function(){this.readyState=2},createjs.VideoBuffer=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(t,a,r,n,o,e,d,l,u,i,c){this.Event_constructor(t,a,r),this.stageX=n,this.stageY=o,this.rawX=null==u?n:u,this.rawY=null==i?o:i,this.nativeEvent=e,this.pointerID=d,this.primary=!!l,this.relatedTarget=c}var t=createjs.extend(e,createjs.Event);t._get_localX=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).x},t._get_localY=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).y},t._get_isTouch=function(){return-1!==this.pointerID};try{Object.defineProperties(t,{localX:{get:t._get_localX},localY:{get:t._get_localY},isTouch:{get:t._get_isTouch}})}catch(e){}t.clone=function(){return new e(this.type,this.bubbles,this.cancelable,this.stageX,this.stageY,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)},t.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"},createjs.MouseEvent=createjs.promote(e,"Event")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,a,r,n,i,e){this.setValues(t,a,r,n,i,e)}var e=t.prototype;t.DEG_TO_RAD=Math.PI/180,t.identity=null,e.setValues=function(t,a,r,n,i,e){return this.a=null==t?1:t,this.b=a||0,this.c=r||0,this.d=null==n?1:n,this.tx=i||0,this.ty=e||0,this},e.append=function(t,a,r,n,o,e){var d=this.a,l=this.b,u=this.c,i=this.d;return(1!=t||0!=a||0!=r||1!=n)&&(this.a=d*t+u*a,this.b=l*t+i*a,this.c=d*r+u*n,this.d=l*r+i*n),this.tx=d*o+u*e+this.tx,this.ty=l*o+i*e+this.ty,this},e.prepend=function(t,a,r,n,o,e){var d=this.a,l=this.c,u=this.tx;return this.a=t*d+r*this.b,this.b=a*d+n*this.b,this.c=t*l+r*this.d,this.d=a*l+n*this.d,this.tx=t*u+r*this.ty+o,this.ty=a*u+n*this.ty+e,this},e.appendMatrix=function(e){return this.append(e.a,e.b,e.c,e.d,e.tx,e.ty)},e.prependMatrix=function(e){return this.prepend(e.a,e.b,e.c,e.d,e.tx,e.ty)},e.appendTransform=function(a,r,n,o,e,d,u,c,i){if(e%360)var _=e*t.DEG_TO_RAD,p=Math.cos(_),f=Math.sin(_);else p=1,f=0;return d||u?(d*=t.DEG_TO_RAD,u*=t.DEG_TO_RAD,this.append(Math.cos(u),Math.sin(u),-Math.sin(d),Math.cos(d),a,r),this.append(p*n,f*n,-f*o,p*o,0,0)):this.append(p*n,f*n,-f*o,p*o,a,r),(c||i)&&(this.tx-=c*this.a+i*this.c,this.ty-=c*this.b+i*this.d),this},e.prependTransform=function(a,r,n,o,e,d,u,c,i){if(e%360)var _=e*t.DEG_TO_RAD,p=Math.cos(_),f=Math.sin(_);else p=1,f=0;return(c||i)&&(this.tx-=c,this.ty-=i),d||u?(d*=t.DEG_TO_RAD,u*=t.DEG_TO_RAD,this.prepend(p*n,f*n,-f*o,p*o,0,0),this.prepend(Math.cos(u),Math.sin(u),-Math.sin(d),Math.cos(d),a,r)):this.prepend(p*n,f*n,-f*o,p*o,a,r),this},e.rotate=function(a){a*=t.DEG_TO_RAD;var r=Math.cos(a),n=Math.sin(a),i=this.a,e=this.b;return this.a=i*r+this.c*n,this.b=e*r+this.d*n,this.c=-i*n+this.c*r,this.d=-e*n+this.d*r,this},e.skew=function(e,a){return e*=t.DEG_TO_RAD,a*=t.DEG_TO_RAD,this.append(Math.cos(a),Math.sin(a),-Math.sin(e),Math.cos(e),0,0),this},e.scale=function(e,t){return this.a*=e,this.b*=e,this.c*=t,this.d*=t,this},e.translate=function(e,t){return this.tx+=this.a*e+this.c*t,this.ty+=this.b*e+this.d*t,this},e.identity=function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},e.invert=function(){var t=this.a,a=this.b,r=this.c,n=this.d,i=this.tx,e=t*n-a*r;return this.a=n/e,this.b=-a/e,this.c=-r/e,this.d=t/e,this.tx=(r*this.ty-n*i)/e,this.ty=-(t*this.ty-a*i)/e,this},e.isIdentity=function(){return 0===this.tx&&0===this.ty&&1===this.a&&0===this.b&&0===this.c&&1===this.d},e.equals=function(e){return this.tx===e.tx&&this.ty===e.ty&&this.a===e.a&&this.b===e.b&&this.c===e.c&&this.d===e.d},e.transformPoint=function(e,t,a){return a=a||{},a.x=e*this.a+t*this.c+this.tx,a.y=e*this.b+t*this.d+this.ty,a},e.decompose=function(a){null==a&&(a={}),a.x=this.tx,a.y=this.ty,a.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),a.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var r=Math.atan2(-this.c,this.d),n=Math.atan2(this.b,this.a),i=Math.abs(1-r/n);return 1e-5>i?(a.rotation=n/t.DEG_TO_RAD,0>this.a&&0<=this.d&&(a.rotation+=0>=a.rotation?180:-180),a.skewX=a.skewY=0):(a.skewX=r/t.DEG_TO_RAD,a.skewY=n/t.DEG_TO_RAD),a},e.copy=function(e){return this.setValues(e.a,e.b,e.c,e.d,e.tx,e.ty)},e.clone=function(){return new t(this.a,this.b,this.c,this.d,this.tx,this.ty)},e.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"},t.identity=new t,createjs.Matrix2D=t}(),this.createjs=this.createjs||{},function(){"use strict";function e(t,a,r,n,i){this.setValues(t,a,r,n,i)}var t=e.prototype;t.setValues=function(t,a,r,n,i){return this.visible=!(null!=t)||!!t,this.alpha=null==a?1:a,this.shadow=r,this.compositeOperation=n,this.matrix=i||this.matrix&&this.matrix.identity()||new createjs.Matrix2D,this},t.append=function(t,a,r,n,i){return this.alpha*=a,this.shadow=r||this.shadow,this.compositeOperation=n||this.compositeOperation,this.visible=this.visible&&t,i&&this.matrix.appendMatrix(i),this},t.prepend=function(t,a,r,n,i){return this.alpha*=a,this.shadow=this.shadow||r,this.compositeOperation=this.compositeOperation||n,this.visible=this.visible&&t,i&&this.matrix.prependMatrix(i),this},t.identity=function(){return this.visible=!0,this.alpha=1,this.shadow=this.compositeOperation=null,this.matrix.identity(),this},t.clone=function(){return new e(this.alpha,this.shadow,this.compositeOperation,this.visible,this.matrix.clone())},createjs.DisplayProps=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.setValues(e,t)}var t=e.prototype;t.setValues=function(e,t){return this.x=e||0,this.y=t||0,this},t.copy=function(e){return this.x=e.x,this.y=e.y,this},t.clone=function(){return new e(this.x,this.y)},t.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"},createjs.Point=e}(),this.createjs=this.createjs||{},function(){"use strict";function t(e,t,a,r){this.setValues(e,t,a,r)}var e=t.prototype;e.setValues=function(e,t,a,r){return this.x=e||0,this.y=t||0,this.width=a||0,this.height=r||0,this},e.extend=function(e,t,a,r){return a=a||0,r=r||0,e+a>this.x+this.width&&(this.width=e+a-this.x),t+r>this.y+this.height&&(this.height=t+r-this.y),e<this.x&&(this.width+=this.x-e,this.x=e),t<this.y&&(this.height+=this.y-t,this.y=t),this},e.pad=function(e,t,a,r){return this.x-=t,this.y-=e,this.width+=t+r,this.height+=e+a,this},e.copy=function(e){return this.setValues(e.x,e.y,e.width,e.height)},e.contains=function(e,t,a,r){return a=a||0,r=r||0,e>=this.x&&e+a<=this.x+this.width&&t>=this.y&&t+r<=this.y+this.height},e.union=function(e){return this.clone().extend(e.x,e.y,e.width,e.height)},e.intersection=function(a){var r=a.x,n=a.y,i=r+a.width,o=n+a.height;return this.x>r&&(r=this.x),this.y>n&&(n=this.y),this.x+this.width<i&&(i=this.x+this.width),this.y+this.height<o&&(o=this.y+this.height),r>=i||n>=o?null:new t(r,n,i-r,o-n)},e.intersects=function(e){return e.x<=this.x+this.width&&this.x<=e.x+e.width&&e.y<=this.y+this.height&&this.y<=e.y+e.height},e.isEmpty=function(){return 0>=this.width||0>=this.height},e.clone=function(){return new t(this.x,this.y,this.width,this.height)},e.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"},createjs.Rectangle=t}(),this.createjs=this.createjs||{},function(){"use strict";function e(t,a,r,n,i,e,o){t.addEventListener&&(this.target=t,this.overLabel=null==r?"over":r,this.outLabel=null==a?"out":a,this.downLabel=null==n?"down":n,this.play=i,this._isPressed=!1,this._isOver=!1,this._enabled=!1,t.mouseChildren=!1,this.enabled=!0,this.handleEvent({}),e&&(o&&(e.actionsEnabled=!1,e.gotoAndStop&&e.gotoAndStop(o)),t.hitArea=e))}var t=e.prototype;t._setEnabled=function(e){if(e!=this._enabled){var t=this.target;this._enabled=e,e?(t.cursor="pointer",t.addEventListener("rollover",this),t.addEventListener("rollout",this),t.addEventListener("mousedown",this),t.addEventListener("pressup",this),t._reset&&(t.__reset=t._reset,t._reset=this._reset)):(t.cursor=null,t.removeEventListener("rollover",this),t.removeEventListener("rollout",this),t.removeEventListener("mousedown",this),t.removeEventListener("pressup",this),t.__reset&&(t._reset=t.__reset,delete t.__reset))}},t.setEnabled=createjs.deprecate(t._setEnabled,"ButtonHelper.setEnabled"),t._getEnabled=function(){return this._enabled},t.getEnabled=createjs.deprecate(t._getEnabled,"ButtonHelper.getEnabled");try{Object.defineProperties(t,{enabled:{get:t._getEnabled,set:t._setEnabled}})}catch(e){}t.toString=function(){return"[ButtonHelper]"},t.handleEvent=function(e){var t,a=this.target,r=e.type;"mousedown"==r?(this._isPressed=!0,t=this.downLabel):"pressup"==r?(this._isPressed=!1,t=this._isOver?this.overLabel:this.outLabel):"rollover"==r?(this._isOver=!0,t=this._isPressed?this.downLabel:this.overLabel):(this._isOver=!1,t=this._isPressed?this.overLabel:this.outLabel),this.play?a.gotoAndPlay&&a.gotoAndPlay(t):a.gotoAndStop&&a.gotoAndStop(t)},t._reset=function(){var e=this.paused;this.__reset(),this.paused=e},createjs.ButtonHelper=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,a,r){this.color=e||"black",this.offsetX=t||0,this.offsetY=a||0,this.blur=r||0}var t=e.prototype;e.identity=new e("transparent",0,0,0),t.toString=function(){return"[Shadow]"},t.clone=function(){return new e(this.color,this.offsetX,this.offsetY,this.blur)},createjs.Shadow=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.EventDispatcher_constructor(),this.complete=!0,this.framerate=0,this._animations=null,this._frames=null,this._images=null,this._data=null,this._loadCount=0,this._frameHeight=0,this._frameWidth=0,this._numFrames=0,this._regX=0,this._regY=0,this._spacing=0,this._margin=0,this._parseData(e)}var t=createjs.extend(e,createjs.EventDispatcher);t._getAnimations=function(){return this._animations.slice()},t.getAnimations=createjs.deprecate(t._getAnimations,"SpriteSheet.getAnimations");try{Object.defineProperties(t,{animations:{get:t._getAnimations}})}catch(e){}t.getNumFrames=function(e){if(null==e)return this._frames?this._frames.length:this._numFrames||0;var t=this._data[e];return null==t?0:t.frames.length},t.getAnimation=function(e){return this._data[e]},t.getFrame=function(e){var t;return this._frames&&(t=this._frames[e])?t:null},t.getFrameBounds=function(e,t){var a=this.getFrame(e);return a?(t||new createjs.Rectangle).setValues(-a.regX,-a.regY,a.rect.width,a.rect.height):null},t.toString=function(){return"[SpriteSheet]"},t.clone=function(){throw"SpriteSheet cannot be cloned."},t._parseData=function(t){var a,r,n,o;if(null!=t){if(this.framerate=t.framerate||0,t.images&&0<(r=t.images.length))for(o=this._images=[],a=0;r>a;a++){var u=t.images[a];if("string"==typeof u){var _=u;u=document.createElement("img"),u.src=_}o.push(u),u.getContext||u.naturalWidth||(this._loadCount++,this.complete=!1,function(e,t){u.onload=function(){e._handleImageLoad(t)}}(this,_),function(e,t){u.onerror=function(){e._handleImageError(t)}}(this,_))}if(null==t.frames);else if(Array.isArray(t.frames))for(this._frames=[],o=t.frames,a=0,r=o.length;r>a;a++){var p=o[a];this._frames.push({image:this._images[p[4]?p[4]:0],rect:new createjs.Rectangle(p[0],p[1],p[2],p[3]),regX:p[5]||0,regY:p[6]||0})}else n=t.frames,this._frameWidth=n.width,this._frameHeight=n.height,this._regX=n.regX||0,this._regY=n.regY||0,this._spacing=n.spacing||0,this._margin=n.margin||0,this._numFrames=n.count,0==this._loadCount&&this._calculateFrames();if(this._animations=[],null!=(n=t.animations)){this._data={};for(var g in n){var i={name:g},h=n[g];if("number"==typeof h)o=i.frames=[h];else if(!Array.isArray(h)){i.speed=h.speed,i.next=h.next;var m=h.frames;o=i.frames="number"==typeof m?[m]:m.slice(0)}else if(1==h.length)i.frames=[h[0]];else for(i.speed=h[3],i.next=h[2],o=i.frames=[],a=h[0];a<=h[1];a++)o.push(a);(!0===i.next||void 0===i.next)&&(i.next=g),(!1===i.next||2>o.length&&i.next==g)&&(i.next=null),i.speed||(i.speed=1),this._animations.push(g),this._data[g]=i}}}},t._handleImageLoad=function(){0==--this._loadCount&&(this._calculateFrames(),this.complete=!0,this.dispatchEvent("complete"))},t._handleImageError=function(e){var t=new createjs.Event("error");t.src=e,this.dispatchEvent(t),0==--this._loadCount&&this.dispatchEvent("complete")},t._calculateFrames=function(){if(!this._frames&&0!=this._frameWidth){this._frames=[];var t=this._numFrames||1e5,a=0,r=this._frameWidth,n=this._frameHeight,o=this._spacing,e=this._margin;a:for(var d=0,u=this._images;d<u.length;d++)for(var c=u[d],i=c.width||c.naturalWidth,_=c.height||c.naturalHeight,p=e;_-e-n>=p;){for(var h=e;i-e-r>=h;){if(a>=t)break a;a++,this._frames.push({image:c,rect:new createjs.Rectangle(h,p,r,n),regX:this._regX,regY:this._regY}),h+=r+o}p+=n+o}this._numFrames=a}},createjs.SpriteSheet=createjs.promote(e,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this.command=null,this._stroke=null,this._strokeStyle=null,this._oldStrokeStyle=null,this._strokeDash=null,this._oldStrokeDash=null,this._strokeIgnoreScale=!1,this._fill=null,this._instructions=[],this._commitIndex=0,this._activeInstructions=[],this._dirty=!1,this._storeIndex=0,this.clear()}var e=t.prototype,r=t;t.getRGB=function(e,t,r,n){return null!=e&&null==r&&(n=t,r=255&e,t=255&e>>8,e=255&e>>16),null==n?"rgb("+e+","+t+","+r+")":"rgba("+e+","+t+","+r+","+n+")"},t.getHSL=function(e,t,a,r){return null==r?"hsl("+e%360+","+t+"%,"+a+"%)":"hsla("+e%360+","+t+"%,"+a+"%,"+r+")"},t.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63},t.STROKE_CAPS_MAP=["butt","round","square"],t.STROKE_JOINTS_MAP=["miter","round","bevel"];var a=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");a.getContext&&(t._ctx=a.getContext("2d"),a.width=a.height=1),e._getInstructions=function(){return this._updateInstructions(),this._instructions},e.getInstructions=createjs.deprecate(e._getInstructions,"Graphics.getInstructions");try{Object.defineProperties(e,{instructions:{get:e._getInstructions}})}catch(t){}e.isEmpty=function(){return!(this._instructions.length||this._activeInstructions.length)},e.draw=function(t,a){this._updateInstructions();for(var r=this._instructions,n=this._storeIndex,i=r.length;i>n;n++)r[n].exec(t,a)},e.drawAsPath=function(t){this._updateInstructions();for(var a,r=this._instructions,n=this._storeIndex,i=r.length;i>n;n++)!1!==(a=r[n]).path&&a.exec(t)},e.moveTo=function(e,t){return this.append(new r.MoveTo(e,t),!0)},e.lineTo=function(e,t){return this.append(new r.LineTo(e,t))},e.arcTo=function(t,a,n,i,e){return this.append(new r.ArcTo(t,a,n,i,e))},e.arc=function(t,a,n,i,e,o){return this.append(new r.Arc(t,a,n,i,e,o))},e.quadraticCurveTo=function(t,a,n,i){return this.append(new r.QuadraticCurveTo(t,a,n,i))},e.bezierCurveTo=function(t,a,n,i,e,o){return this.append(new r.BezierCurveTo(t,a,n,i,e,o))},e.rect=function(t,a,n,i){return this.append(new r.Rect(t,a,n,i))},e.closePath=function(){return this._activeInstructions.length?this.append(new r.ClosePath):this},e.clear=function(){return this._instructions.length=this._activeInstructions.length=this._commitIndex=0,this._strokeStyle=this._oldStrokeStyle=this._stroke=this._fill=this._strokeDash=this._oldStrokeDash=null,this._dirty=this._strokeIgnoreScale=!1,this},e.beginFill=function(e){return this._setFill(e?new r.Fill(e):null)},e.beginLinearGradientFill=function(t,a,n,i,e,o){return this._setFill(new r.Fill().linearGradient(t,a,n,i,e,o))},e.beginRadialGradientFill=function(t,a,n,o,e,d,l,u){return this._setFill(new r.Fill().radialGradient(t,a,n,o,e,d,l,u))},e.beginBitmapFill=function(e,t,a){return this._setFill(new r.Fill(null,a).bitmap(e,t))},e.endFill=function(){return this.beginFill()},e.setStrokeStyle=function(t,a,n,i,e){return this._updateInstructions(!0),this._strokeStyle=this.command=new r.StrokeStyle(t,a,n,i,e),this._stroke&&(this._stroke.ignoreScale=e),this._strokeIgnoreScale=e,this},e.setStrokeDash=function(e,t){return this._updateInstructions(!0),this._strokeDash=this.command=new r.StrokeDash(e,t),this},e.beginStroke=function(e){return this._setStroke(e?new r.Stroke(e):null)},e.beginLinearGradientStroke=function(t,a,n,i,e,o){return this._setStroke(new r.Stroke().linearGradient(t,a,n,i,e,o))},e.beginRadialGradientStroke=function(t,a,n,o,e,d,l,u){return this._setStroke(new r.Stroke().radialGradient(t,a,n,o,e,d,l,u))},e.beginBitmapStroke=function(e,t){return this._setStroke(new r.Stroke().bitmap(e,t))},e.endStroke=function(){return this.beginStroke()},e.curveTo=e.quadraticCurveTo,e.drawRect=e.rect,e.drawRoundRect=function(t,a,r,n,i){return this.drawRoundRectComplex(t,a,r,n,i,i,i,i)},e.drawRoundRectComplex=function(t,a,n,o,e,d,l,u){return this.append(new r.RoundRect(t,a,n,o,e,d,l,u))},e.drawCircle=function(e,t,a){return this.append(new r.Circle(e,t,a))},e.drawEllipse=function(t,a,n,i){return this.append(new r.Ellipse(t,a,n,i))},e.drawPolyStar=function(t,a,n,i,e,o){return this.append(new r.PolyStar(t,a,n,i,e,o))},e.append=function(e,t){return this._activeInstructions.push(e),this.command=e,t||(this._dirty=!0),this},e.decodePath=function(a){for(var u=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath],c=[2,2,4,6,0],d=0,_=a.length,f=[],g=0,T=0,b=t.BASE_64;_>d;){var y=a.charAt(d),x=b[y],l=x>>3,m=u[l];if(!m||3&x)throw"bad path data (@"+d+"): "+y;var n=c[l];l||(g=T=0),f.length=0,d++;for(var o=(1&x>>2)+2,p=0;n>p;p++){var E=b[a.charAt(d)],S=E>>5?-1:1;E=(31&E)<<6|b[a.charAt(d+1)],3==o&&(E=E<<6|b[a.charAt(d+2)]),E=S*E/10,p%2?g=E+=g:T=E+=T,f[p]=E,d+=o}m.apply(this,f)}return this},e.store=function(){return this._updateInstructions(!0),this._storeIndex=this._instructions.length,this},e.unstore=function(){return this._storeIndex=0,this},e.clone=function(){var e=new t;return e.command=this.command,e._stroke=this._stroke,e._strokeStyle=this._strokeStyle,e._strokeDash=this._strokeDash,e._strokeIgnoreScale=this._strokeIgnoreScale,e._fill=this._fill,e._instructions=this._instructions.slice(),e._commitIndex=this._commitIndex,e._activeInstructions=this._activeInstructions.slice(),e._dirty=this._dirty,e._storeIndex=this._storeIndex,e},e.toString=function(){return"[Graphics]"},e.mt=e.moveTo,e.lt=e.lineTo,e.at=e.arcTo,e.bt=e.bezierCurveTo,e.qt=e.quadraticCurveTo,e.a=e.arc,e.r=e.rect,e.cp=e.closePath,e.c=e.clear,e.f=e.beginFill,e.lf=e.beginLinearGradientFill,e.rf=e.beginRadialGradientFill,e.bf=e.beginBitmapFill,e.ef=e.endFill,e.ss=e.setStrokeStyle,e.sd=e.setStrokeDash,e.s=e.beginStroke,e.ls=e.beginLinearGradientStroke,e.rs=e.beginRadialGradientStroke,e.bs=e.beginBitmapStroke,e.es=e.endStroke,e.dr=e.drawRect,e.rr=e.drawRoundRect,e.rc=e.drawRoundRectComplex,e.dc=e.drawCircle,e.de=e.drawEllipse,e.dp=e.drawPolyStar,e.p=e.decodePath,e._updateInstructions=function(a){var r=this._instructions,n=this._activeInstructions,i=this._commitIndex;if(this._dirty&&n.length){r.length=i,r.push(t.beginCmd);var e=n.length,o=r.length;r.length=o+e;for(var d=0;e>d;d++)r[d+o]=n[d];this._fill&&r.push(this._fill),this._stroke&&(this._strokeDash!==this._oldStrokeDash&&r.push(this._strokeDash),this._strokeStyle!==this._oldStrokeStyle&&r.push(this._strokeStyle),a&&(this._oldStrokeStyle=this._strokeStyle,this._oldStrokeDash=this._strokeDash),r.push(this._stroke)),this._dirty=!1}a&&(n.length=0,this._commitIndex=r.length)},e._setFill=function(e){return this._updateInstructions(!0),this.command=this._fill=e,this},e._setStroke=function(e){return this._updateInstructions(!0),(this.command=this._stroke=e)&&(e.ignoreScale=this._strokeIgnoreScale),this},(r.LineTo=function(e,t){this.x=e,this.y=t}).prototype.exec=function(e){e.lineTo(this.x,this.y)},(r.MoveTo=function(e,t){this.x=e,this.y=t}).prototype.exec=function(e){e.moveTo(this.x,this.y)},(r.ArcTo=function(t,a,r,n,i){this.x1=t,this.y1=a,this.x2=r,this.y2=n,this.radius=i}).prototype.exec=function(e){e.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)},(r.Arc=function(t,a,r,n,i,e){this.x=t,this.y=a,this.radius=r,this.startAngle=n,this.endAngle=i,this.anticlockwise=!!e}).prototype.exec=function(e){e.arc(this.x,this.y,this.radius,this.startAngle,this.endAngle,this.anticlockwise)},(r.QuadraticCurveTo=function(e,t,a,r){this.cpx=e,this.cpy=t,this.x=a,this.y=r}).prototype.exec=function(e){e.quadraticCurveTo(this.cpx,this.cpy,this.x,this.y)},(r.BezierCurveTo=function(t,a,r,n,i,e){this.cp1x=t,this.cp1y=a,this.cp2x=r,this.cp2y=n,this.x=i,this.y=e}).prototype.exec=function(e){e.bezierCurveTo(this.cp1x,this.cp1y,this.cp2x,this.cp2y,this.x,this.y)},(r.Rect=function(e,t,a,r){this.x=e,this.y=t,this.w=a,this.h=r}).prototype.exec=function(e){e.rect(this.x,this.y,this.w,this.h)},(r.ClosePath=function(){}).prototype.exec=function(e){e.closePath()},(r.BeginPath=function(){}).prototype.exec=function(e){e.beginPath()},e=(r.Fill=function(e,t){this.style=e,this.matrix=t}).prototype,e.exec=function(e){if(this.style){e.fillStyle=this.style;var t=this.matrix;t&&(e.save(),e.transform(t.a,t.b,t.c,t.d,t.tx,t.ty)),e.fill(),t&&e.restore()}},e.linearGradient=function(a,r,n,o,e,d){for(var l=this.style=t._ctx.createLinearGradient(n,o,e,d),u=0,c=a.length;c>u;u++)l.addColorStop(r[u],a[u]);return l.props={colors:a,ratios:r,x0:n,y0:o,x1:e,y1:d,type:"linear"},this},e.radialGradient=function(a,r,n,o,e,d,u,c){for(var i=this.style=t._ctx.createRadialGradient(n,o,e,d,u,c),_=0,p=a.length;p>_;_++)i.addColorStop(r[_],a[_]);return i.props={colors:a,ratios:r,x0:n,y0:o,r0:e,x1:d,y1:u,r1:c,type:"radial"},this},e.bitmap=function(e,a){if(e.naturalWidth||e.getContext||2<=e.readyState){var r=this.style=t._ctx.createPattern(e,a||"");r.props={image:e,repetition:a,type:"bitmap"}}return this},e.path=!1,e=(r.Stroke=function(e,t){this.style=e,this.ignoreScale=t}).prototype,e.exec=function(e){this.style&&(e.strokeStyle=this.style,this.ignoreScale&&(e.save(),e.setTransform(1,0,0,1,0,0)),e.stroke(),this.ignoreScale&&e.restore())},e.linearGradient=r.Fill.prototype.linearGradient,e.radialGradient=r.Fill.prototype.radialGradient,e.bitmap=r.Fill.prototype.bitmap,e.path=!1,e=(r.StrokeStyle=function(t,a,r,n,i){this.width=t,this.caps=a,this.joints=r,this.miterLimit=n,this.ignoreScale=i}).prototype,e.exec=function(e){e.lineWidth=null==this.width?"1":this.width,e.lineCap=null==this.caps?"butt":isNaN(this.caps)?this.caps:t.STROKE_CAPS_MAP[this.caps],e.lineJoin=null==this.joints?"miter":isNaN(this.joints)?this.joints:t.STROKE_JOINTS_MAP[this.joints],e.miterLimit=null==this.miterLimit?"10":this.miterLimit,e.ignoreScale=null!=this.ignoreScale&&this.ignoreScale},e.path=!1,(r.StrokeDash=function(e,t){this.segments=e,this.offset=t||0}).prototype.exec=function(e){e.setLineDash&&(e.setLineDash(this.segments||r.StrokeDash.EMPTY_SEGMENTS),e.lineDashOffset=this.offset||0)},r.StrokeDash.EMPTY_SEGMENTS=[],(r.RoundRect=function(t,a,r,n,i,e,o,d){this.x=t,this.y=a,this.w=r,this.h=n,this.radiusTL=i,this.radiusTR=e,this.radiusBR=o,this.radiusBL=d}).prototype.exec=function(t){var a=(i>h?h:i)/2,r=0,o=0,u=0,_=0,p=this.x,g=this.y,h=this.w,i=this.h,T=this.radiusTL,b=this.radiusTR,y=this.radiusBR,x=this.radiusBL;0>T&&(T*=r=-1),T>a&&(T=a),0>b&&(b*=o=-1),b>a&&(b=a),0>y&&(y*=u=-1),y>a&&(y=a),0>x&&(x*=_=-1),x>a&&(x=a),t.moveTo(p+h-b,g),t.arcTo(p+h+b*o,g-b*o,p+h,g+b,b),t.lineTo(p+h,g+i-y),t.arcTo(p+h+y*u,g+i+y*u,p+h-y,g+i,y),t.lineTo(p+x,g+i),t.arcTo(p-x*_,g+i+x*_,p,g+i-x,x),t.lineTo(p,g+T),t.arcTo(p-T*r,g-T*r,p+T,g,T),t.closePath()},(r.Circle=function(e,t,a){this.x=e,this.y=t,this.radius=a}).prototype.exec=function(e){e.arc(this.x,this.y,this.radius,0,2*Math.PI)},(r.Ellipse=function(e,t,a,r){this.x=e,this.y=t,this.w=a,this.h=r}).prototype.exec=function(t){var a=this.x,r=this.y,n=this.w,o=this.h,e=.5522848,d=n/2*e,u=o/2*e,c=a+n,i=r+o,_=a+n/2,p=r+o/2;t.moveTo(a,p),t.bezierCurveTo(a,p-u,_-d,r,_,r),t.bezierCurveTo(_+d,r,c,p-u,c,p),t.bezierCurveTo(c,p+u,_+d,i,_,i),t.bezierCurveTo(_-d,i,a,p+u,a,p)},(r.PolyStar=function(t,a,r,n,i,e){this.x=t,this.y=a,this.radius=r,this.sides=n,this.pointSize=i,this.angle=e}).prototype.exec=function(t){var a=this.x,r=this.y,n=this.radius,o=(this.angle||0)/180*Math.PI,d=this.sides,l=1-(this.pointSize||0),u=Math.PI/d;t.moveTo(a+Math.cos(o)*n,r+Math.sin(o)*n);for(var c=0;d>c;c++)o+=u,1!=l&&t.lineTo(a+Math.cos(o)*n*l,r+Math.sin(o)*n*l),o+=u,t.lineTo(a+Math.cos(o)*n,r+Math.sin(o)*n);t.closePath()},t.beginCmd=new r.BeginPath,createjs.Graphics=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this.EventDispatcher_constructor(),this.alpha=1,this.cacheCanvas=null,this.bitmapCache=null,this.id=createjs.UID.get(),this.mouseEnabled=!0,this.tickEnabled=!0,this.name=null,this.parent=null,this.regX=0,this.regY=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.skewX=0,this.skewY=0,this.shadow=null,this.visible=!0,this.x=0,this.y=0,this.transformMatrix=null,this.compositeOperation=null,this.snapToPixel=!0,this.filters=null,this.mask=null,this.hitArea=null,this.cursor=null,this._props=new createjs.DisplayProps,this._rectangle=new createjs.Rectangle,this._bounds=null,this._webGLRenderStyle=t._StageGL_NONE}var e=createjs.extend(t,createjs.EventDispatcher);t._MOUSE_EVENTS=["click","dblclick","mousedown","mouseout","mouseover","pressmove","pressup","rollout","rollover"],t.suppressCrossDomainErrors=!1,t._snapToPixelEnabled=!1,t._StageGL_NONE=0,t._StageGL_SPRITE=1,t._StageGL_BITMAP=2;var a=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");a.getContext&&(t._hitTestCanvas=a,t._hitTestContext=a.getContext("2d"),a.width=a.height=1),e._getStage=function(){for(var e=this,t=createjs.Stage;e.parent;)e=e.parent;return e instanceof t?e:null},e.getStage=createjs.deprecate(e._getStage,"DisplayObject.getStage");try{Object.defineProperties(e,{stage:{get:e._getStage},cacheID:{get:function(){return this.bitmapCache&&this.bitmapCache.cacheID},set:function(e){this.bitmapCache&&(this.bitmapCache.cacheID=e)}},scale:{get:function(){return this.scaleX},set:function(e){this.scaleX=this.scaleY=e}}})}catch(e){}e.isVisible=function(){return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY)},e.draw=function(e,t){var a=this.bitmapCache;return!(!a||t)&&a.draw(e)},e.updateContext=function(a){var r=this,n=r.mask,i=r._props.matrix;n&&n.graphics&&!n.graphics.isEmpty()&&(n.getMatrix(i),a.transform(i.a,i.b,i.c,i.d,i.tx,i.ty),n.graphics.drawAsPath(a),a.clip(),i.invert(),a.transform(i.a,i.b,i.c,i.d,i.tx,i.ty)),this.getMatrix(i);var e=i.tx,o=i.ty;t._snapToPixelEnabled&&r.snapToPixel&&(e=0|e+(0>e?-.5:.5),o=0|o+(0>o?-.5:.5)),a.transform(i.a,i.b,i.c,i.d,e,o),a.globalAlpha*=r.alpha,r.compositeOperation&&(a.globalCompositeOperation=r.compositeOperation),r.shadow&&this._applyShadow(a,r.shadow)},e.cache=function(t,a,r,n,i,e){this.bitmapCache||(this.bitmapCache=new createjs.BitmapCache),this.bitmapCache.define(this,t,a,r,n,i,e)},e.updateCache=function(e){if(!this.bitmapCache)throw"cache() must be called before updateCache()";this.bitmapCache.update(e)},e.uncache=function(){this.bitmapCache&&(this.bitmapCache.release(),this.bitmapCache=void 0)},e.getCacheDataURL=function(){return this.bitmapCache?this.bitmapCache.getDataURL():null},e.localToGlobal=function(e,t,a){return this.getConcatenatedMatrix(this._props.matrix).transformPoint(e,t,a||new createjs.Point)},e.globalToLocal=function(e,t,a){return this.getConcatenatedMatrix(this._props.matrix).invert().transformPoint(e,t,a||new createjs.Point)},e.localToLocal=function(e,t,a,r){return r=this.localToGlobal(e,t,r),a.globalToLocal(r.x,r.y,r)},e.setTransform=function(t,a,r,n,o,e,d,l,u){return this.x=t||0,this.y=a||0,this.scaleX=null==r?1:r,this.scaleY=null==n?1:n,this.rotation=o||0,this.skewX=e||0,this.skewY=d||0,this.regX=l||0,this.regY=u||0,this},e.getMatrix=function(e){var t=this,a=e&&e.identity()||new createjs.Matrix2D;return t.transformMatrix?a.copy(t.transformMatrix):a.appendTransform(t.x,t.y,t.scaleX,t.scaleY,t.rotation,t.skewX,t.skewY,t.regX,t.regY)},e.getConcatenatedMatrix=function(e){for(var t=this,a=this.getMatrix(e);t=t.parent;)a.prependMatrix(t.getMatrix(t._props.matrix));return a},e.getConcatenatedDisplayProps=function(e){e=e?e.identity():new createjs.DisplayProps;var t=this,r=t.getMatrix(e.matrix);do e.prepend(t.visible,t.alpha,t.shadow,t.compositeOperation),t!=this&&r.prependMatrix(t.getMatrix(t._props.matrix));while(t=t.parent);return e},e.hitTest=function(a,r){var n=t._hitTestContext;n.setTransform(1,0,0,1,-a,-r),this.draw(n);var i=this._testHit(n);return n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,2,2),i},e.set=function(e){for(var t in e)this[t]=e[t];return this},e.getBounds=function(){if(this._bounds)return this._rectangle.copy(this._bounds);var e=this.cacheCanvas;if(e){var t=this._cacheScale;return this._rectangle.setValues(this._cacheOffsetX,this._cacheOffsetY,e.width/t,e.height/t)}return null},e.getTransformedBounds=function(){return this._getBounds()},e.setBounds=function(e,t,a,r){return null==e?void(this._bounds=e):void(this._bounds=(this._bounds||new createjs.Rectangle).setValues(e,t,a,r))},e.clone=function(){return this._cloneProps(new t)},e.toString=function(){return"[DisplayObject (name="+this.name+")]"},e._updateState=null,e._cloneProps=function(e){return e.alpha=this.alpha,e.mouseEnabled=this.mouseEnabled,e.tickEnabled=this.tickEnabled,e.name=this.name,e.regX=this.regX,e.regY=this.regY,e.rotation=this.rotation,e.scaleX=this.scaleX,e.scaleY=this.scaleY,e.shadow=this.shadow,e.skewX=this.skewX,e.skewY=this.skewY,e.visible=this.visible,e.x=this.x,e.y=this.y,e.compositeOperation=this.compositeOperation,e.snapToPixel=this.snapToPixel,e.filters=null==this.filters?null:this.filters.slice(0),e.mask=this.mask,e.hitArea=this.hitArea,e.cursor=this.cursor,e._bounds=this._bounds,e},e._applyShadow=function(e,t){t=t||Shadow.identity,e.shadowColor=t.color,e.shadowOffsetX=t.offsetX,e.shadowOffsetY=t.offsetY,e.shadowBlur=t.blur},e._tick=function(e){var t=this._listeners;t&&t.tick&&(e.target=null,e.propagationStopped=e.immediatePropagationStopped=!1,this.dispatchEvent(e))},e._testHit=function(e){try{var a=1<e.getImageData(0,0,1,1).data[3]}catch(e){if(!t.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images."}return a},e._getBounds=function(e,t){return this._transformBounds(this.getBounds(),e,t)},e._transformBounds=function(t,a,u){if(!t)return t;var c=t.x,_=t.y,T=t.width,f=t.height,g=this._props.matrix;g=u?g.identity():this.getMatrix(g),(c||_)&&g.appendTransform(0,0,1,1,0,0,0,-c,-_),a&&g.prependMatrix(a);var b=T*g.a,i=T*g.b,y=f*g.c,x=f*g.d,l=g.tx,m=g.ty,n=l,E=l,S=m,v=m;return(c=b+l)<n?n=c:c>E&&(E=c),(c=b+y+l)<n?n=c:c>E&&(E=c),(c=y+l)<n?n=c:c>E&&(E=c),(_=i+m)<S?S=_:_>v&&(v=_),(_=i+x+m)<S?S=_:_>v&&(v=_),(_=x+m)<S?S=_:_>v&&(v=_),t.setValues(n,S,E-n,v-S)},e._hasMouseEventListener=function(){for(var e=t._MOUSE_EVENTS,a=0,r=e.length;r>a;a++)if(this.hasEventListener(e[a]))return!0;return!!this.cursor},createjs.DisplayObject=createjs.promote(t,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this.DisplayObject_constructor(),this.children=[],this.mouseChildren=!0,this.tickChildren=!0}var e=createjs.extend(t,createjs.DisplayObject);e._getNumChildren=function(){return this.children.length},e.getNumChildren=createjs.deprecate(e._getNumChildren,"Container.getNumChildren");try{Object.defineProperties(e,{numChildren:{get:e._getNumChildren}})}catch(e){}e.initialize=t,e.isVisible=function(){var e=this.cacheCanvas||this.children.length;return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&e)},e.draw=function(t,a){if(this.DisplayObject_draw(t,a))return!0;for(var r,n=this.children.slice(),i=0,o=n.length;o>i;i++)r=n[i],r.isVisible()&&(t.save(),r.updateContext(t),r.draw(t),t.restore());return!0},e.addChild=function(t){if(null==t)return t;var a=arguments.length;if(1<a){for(var r=0;a>r;r++)this.addChild(arguments[r]);return arguments[a-1]}var n=t.parent,i=n===this;return n&&n._removeChildAt(createjs.indexOf(n.children,t),i),t.parent=this,this.children.push(t),i||t.dispatchEvent("added"),t},e.addChildAt=function(t,a){var r=arguments.length,n=arguments[r-1];if(0>n||n>this.children.length)return arguments[r-2];if(2<r){for(var i=0;r-1>i;i++)this.addChildAt(arguments[i],n+i);return arguments[r-2]}var o=t.parent,d=o===this;return o&&o._removeChildAt(createjs.indexOf(o.children,t),d),t.parent=this,this.children.splice(a,0,t),d||t.dispatchEvent("added"),t},e.removeChild=function(e){var t=arguments.length;if(1<t){for(var a=!0,r=0;t>r;r++)a=a&&this.removeChild(arguments[r]);return a}return this._removeChildAt(createjs.indexOf(this.children,e))},e.removeChildAt=function(t){var a=arguments.length;if(1<a){for(var r=[],n=0;a>n;n++)r[n]=arguments[n];r.sort(function(e,t){return t-e});for(var i=!0,n=0;a>n;n++)i=i&&this._removeChildAt(r[n]);return i}return this._removeChildAt(t)},e.removeAllChildren=function(){for(var e=this.children;e.length;)this._removeChildAt(0)},e.getChildAt=function(e){return this.children[e]},e.getChildByName=function(e){for(var t=this.children,a=0,r=t.length;r>a;a++)if(t[a].name==e)return t[a];return null},e.sortChildren=function(e){this.children.sort(e)},e.getChildIndex=function(e){return createjs.indexOf(this.children,e)},e.swapChildrenAt=function(t,a){var r=this.children,n=r[t],i=r[a];n&&i&&(r[t]=i,r[a]=n)},e.swapChildren=function(t,a){for(var r,n,i=this.children,e=0,o=i.length;o>e&&(i[e]==t&&(r=e),i[e]==a&&(n=e),null==r||null==n);e++);e!=o&&(i[r]=a,i[n]=t)},e.setChildIndex=function(t,a){var r=this.children,n=r.length;if(!(t.parent!=this||0>a||a>=n)){for(var i=0;n>i&&r[i]!=t;i++);i!=n&&i!=a&&(r.splice(i,1),r.splice(a,0,t))}},e.contains=function(e){for(;e;){if(e==this)return!0;e=e.parent}return!1},e.hitTest=function(e,t){return null!=this.getObjectUnderPoint(e,t)},e.getObjectsUnderPoint=function(t,a,r){var n=[],i=this.localToGlobal(t,a);return this._getObjectsUnderPoint(i.x,i.y,n,0<r,1==r),n},e.getObjectUnderPoint=function(e,t,a){var r=this.localToGlobal(e,t);return this._getObjectsUnderPoint(r.x,r.y,null,0<a,1==a)},e.getBounds=function(){return this._getBounds(null,!0)},e.getTransformedBounds=function(){return this._getBounds()},e.clone=function(e){var a=this._cloneProps(new t);return e&&this._cloneChildren(a),a},e.toString=function(){return"[Container (name="+this.name+")]"},e._tick=function(e){if(this.tickChildren)for(var t,a=this.children.length-1;0<=a;a--)t=this.children[a],t.tickEnabled&&t._tick&&t._tick(e);this.DisplayObject__tick(e)},e._cloneChildren=function(t){t.children.length&&t.removeAllChildren();for(var a,r=t.children,n=0,i=this.children.length;i>n;n++)a=this.children[n].clone(!0),a.parent=t,r.push(a)},e._removeChildAt=function(e,t){if(0>e||e>this.children.length-1)return!1;var a=this.children[e];return a&&(a.parent=null),this.children.splice(e,1),t||a.dispatchEvent("removed"),!0},e._getObjectsUnderPoint=function(a,r,u,d,e,c){if(c=c||0,!c&&!this._testMask(this,a,r))return null;var _,T=createjs.DisplayObject._hitTestContext;e=e||d&&this._hasMouseEventListener();for(var i=this.children,b=i.length,y=b-1;0<=y;y--){var x=i[y],m=x.hitArea;if(x.visible&&(m||x.isVisible())&&(!d||x.mouseEnabled)&&(m||this._testMask(x,a,r)))if(!m&&x instanceof t){var n=x._getObjectsUnderPoint(a,r,u,d,e,c+1);if(!u&&n)return d&&!this.mouseChildren?this:n}else{if(d&&!e&&!x._hasMouseEventListener())continue;var o=x.getConcatenatedDisplayProps(x._props);if(_=o.matrix,m&&(_.appendMatrix(m.getMatrix(m._props.matrix)),o.alpha=m.alpha),T.globalAlpha=o.alpha,T.setTransform(_.a,_.b,_.c,_.d,_.tx-a,_.ty-r),(m||x).draw(T),!this._testHit(T))continue;if(T.setTransform(1,0,0,1,0,0),T.clearRect(0,0,2,2),!u)return d&&!this.mouseChildren?this:x;u.push(x)}}return null},e._testMask=function(t,a,r){var n=t.mask;if(!n||!n.graphics||n.graphics.isEmpty())return!0;var i=this._props.matrix,o=t.parent;i=o?o.getConcatenatedMatrix(i):i.identity(),i=n.getMatrix(n._props.matrix).prependMatrix(i);var d=createjs.DisplayObject._hitTestContext;return d.setTransform(i.a,i.b,i.c,i.d,i.tx-a,i.ty-r),n.graphics.drawAsPath(d),d.fillStyle="#000",d.fill(),!!this._testHit(d)&&(d.setTransform(1,0,0,1,0,0),d.clearRect(0,0,2,2),!0)},e._getBounds=function(t,a){var r=this.DisplayObject_getBounds();if(r)return this._transformBounds(r,t,a);var n=this._props.matrix;n=a?n.identity():this.getMatrix(n),t&&n.prependMatrix(t);for(var i,o=this.children.length,e=null,l=0;o>l;l++)i=this.children[l],i.visible&&(r=i._getBounds(n))&&(e?e.extend(r.x,r.y,r.width,r.height):e=r.clone());return e},createjs.Container=createjs.promote(t,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.Container_constructor(),this.autoClear=!0,this.canvas="string"==typeof e?document.getElementById(e):e,this.mouseX=0,this.mouseY=0,this.drawRect=null,this.snapToPixelEnabled=!1,this.mouseInBounds=!1,this.tickOnUpdate=!0,this.mouseMoveOutside=!1,this.preventSelection=!0,this._pointerData={},this._pointerCount=0,this._primaryPointerID=null,this._mouseOverIntervalID=null,this._nextStage=null,this._prevStage=null,this.enableDOMEvents(!0)}var t=createjs.extend(e,createjs.Container);t._get_nextStage=function(){return this._nextStage},t._set_nextStage=function(e){this._nextStage&&(this._nextStage._prevStage=null),e&&(e._prevStage=this),this._nextStage=e};try{Object.defineProperties(t,{nextStage:{get:t._get_nextStage,set:t._set_nextStage}})}catch(e){}t.update=function(e){if(this.canvas&&(this.tickOnUpdate&&this.tick(e),!1!==this.dispatchEvent("drawstart",!1,!0))){createjs.DisplayObject._snapToPixelEnabled=this.snapToPixelEnabled;var t=this.drawRect,a=this.canvas.getContext("2d");a.setTransform(1,0,0,1,0,0),this.autoClear&&(t?a.clearRect(t.x,t.y,t.width,t.height):a.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)),a.save(),this.drawRect&&(a.beginPath(),a.rect(t.x,t.y,t.width,t.height),a.clip()),this.updateContext(a),this.draw(a,!1),a.restore(),this.dispatchEvent("drawend")}},t.tick=function(e){if(this.tickEnabled&&!1!==this.dispatchEvent("tickstart",!1,!0)){var t=new createjs.Event("tick");if(e)for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);this._tick(t),this.dispatchEvent("tickend")}},t.handleEvent=function(e){"tick"==e.type&&this.update(e)},t.clear=function(){if(this.canvas){var e=this.canvas.getContext("2d");e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)}},t.toDataURL=function(t,a){var r,n=this.canvas.getContext("2d"),i=this.canvas.width,e=this.canvas.height;if(t){r=n.getImageData(0,0,i,e);var o=n.globalCompositeOperation;n.globalCompositeOperation="destination-over",n.fillStyle=t,n.fillRect(0,0,i,e)}var d=this.canvas.toDataURL(a||"image/png");return t&&(n.putImageData(r,0,0),n.globalCompositeOperation=o),d},t.enableMouseOver=function(e){if(this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null,0==e&&this._testMouseOver(!0)),null==e)e=20;else if(0>=e)return;var t=this;this._mouseOverIntervalID=setInterval(function(){t._testMouseOver()},1e3/Math.min(50,e))},t.enableDOMEvents=function(t){null==t&&(t=!0);var r,n,i=this._eventListeners;if(!t&&i){for(r in i)n=i[r],n.t.removeEventListener(r,n.f,!1);this._eventListeners=null}else if(t&&!i&&this.canvas){var o=window.addEventListener?window:document,e=this;for(r in i=this._eventListeners={},i.mouseup={t:o,f:function(t){e._handleMouseUp(t)}},i.mousemove={t:o,f:function(t){e._handleMouseMove(t)}},i.dblclick={t:this.canvas,f:function(t){e._handleDoubleClick(t)}},i.mousedown={t:this.canvas,f:function(t){e._handleMouseDown(t)}},i)n=i[r],n.t.addEventListener(r,n.f,!1)}},t.clone=function(){throw"Stage cannot be cloned."},t.toString=function(){return"[Stage (name="+this.name+")]"},t._getElementRect=function(t){var a;try{a=t.getBoundingClientRect()}catch(e){a={top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight}}var r=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),n=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0),e=window.getComputedStyle?getComputedStyle(t,null):t.currentStyle,o=parseInt(e.paddingLeft)+parseInt(e.borderLeftWidth),d=parseInt(e.paddingTop)+parseInt(e.borderTopWidth),l=parseInt(e.paddingRight)+parseInt(e.borderRightWidth),i=parseInt(e.paddingBottom)+parseInt(e.borderBottomWidth);return{left:a.left+r+o,right:a.right+r-l,top:a.top+n+d,bottom:a.bottom+n-i}},t._getPointerData=function(e){var t=this._pointerData[e];return t||(t=this._pointerData[e]={x:0,y:0}),t},t._handleMouseMove=function(e){e||(e=window.event),this._handlePointerMove(-1,e,e.pageX,e.pageY)},t._handlePointerMove=function(t,a,r,n,i){if((!this._prevStage||void 0!==i)&&this.canvas){var e=this._nextStage,o=this._getPointerData(t),d=o.inBounds;this._updatePointerPosition(t,a,r,n),(d||o.inBounds||this.mouseMoveOutside)&&(-1===t&&o.inBounds==!d&&this._dispatchMouseEvent(this,d?"mouseleave":"mouseenter",!1,t,o,a),this._dispatchMouseEvent(this,"stagemousemove",!1,t,o,a),this._dispatchMouseEvent(o.target,"pressmove",!0,t,o,a)),e&&e._handlePointerMove(t,a,r,n,null)}},t._updatePointerPosition=function(t,a,r,n){var i=this._getElementRect(this.canvas);r-=i.left,n-=i.top;var e=this.canvas.width,o=this.canvas.height;r/=(i.right-i.left)/e,n/=(i.bottom-i.top)/o;var l=this._getPointerData(t);(l.inBounds=0<=r&&0<=n&&e-1>=r&&o-1>=n)?(l.x=r,l.y=n):this.mouseMoveOutside&&(l.x=0>r?0:r>e-1?e-1:r,l.y=0>n?0:n>o-1?o-1:n),l.posEvtObj=a,l.rawX=r,l.rawY=n,(t===this._primaryPointerID||-1===t)&&(this.mouseX=l.x,this.mouseY=l.y,this.mouseInBounds=l.inBounds)},t._handleMouseUp=function(e){this._handlePointerUp(-1,e,!1)},t._handlePointerUp=function(t,a,r,n){var i=this._nextStage,e=this._getPointerData(t);if(!this._prevStage||void 0!==n){var o=null,d=e.target;!n&&(d||i)&&(o=this._getObjectsUnderPoint(e.x,e.y,null,!0)),e.down&&(this._dispatchMouseEvent(this,"stagemouseup",!1,t,e,a,o),e.down=!1),o==d&&this._dispatchMouseEvent(d,"click",!0,t,e,a),this._dispatchMouseEvent(d,"pressup",!0,t,e,a),r?(t==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[t]):e.target=null,i&&i._handlePointerUp(t,a,r,n||o&&this)}},t._handleMouseDown=function(e){this._handlePointerDown(-1,e,e.pageX,e.pageY)},t._handlePointerDown=function(t,a,r,n,i){this.preventSelection&&a.preventDefault(),(null==this._primaryPointerID||-1===t)&&(this._primaryPointerID=t),null!=n&&this._updatePointerPosition(t,a,r,n);var e=null,o=this._nextStage,d=this._getPointerData(t);i||(e=d.target=this._getObjectsUnderPoint(d.x,d.y,null,!0)),d.inBounds&&(this._dispatchMouseEvent(this,"stagemousedown",!1,t,d,a,e),d.down=!0),this._dispatchMouseEvent(e,"mousedown",!0,t,d,a),o&&o._handlePointerDown(t,a,r,n,i||e&&this)},t._testMouseOver=function(t,a,r){if(!this._prevStage||void 0!==a){var u=this._nextStage;if(!this._mouseOverIntervalID)return void(u&&u._testMouseOver(t,a,r));var d=this._getPointerData(-1);if(d&&(t||this.mouseX!=this._mouseOverX||this.mouseY!=this._mouseOverY||!this.mouseInBounds)){var e,c,_,T=d.posEvtObj,i=r||T&&T.target==this.canvas,b=null,y=-1,x="";!a&&(t||this.mouseInBounds&&i)&&(b=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,!0),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY);var E=this._mouseOverTarget||[],n=E[E.length-1],o=this._mouseOverTarget=[];for(e=b;e;)o.unshift(e),x||(x=e.cursor),e=e.parent;for(this.canvas.style.cursor=x,!a&&r&&(r.canvas.style.cursor=x),c=0,_=o.length;_>c&&o[c]==E[c];c++)y=c;for(n!=b&&this._dispatchMouseEvent(n,"mouseout",!0,-1,d,T,b),c=E.length-1;c>y;c--)this._dispatchMouseEvent(E[c],"rollout",!1,-1,d,T,b);for(c=o.length-1;c>y;c--)this._dispatchMouseEvent(o[c],"rollover",!1,-1,d,T,n);n!=b&&this._dispatchMouseEvent(b,"mouseover",!0,-1,d,T,n),u&&u._testMouseOver(t,a||b&&this,r||i&&this)}}},t._handleDoubleClick=function(t,a){var r=null,n=this._nextStage,i=this._getPointerData(-1);a||(r=this._getObjectsUnderPoint(i.x,i.y,null,!0),this._dispatchMouseEvent(r,"dblclick",!0,-1,i,t)),n&&n._handleDoubleClick(t,a||r&&this)},t._dispatchMouseEvent=function(t,a,r,n,i,e,o){if(t&&(r||t.hasEventListener(a))){var d=new createjs.MouseEvent(a,r,!1,i.x,i.y,e,n,n===this._primaryPointerID||-1===n,i.rawX,i.rawY,o);t.dispatchEvent(d)}},createjs.Stage=createjs.promote(e,"Container")}(),this.createjs=this.createjs||{},function(){"use strict";function _(t,a){if(this.Stage_constructor(t),void 0!==a){if("object"!=typeof a)throw"Invalid options object";var r=a.premultiply,n=a.transparent,e=a.antialias,i=a.preserveBuffer,o=a.autoPurge}this.vocalDebug=!1,this._preserveBuffer=i||!1,this._antialias=e||!1,this._transparent=n||!1,this._premultiply=r||!1,this._autoPurge=void 0,this.autoPurge=o,this._viewportWidth=0,this._viewportHeight=0,this._projectionMatrix=null,this._webGLContext=null,this._clearColor={r:.5,g:.5,b:.5,a:0},this._maxCardsPerBatch=_.DEFAULT_MAX_BATCH_SIZE,this._activeShader=null,this._vertices=null,this._vertexPositionBuffer=null,this._uvs=null,this._uvPositionBuffer=null,this._indices=null,this._textureIndexBuffer=null,this._alphas=null,this._alphaBuffer=null,this._textureDictionary=[],this._textureIDs={},this._batchTextures=[],this._baseTextures=[],this._batchTextureCount=8,this._lastTextureInsert=-1,this._batchID=0,this._drawID=0,this._slotBlacklist=[],this._isDrawing=0,this._lastTrackedCanvas=0,this.isCacheControlled=!1,this._cacheContainer=new createjs.Container,this._initializeWebGL()}var e=createjs.extend(_,createjs.Stage);_.buildUVRects=function(t,a,r){if(!t||!t._frames)return null;void 0===a&&(a=-1),void 0===r&&(r=!1);for(var n,i=-1!=a&&r?a:0,o=-1!=a&&r?a+1:t._frames.length,e=i;o>e;e++)if(n=t._frames[e],!(n.uvRect||0>=n.image.width||0>=n.image.height)){var d=n.rect;n.uvRect={t:d.y/n.image.height,l:d.x/n.image.width,b:(d.y+d.height)/n.image.height,r:(d.x+d.width)/n.image.width}}return t._frames[-1==a?0:a].uvRect||{t:0,l:0,b:1,r:1}},_.isWebGLActive=function(e){return e&&e instanceof WebGLRenderingContext&&"undefined"!=typeof WebGLRenderingContext},_.VERTEX_PROPERTY_COUNT=6,_.INDICIES_PER_CARD=6,_.DEFAULT_MAX_BATCH_SIZE=1e4,_.WEBGL_MAX_INDEX_NUM=Math.pow(2,16),_.UV_RECT={t:0,l:0,b:1,r:1};try{_.COVER_VERT=new Float32Array([-1,1,1,1,-1,-1,1,1,1,-1,-1,-1]),_.COVER_UV=new Float32Array([0,0,1,0,0,1,1,0,1,1,0,1]),_.COVER_UV_FLIP=new Float32Array([0,1,1,1,0,0,1,1,1,0,0,0])}catch(e){}_.REGULAR_VARYING_HEADER="precision mediump float;varying vec2 vTextureCoord;varying lowp float indexPicker;varying lowp float alphaValue;",_.REGULAR_VERTEX_HEADER=_.REGULAR_VARYING_HEADER+"attribute vec2 vertexPosition;attribute vec2 uvPosition;attribute lowp float textureIndex;attribute lowp float objectAlpha;uniform mat4 pMatrix;",_.REGULAR_FRAGMENT_HEADER=_.REGULAR_VARYING_HEADER+"uniform sampler2D uSampler[{{count}}];",_.REGULAR_VERTEX_BODY="void main(void) {gl_Position = vec4((vertexPosition.x * pMatrix[0][0]) + pMatrix[3][0],(vertexPosition.y * pMatrix[1][1]) + pMatrix[3][1],pMatrix[3][2],1.0);alphaValue = objectAlpha;indexPicker = textureIndex;vTextureCoord = uvPosition;}",_.REGULAR_FRAGMENT_BODY="void main(void) {vec4 color = vec4(1.0, 0.0, 0.0, 1.0);if (indexPicker <= 0.5) {color = texture2D(uSampler[0], vTextureCoord);{{alternates}}}{{fragColor}}}",_.REGULAR_FRAG_COLOR_NORMAL="gl_FragColor = vec4(color.rgb, color.a * alphaValue);",_.REGULAR_FRAG_COLOR_PREMULTIPLY="if(color.a > 0.0035) {gl_FragColor = vec4(color.rgb/color.a, color.a * alphaValue);} else {gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);}",_.PARTICLE_VERTEX_BODY=_.REGULAR_VERTEX_BODY,_.PARTICLE_FRAGMENT_BODY=_.REGULAR_FRAGMENT_BODY,_.COVER_VARYING_HEADER="precision mediump float;varying highp vec2 vRenderCoord;varying highp vec2 vTextureCoord;",_.COVER_VERTEX_HEADER=_.COVER_VARYING_HEADER+"attribute vec2 vertexPosition;attribute vec2 uvPosition;uniform float uUpright;",_.COVER_FRAGMENT_HEADER=_.COVER_VARYING_HEADER+"uniform sampler2D uSampler;",_.COVER_VERTEX_BODY="void main(void) {gl_Position = vec4(vertexPosition.x, vertexPosition.y, 0.0, 1.0);vRenderCoord = uvPosition;vTextureCoord = vec2(uvPosition.x, abs(uUpright - uvPosition.y));}",_.COVER_FRAGMENT_BODY="void main(void) {vec4 color = texture2D(uSampler, vRenderCoord);gl_FragColor = color;}",e._get_isWebGL=function(){return!!this._webGLContext},e._set_autoPurge=function(e){e=isNaN(e)?1200:e,-1!=e&&(e=10>e?10:e),this._autoPurge=e},e._get_autoPurge=function(){return+this._autoPurge};try{Object.defineProperties(e,{isWebGL:{get:e._get_isWebGL},autoPurge:{get:e._get_autoPurge,set:e._set_autoPurge}})}catch(e){}e._initializeWebGL=function(){if(!this.canvas)this._webGLContext=null;else if(!this._webGLContext||this._webGLContext.canvas!==this.canvas){var e={depth:!1,alpha:this._transparent,stencil:!0,antialias:this._antialias,premultipliedAlpha:this._premultiply,preserveDrawingBuffer:this._preserveBuffer},t=this._webGLContext=this._fetchWebGLContext(this.canvas,e);if(!t)return null;this.updateSimultaneousTextureCount(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)),this._maxTextureSlots=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this._createBuffers(t),this._initTextures(t),t.disable(t.DEPTH_TEST),t.enable(t.BLEND),t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this._premultiply),this._webGLContext.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearColor.a),this.updateViewport(this._viewportWidth||this.canvas.width,this._viewportHeight||this.canvas.height)}return this._webGLContext},e.update=function(e){if(this.canvas){if(this.tickOnUpdate&&this.tick(e),this.dispatchEvent("drawstart"),this.autoClear&&this.clear(),this._webGLContext)this._batchDraw(this,this._webGLContext),-1==this._autoPurge||this._drawID%(0|this._autoPurge/2)||this.purgeTextures(this._autoPurge);else{var t=this.canvas.getContext("2d");t.save(),this.updateContext(t),this.draw(t,!1),t.restore()}this.dispatchEvent("drawend")}},e.clear=function(){if(this.canvas)if(_.isWebGLActive(this._webGLContext)){var e=this._webGLContext,t=this._clearColor,a=this._transparent?t.a:1;this._webGLContext.clearColor(t.r*a,t.g*a,t.b*a,a),e.clear(e.COLOR_BUFFER_BIT),this._webGLContext.clearColor(t.r,t.g,t.b,t.a)}else this.Stage_clear()},e.draw=function(e,t){if(e===this._webGLContext&&_.isWebGLActive(this._webGLContext)){var a=this._webGLContext;return this._batchDraw(this,a,t),!0}return this.Stage_draw(e,t)},e.cacheDraw=function(t,a,r){if(_.isWebGLActive(this._webGLContext)){var n=this._webGLContext;return this._cacheDraw(n,t,a,r),!0}return!1},e.protectTextureSlot=function(e,t){if(e>this._maxTextureSlots||0>e)throw"Slot outside of acceptable range";this._slotBlacklist[e]=!!t},e.getTargetRenderTexture=function(t,a,r){var n,i=!1,o=this._webGLContext;if(void 0!==t.__lastRT&&t.__lastRT===t.__rtA&&(i=!0),i?(void 0===t.__rtB?t.__rtB=this.getRenderBufferTexture(a,r):((a!=t.__rtB._width||r!=t.__rtB._height)&&this.resizeTexture(t.__rtB,a,r),this.setTextureParams(o)),n=t.__rtB):(void 0===t.__rtA?t.__rtA=this.getRenderBufferTexture(a,r):((a!=t.__rtA._width||r!=t.__rtA._height)&&this.resizeTexture(t.__rtA,a,r),this.setTextureParams(o)),n=t.__rtA),!n)throw"Problems creating render textures, known causes include using too much VRAM by not releasing WebGL texture instances";return t.__lastRT=n,n},e.releaseTexture=function(e){var t,a;if(e){if(e.children)for(t=0,a=e.children.length;a>t;t++)this.releaseTexture(e.children[t]);e.cacheCanvas&&e.uncache();var r;if(void 0!==e._storeID){if(e===this._textureDictionary[e._storeID])return this._killTextureObject(e),void(e._storeID=void 0);r=e}else if(2===e._webGLRenderStyle)r=e.image;else if(1===e._webGLRenderStyle){for(t=0,a=e.spriteSheet._images.length;a>t;t++)this.releaseTexture(e.spriteSheet._images[t]);return}if(void 0===r)return void(this.vocalDebug&&console.log("No associated texture found on release"));this._killTextureObject(this._textureDictionary[r._storeID]),r._storeID=void 0}},e.purgeTextures=function(t){null==t&&(t=100);for(var r,n=this._textureDictionary,i=n.length,o=0;i>o;o++)r=n[o],r&&r._drawID+t<=this._drawID&&this._killTextureObject(r)},e.updateSimultaneousTextureCount=function(e){var t=this._webGLContext,r=!1;for((1>e||isNaN(e))&&(e=1),this._batchTextureCount=e;!r;)try{this._activeShader=this._fetchShaderProgram(t),r=!0}catch(e){if(1==this._batchTextureCount)throw"Cannot compile shader "+e;this._batchTextureCount-=4,1>this._batchTextureCount&&(this._batchTextureCount=1),this.vocalDebug&&console.log("Reducing desired texture count due to errors: "+this._batchTextureCount)}},e.updateViewport=function(e,t){this._viewportWidth=0|e,this._viewportHeight=0|t;var a=this._webGLContext;a&&(a.viewport(0,0,this._viewportWidth,this._viewportHeight),this._projectionMatrix=new Float32Array([2/this._viewportWidth,0,0,0,0,-2/this._viewportHeight,1,0,0,0,1,0,-1,1,.1,0]),this._projectionMatrixFlip=new Float32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),this._projectionMatrixFlip.set(this._projectionMatrix),this._projectionMatrixFlip[5]*=-1,this._projectionMatrixFlip[13]*=-1)},e.getFilterShader=function(e){e||(e=this);var t=this._webGLContext,r=this._activeShader;if(e._builtShader)r=e._builtShader,e.shaderParamSetup&&(t.useProgram(r),e.shaderParamSetup(t,this,r));else try{r=this._fetchShaderProgram(t,"filter",e.VTX_SHADER_BODY,e.FRAG_SHADER_BODY,e.shaderParamSetup&&e.shaderParamSetup.bind(e)),e._builtShader=r,r._name=e.toString()}catch(e){console&&console.log("SHADER SWITCH FAILURE",e)}return r},e.getBaseTexture=function(t,a){var r=Math.ceil(0<t?t:1)||1,n=Math.ceil(0<a?a:1)||1,i=this._webGLContext,e=i.createTexture();return this.resizeTexture(e,r,n),this.setTextureParams(i,!1),e},e.resizeTexture=function(e,t,a){var r=this._webGLContext;r.bindTexture(r.TEXTURE_2D,e),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,t,a,0,r.RGBA,r.UNSIGNED_BYTE,null),e.width=t,e.height=a},e.getRenderBufferTexture=function(t,a){var r=this._webGLContext,n=this.getBaseTexture(t,a);if(!n)return null;var i=r.createFramebuffer();return i?(n.width=t,n.height=a,r.bindFramebuffer(r.FRAMEBUFFER,i),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,n,0),i._renderTexture=n,n._frameBuffer=i,n._storeID=this._textureDictionary.length,this._textureDictionary[n._storeID]=n,r.bindFramebuffer(r.FRAMEBUFFER,null),n):null},e.setTextureParams=function(e,t){t&&this._antialias?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST)),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)},e.setClearColor=function(t){var r,n,i,o,l;"string"==typeof t?0==t.indexOf("#")?(4==t.length&&(t="#"+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)+t.charAt(3)+t.charAt(3)),r=+("0x"+t.slice(1,3))/255,n=+("0x"+t.slice(3,5))/255,i=+("0x"+t.slice(5,7))/255,o=+("0x"+t.slice(7,9))/255):0==t.indexOf("rgba(")&&(l=t.slice(5,-1).split(","),r=+l[0]/255,n=+l[1]/255,i=+l[2]/255,o=+l[3]):(r=((4278190080&t)>>>24)/255,n=((16711680&t)>>>16)/255,i=((65280&t)>>>8)/255,o=(255&t)/255),this._clearColor.r=r||0,this._clearColor.g=n||0,this._clearColor.b=i||0,this._clearColor.a=o||0,this._webGLContext&&this._webGLContext.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearColor.a)},e.toString=function(){return"[StageGL (name="+this.name+")]"},e._fetchWebGLContext=function(e,t){var a;try{a=e.getContext("webgl",t)||e.getContext("experimental-webgl",t)}catch(e){}if(a)a.viewportWidth=e.width,a.viewportHeight=e.height;else{console.error?console.error("Could not initialize WebGL"):console.log("Could not initialize WebGL")}return a},e._fetchShaderProgram=function(t,a,r,n,e){t.useProgram(null);var o,d;switch(a){case"filter":d=_.COVER_VERTEX_HEADER+(r||_.COVER_VERTEX_BODY),o=_.COVER_FRAGMENT_HEADER+(n||_.COVER_FRAGMENT_BODY);break;case"particle":d=_.REGULAR_VERTEX_HEADER+_.PARTICLE_VERTEX_BODY,o=_.REGULAR_FRAGMENT_HEADER+_.PARTICLE_FRAGMENT_BODY;break;case"override":d=_.REGULAR_VERTEX_HEADER+(r||_.REGULAR_VERTEX_BODY),o=_.REGULAR_FRAGMENT_HEADER+(n||_.REGULAR_FRAGMENT_BODY);break;case"regular":default:d=_.REGULAR_VERTEX_HEADER+_.REGULAR_VERTEX_BODY,o=_.REGULAR_FRAGMENT_HEADER+_.REGULAR_FRAGMENT_BODY;}var u=this._createShader(t,t.VERTEX_SHADER,d),i=this._createShader(t,t.FRAGMENT_SHADER,o),c=t.createProgram();if(t.attachShader(c,u),t.attachShader(c,i),t.linkProgram(c),c._type=a,!t.getProgramParameter(c,t.LINK_STATUS))throw t.useProgram(this._activeShader),t.getProgramInfoLog(c);switch(t.useProgram(c),a){case"filter":c.vertexPositionAttribute=t.getAttribLocation(c,"vertexPosition"),t.enableVertexAttribArray(c.vertexPositionAttribute),c.uvPositionAttribute=t.getAttribLocation(c,"uvPosition"),t.enableVertexAttribArray(c.uvPositionAttribute),c.samplerUniform=t.getUniformLocation(c,"uSampler"),t.uniform1i(c.samplerUniform,0),c.uprightUniform=t.getUniformLocation(c,"uUpright"),t.uniform1f(c.uprightUniform,0),e&&e(t,this,c);break;case"override":case"particle":case"regular":default:c.vertexPositionAttribute=t.getAttribLocation(c,"vertexPosition"),t.enableVertexAttribArray(c.vertexPositionAttribute),c.uvPositionAttribute=t.getAttribLocation(c,"uvPosition"),t.enableVertexAttribArray(c.uvPositionAttribute),c.textureIndexAttribute=t.getAttribLocation(c,"textureIndex"),t.enableVertexAttribArray(c.textureIndexAttribute),c.alphaAttribute=t.getAttribLocation(c,"objectAlpha"),t.enableVertexAttribArray(c.alphaAttribute);for(var p=[],l=0;l<this._batchTextureCount;l++)p[l]=l;c.samplerData=p,c.samplerUniform=t.getUniformLocation(c,"uSampler"),t.uniform1iv(c.samplerUniform,p),c.pMatrixUniform=t.getUniformLocation(c,"pMatrix");}return t.useProgram(this._activeShader),c},e._createShader=function(t,a,r){r=r.replace(/{{count}}/g,this._batchTextureCount);for(var n="",i=1;i<this._batchTextureCount;i++)n+="} else if (indexPicker <= "+i+".5) { color = texture2D(uSampler["+i+"], vTextureCoord);";r=r.replace(/{{alternates}}/g,n),r=r.replace(/{{fragColor}}/g,this._premultiply?_.REGULAR_FRAG_COLOR_PREMULTIPLY:_.REGULAR_FRAG_COLOR_NORMAL);var o=t.createShader(a);if(t.shaderSource(o,r),t.compileShader(o),!t.getShaderParameter(o,t.COMPILE_STATUS))throw t.getShaderInfoLog(o);return o},e._createBuffers=function(t){var a,r,o,u=this._maxCardsPerBatch*_.INDICIES_PER_CARD,p=this._vertexPositionBuffer=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,p),a=2;var g=this._vertices=new Float32Array(u*a);for(r=0,o=g.length;o>r;r+=a)g[r]=g[r+1]=0;t.bufferData(t.ARRAY_BUFFER,g,t.DYNAMIC_DRAW),p.itemSize=a,p.numItems=u;var h=this._uvPositionBuffer=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,h),a=2;var i=this._uvs=new Float32Array(u*a);for(r=0,o=i.length;o>r;r+=a)i[r]=i[r+1]=0;t.bufferData(t.ARRAY_BUFFER,i,t.DYNAMIC_DRAW),h.itemSize=a,h.numItems=u;var f=this._textureIndexBuffer=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,f),a=1;var T=this._indices=new Float32Array(u*a);for(r=0,o=T.length;o>r;r++)T[r]=0;t.bufferData(t.ARRAY_BUFFER,T,t.DYNAMIC_DRAW),f.itemSize=a,f.numItems=u;var l=this._alphaBuffer=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,l),a=1;var m=this._alphas=new Float32Array(u*a);for(r=0,o=m.length;o>r;r++)m[r]=1;t.bufferData(t.ARRAY_BUFFER,m,t.DYNAMIC_DRAW),l.itemSize=a,l.numItems=u},e._initTextures=function(){this._lastTextureInsert=-1,this._textureDictionary=[],this._textureIDs={},this._baseTextures=[],this._batchTextures=[];for(var e,t=0;t<this._batchTextureCount;t++)if(e=this.getBaseTexture(),this._baseTextures[t]=this._batchTextures[t]=e,!e)throw"Problems creating basic textures, known causes include using too much VRAM by not releasing WebGL texture instances"},e._loadTextureImage=function(t,a){var r=a.src;r||(a._isCanvas=!0,r=a.src="canvas_"+this._lastTrackedCanvas++);var n=this._textureIDs[r];void 0===n&&(n=this._textureIDs[r]=this._textureDictionary.length),void 0===this._textureDictionary[n]&&(this._textureDictionary[n]=this.getBaseTexture());var i=this._textureDictionary[n];if(i)i._batchID=this._batchID,i._storeID=n,i._imageData=a,this._insertTextureInBatch(t,i),a._storeID=n,a.complete||a.naturalWidth||a._isCanvas?this._updateTextureImageData(t,a):a.addEventListener("load",this._updateTextureImageData.bind(this,t,a));else{console.error&&console.error("Problem creating desired texture, known causes include using too much VRAM by not releasing WebGL texture instances")||console.log("Problem creating desired texture, known causes include using too much VRAM by not releasing WebGL texture instances"),i=this._baseTextures[0],i._batchID=this._batchID,i._storeID=-1,i._imageData=i,this._insertTextureInBatch(t,i)}return i},e._updateTextureImageData=function(e,t){var a=t.width&t.width-1||t.height&t.height-1,r=this._textureDictionary[t._storeID];e.activeTexture(e.TEXTURE0+r._activeIndex),e.bindTexture(e.TEXTURE_2D,r),r.isPOT=!a,this.setTextureParams(e,r.isPOT);try{e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t)}catch(t){console.error?(console.error("\nAn error has occurred. This is most likely due to security restrictions on WebGL images with local or cross-domain origins"),console.error(t)):console&&(console.log("\nAn error has occurred. This is most likely due to security restrictions on WebGL images with local or cross-domain origins"),console.log(t))}t._invalid=!1,r._w=t.width,r._h=t.height,this.vocalDebug&&(a&&console.warn("NPOT(Non Power of Two) Texture: "+t.src),(t.width>e.MAX_TEXTURE_SIZE||t.height>e.MAX_TEXTURE_SIZE)&&console&&console.error("Oversized Texture: "+t.width+"x"+t.height+" vs "+e.MAX_TEXTURE_SIZE+"max"))},e._insertTextureInBatch=function(t,a){if(this._batchTextures[a._activeIndex]!==a){var r=-1,n=(this._lastTextureInsert+1)%this._batchTextureCount,i=n;do{if(this._batchTextures[i]._batchID!=this._batchID&&!this._slotBlacklist[i]){r=i;break}i=(i+1)%this._batchTextureCount}while(i!=n);-1===r&&(this.batchReason="textureOverflow",this._drawBuffers(t),this.batchCardCount=0,r=n),this._batchTextures[r]=a,a._activeIndex=r;var o=a._imageData;o&&o._invalid&&void 0!==a._drawID?this._updateTextureImageData(t,o):(t.activeTexture(t.TEXTURE0+r),t.bindTexture(t.TEXTURE_2D,a),this.setTextureParams(t)),this._lastTextureInsert=r}else{var o=a._imageData;null!=a._storeID&&o&&o._invalid&&this._updateTextureImageData(t,o)}a._drawID=this._drawID,a._batchID=this._batchID},e._killTextureObject=function(e){if(e){var t=this._webGLContext;if(void 0!==e._storeID&&0<=e._storeID){for(var a in this._textureDictionary[e._storeID]=void 0,this._textureIDs)this._textureIDs[a]==e._storeID&&delete this._textureIDs[a];e._imageData&&(e._imageData._storeID=void 0),e._imageData=e._storeID=void 0}void 0!==e._activeIndex&&this._batchTextures[e._activeIndex]===e&&(this._batchTextures[e._activeIndex]=this._baseTextures[e._activeIndex]);try{e._frameBuffer&&t.deleteFramebuffer(e._frameBuffer),e._frameBuffer=void 0}catch(e){this.vocalDebug&&console.log(e)}try{t.deleteTexture(e)}catch(e){this.vocalDebug&&console.log(e)}}},e._backupBatchTextures=function(e,t){var a=this._webGLContext;this._backupTextures||(this._backupTextures=[]),void 0===t&&(t=this._backupTextures);for(var r=0;r<this._batchTextureCount;r++)a.activeTexture(a.TEXTURE0+r),e?this._batchTextures[r]=t[r]:(t[r]=this._batchTextures[r],this._batchTextures[r]=this._baseTextures[r]),a.bindTexture(a.TEXTURE_2D,this._batchTextures[r]),this.setTextureParams(a,this._batchTextures[r].isPOT);e&&t===this._backupTextures&&(this._backupTextures=[])},e._batchDraw=function(e,t,a){0<this._isDrawing&&this._drawBuffers(t),this._isDrawing++,this._drawID++,this.batchCardCount=0,this.depth=0,this._appendToBatchGroup(e,t,new createjs.Matrix2D,this.alpha,a),this.batchReason="drawFinish",this._drawBuffers(t),this._isDrawing--},e._cacheDraw=function(t,a,r,n){var o,d=this._activeShader,u=this._slotBlacklist,c=this._maxTextureSlots-1,_=this._viewportWidth,i=this._viewportHeight;this.protectTextureSlot(c,!0);var p=a.getMatrix();p=p.clone(),p.scale(1/n.scale,1/n.scale),p=p.invert(),p.translate(-n.offX/n.scale*a.scaleX,-n.offY/n.scale*a.scaleY);var g=this._cacheContainer;g.children=[a],g.transformMatrix=p,this._backupBatchTextures(!1),r&&r.length?this._drawFilters(a,r,n):this.isCacheControlled?(t.clear(t.COLOR_BUFFER_BIT),this._batchDraw(g,t,!0)):(t.activeTexture(t.TEXTURE0+c),a.cacheCanvas=this.getTargetRenderTexture(a,n._drawWidth,n._drawHeight),o=a.cacheCanvas,t.bindFramebuffer(t.FRAMEBUFFER,o._frameBuffer),this.updateViewport(n._drawWidth,n._drawHeight),this._projectionMatrix=this._projectionMatrixFlip,t.clear(t.COLOR_BUFFER_BIT),this._batchDraw(g,t,!0),t.bindFramebuffer(t.FRAMEBUFFER,null),this.updateViewport(_,i)),this._backupBatchTextures(!0),this.protectTextureSlot(c,!1),this._activeShader=d,this._slotBlacklist=u},e._drawFilters=function(t,a,r){var n,o=this._webGLContext,e=this._maxTextureSlots-1,u=this._viewportWidth,c=this._viewportHeight,_=this._cacheContainer,i=a.length;o.activeTexture(o.TEXTURE0+e),n=this.getTargetRenderTexture(t,r._drawWidth,r._drawHeight),o.bindFramebuffer(o.FRAMEBUFFER,n._frameBuffer),this.updateViewport(r._drawWidth,r._drawHeight),o.clear(o.COLOR_BUFFER_BIT),this._batchDraw(_,o,!0),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,n),this.setTextureParams(o);var p=!1,g=0,h=a[g];do this._activeShader=this.getFilterShader(h),this._activeShader&&(o.activeTexture(o.TEXTURE0+e),n=this.getTargetRenderTexture(t,r._drawWidth,r._drawHeight),o.bindFramebuffer(o.FRAMEBUFFER,n._frameBuffer),o.viewport(0,0,r._drawWidth,r._drawHeight),o.clear(o.COLOR_BUFFER_BIT),this._drawCover(o,p),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,n),this.setTextureParams(o),(1<i||a[0]._multiPass)&&(p=!p),h=null===h._multiPass?a[++g]:h._multiPass);while(h);this.isCacheControlled?(o.bindFramebuffer(o.FRAMEBUFFER,null),this.updateViewport(u,c),this._activeShader=this.getFilterShader(this),o.clear(o.COLOR_BUFFER_BIT),this._drawCover(o,p)):(p&&(o.activeTexture(o.TEXTURE0+e),n=this.getTargetRenderTexture(t,r._drawWidth,r._drawHeight),o.bindFramebuffer(o.FRAMEBUFFER,n._frameBuffer),this._activeShader=this.getFilterShader(this),o.viewport(0,0,r._drawWidth,r._drawHeight),o.clear(o.COLOR_BUFFER_BIT),this._drawCover(o,!p)),o.bindFramebuffer(o.FRAMEBUFFER,null),this.updateViewport(u,c),t.cacheCanvas=n)},e._appendToBatchGroup=function(a,T,c,d,e){a._glMtx||(a._glMtx=new createjs.Matrix2D);var f=a._glMtx;f.copy(c),a.transformMatrix?f.appendMatrix(a.transformMatrix):f.appendTransform(a.x,a.y,a.scaleX,a.scaleY,a.rotation,a.skewX,a.skewY,a.regX,a.regY);for(var g,b,E,S,P,R=a.children.length,l=0;R>l;l++)if(P=a.children[l],P.visible&&d)if(P.cacheCanvas&&!e||(P._updateState&&P._updateState(),!P.children)){this.batchCardCount+1>this._maxCardsPerBatch&&(this.batchReason="vertexOverflow",this._drawBuffers(T),this.batchCardCount=0),P._glMtx||(P._glMtx=new createjs.Matrix2D);var L=P._glMtx;L.copy(f),P.transformMatrix?L.appendMatrix(P.transformMatrix):L.appendTransform(P.x,P.y,P.scaleX,P.scaleY,P.rotation,P.skewX,P.skewY,P.regX,P.regY);var o,I,D,O,M,F,N=P.cacheCanvas&&!e;if(2===P._webGLRenderStyle||N)D=!e&&P.cacheCanvas||P.image;else{if(1!==P._webGLRenderStyle)continue;if(O=P.spriteSheet.getFrame(P.currentFrame),null===O)continue;D=O.image}var v=this._uvs,w=this._vertices,x=this._indices,y=this._alphas;if(D){if(void 0===D._storeID)M=this._loadTextureImage(T,D),this._insertTextureInBatch(T,M);else{if(M=this._textureDictionary[D._storeID],!M){this.vocalDebug&&console.log("Texture should not be looked up while not being stored.");continue}M._batchID!==this._batchID&&this._insertTextureInBatch(T,M)}if(I=M._activeIndex,2===P._webGLRenderStyle||N)!N&&P.sourceRect?(P._uvRect||(P._uvRect={}),F=P.sourceRect,o=P._uvRect,o.t=F.y/D.height,o.l=F.x/D.width,o.b=(F.y+F.height)/D.height,o.r=(F.x+F.width)/D.width,g=0,b=0,E=F.width+g,S=F.height+b):(o=_.UV_RECT,N?(F=P.bitmapCache,g=F.x+F._filterOffX/F.scale,b=F.y+F._filterOffY/F.scale,E=F._drawWidth/F.scale+g,S=F._drawHeight/F.scale+b):(g=0,b=0,E=D.width+g,S=D.height+b));else if(1===P._webGLRenderStyle){var U=O.rect;o=O.uvRect,o||(o=_.buildUVRects(P.spriteSheet,P.currentFrame,!1)),g=-O.regX,b=-O.regY,E=U.width-O.regX,S=U.height-O.regY}var A=this.batchCardCount*_.INDICIES_PER_CARD,B=2*A;w[B]=g*L.a+b*L.c+L.tx,w[B+1]=g*L.b+b*L.d+L.ty,w[B+2]=g*L.a+S*L.c+L.tx,w[B+3]=g*L.b+S*L.d+L.ty,w[B+4]=E*L.a+b*L.c+L.tx,w[B+5]=E*L.b+b*L.d+L.ty,w[B+6]=w[B+2],w[B+7]=w[B+3],w[B+8]=w[B+4],w[B+9]=w[B+5],w[B+10]=E*L.a+S*L.c+L.tx,w[B+11]=E*L.b+S*L.d+L.ty,v[B]=o.l,v[B+1]=o.t,v[B+2]=o.l,v[B+3]=o.b,v[B+4]=o.r,v[B+5]=o.t,v[B+6]=o.l,v[B+7]=o.b,v[B+8]=o.r,v[B+9]=o.t,v[B+10]=o.r,v[B+11]=o.b,x[A]=x[A+1]=x[A+2]=x[A+3]=x[A+4]=x[A+5]=I,y[A]=y[A+1]=y[A+2]=y[A+3]=y[A+4]=y[A+5]=P.alpha*d,this.batchCardCount++}}else this._appendToBatchGroup(P,T,f,P.alpha*d)},e._drawBuffers=function(t){if(!(0>=this.batchCardCount)){this.vocalDebug&&console.log("Draw["+this._drawID+":"+this._batchID+"] : "+this.batchReason);var a=this._activeShader,r=this._vertexPositionBuffer,n=this._textureIndexBuffer,e=this._uvPositionBuffer,o=this._alphaBuffer;t.useProgram(a),t.bindBuffer(t.ARRAY_BUFFER,r),t.vertexAttribPointer(a.vertexPositionAttribute,r.itemSize,t.FLOAT,!1,0,0),t.bufferSubData(t.ARRAY_BUFFER,0,this._vertices),t.bindBuffer(t.ARRAY_BUFFER,n),t.vertexAttribPointer(a.textureIndexAttribute,n.itemSize,t.FLOAT,!1,0,0),t.bufferSubData(t.ARRAY_BUFFER,0,this._indices),t.bindBuffer(t.ARRAY_BUFFER,e),t.vertexAttribPointer(a.uvPositionAttribute,e.itemSize,t.FLOAT,!1,0,0),t.bufferSubData(t.ARRAY_BUFFER,0,this._uvs),t.bindBuffer(t.ARRAY_BUFFER,o),t.vertexAttribPointer(a.alphaAttribute,o.itemSize,t.FLOAT,!1,0,0),t.bufferSubData(t.ARRAY_BUFFER,0,this._alphas),t.uniformMatrix4fv(a.pMatrixUniform,t.FALSE,this._projectionMatrix);for(var d,l=0;l<this._batchTextureCount;l++)d=this._batchTextures[l],t.activeTexture(t.TEXTURE0+l),t.bindTexture(t.TEXTURE_2D,d),this.setTextureParams(t,d.isPOT);t.drawArrays(t.TRIANGLES,0,this.batchCardCount*_.INDICIES_PER_CARD),this._batchID++}},e._drawCover=function(t,a){0<this._isDrawing&&this._drawBuffers(t),this.vocalDebug&&console.log("Draw["+this._drawID+":"+this._batchID+"] : Cover");var r=this._activeShader,n=this._vertexPositionBuffer,e=this._uvPositionBuffer;t.clear(t.COLOR_BUFFER_BIT),t.useProgram(r),t.bindBuffer(t.ARRAY_BUFFER,n),t.vertexAttribPointer(r.vertexPositionAttribute,n.itemSize,t.FLOAT,!1,0,0),t.bufferSubData(t.ARRAY_BUFFER,0,_.COVER_VERT),t.bindBuffer(t.ARRAY_BUFFER,e),t.vertexAttribPointer(r.uvPositionAttribute,e.itemSize,t.FLOAT,!1,0,0),t.bufferSubData(t.ARRAY_BUFFER,0,a?_.COVER_UV_FLIP:_.COVER_UV),t.uniform1i(r.samplerUniform,0),t.uniform1f(r.uprightUniform,a?0:1),t.drawArrays(t.TRIANGLES,0,_.INDICIES_PER_CARD)},createjs.StageGL=createjs.promote(_,"Stage")}(),this.createjs=this.createjs||{},function(){function e(e){this.DisplayObject_constructor(),"string"==typeof e?(this.image=document.createElement("img"),this.image.src=e):this.image=e,this.sourceRect=null,this._webGLRenderStyle=createjs.DisplayObject._StageGL_BITMAP}var t=createjs.extend(e,createjs.DisplayObject);t.initialize=e,t.isVisible=function(){var e=this.image,t=this.cacheCanvas||e&&(e.naturalWidth||e.getContext||2<=e.readyState);return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&t)},t.draw=function(t,a){if(this.DisplayObject_draw(t,a))return!0;var r=this.image,n=this.sourceRect;if(r.getImage&&(r=r.getImage()),!r)return!0;if(n){var o=n.x,d=n.y,u=o+n.width,_=d+n.height,p=0,m=0,T=r.width,b=r.height;0>o&&(p-=o,o=0),u>T&&(u=T),0>d&&(m-=d,d=0),_>b&&(_=b),t.drawImage(r,o,d,u-o,_-d,p,m,u-o,_-d)}else t.drawImage(r,0,0);return!0},t.getBounds=function(){var e=this.DisplayObject_getBounds();if(e)return e;var t=this.image,a=this.sourceRect||t,r=t&&(t.naturalWidth||t.getContext||2<=t.readyState);return r?this._rectangle.setValues(0,0,a.width,a.height):null},t.clone=function(t){var a=this.image;a&&t&&(a=a.cloneNode());var r=new e(a);return this.sourceRect&&(r.sourceRect=this.sourceRect.clone()),this._cloneProps(r),r},t.toString=function(){return"[Bitmap (name="+this.name+")]"},createjs.Bitmap=createjs.promote(e,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.DisplayObject_constructor(),this.currentFrame=0,this.currentAnimation=null,this.paused=!0,this.spriteSheet=e,this.currentAnimationFrame=0,this.framerate=0,this._animation=null,this._currentFrame=null,this._skipAdvance=!1,this._webGLRenderStyle=createjs.DisplayObject._StageGL_SPRITE,null!=t&&this.gotoAndPlay(t)}var t=createjs.extend(e,createjs.DisplayObject);t.initialize=e,t.isVisible=function(){var e=this.cacheCanvas||this.spriteSheet.complete;return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&e)},t.draw=function(e,t){if(this.DisplayObject_draw(e,t))return!0;this._normalizeFrame();var a=this.spriteSheet.getFrame(0|this._currentFrame);if(!a)return!1;var r=a.rect;return r.width&&r.height&&e.drawImage(a.image,r.x,r.y,r.width,r.height,-a.regX,-a.regY,r.width,r.height),!0},t.play=function(){this.paused=!1},t.stop=function(){this.paused=!0},t.gotoAndPlay=function(e){this.paused=!1,this._skipAdvance=!0,this._goto(e)},t.gotoAndStop=function(e){this.paused=!0,this._goto(e)},t.advance=function(e){var t=this.framerate||this.spriteSheet.framerate,a=t&&null!=e?e/(1e3/t):1;this._normalizeFrame(a)},t.getBounds=function(){return this.DisplayObject_getBounds()||this.spriteSheet.getFrameBounds(this.currentFrame,this._rectangle)},t.clone=function(){return this._cloneProps(new e(this.spriteSheet))},t.toString=function(){return"[Sprite (name="+this.name+")]"},t._cloneProps=function(e){return this.DisplayObject__cloneProps(e),e.currentFrame=this.currentFrame,e.currentAnimation=this.currentAnimation,e.paused=this.paused,e.currentAnimationFrame=this.currentAnimationFrame,e.framerate=this.framerate,e._animation=this._animation,e._currentFrame=this._currentFrame,e._skipAdvance=this._skipAdvance,e},t._tick=function(e){this.paused||(this._skipAdvance||this.advance(e&&e.delta),this._skipAdvance=!1),this.DisplayObject__tick(e)},t._normalizeFrame=function(t){t=t||0;var r,n=this._animation,i=this.paused,o=this._currentFrame;if(n){var d=n.speed||1,l=this.currentAnimationFrame;if(r=n.frames.length,l+t*d>=r){var u=n.next;if(this._dispatchAnimationEnd(n,o,i,u,r-1))return;if(u)return this._goto(u,t-(r-l)/d);this.paused=!0,l=n.frames.length-1}else l+=t*d;this.currentAnimationFrame=l,this._currentFrame=n.frames[0|l]}else if(o=this._currentFrame+=t,r=this.spriteSheet.getNumFrames(),o>=r&&0<r&&!this._dispatchAnimationEnd(n,o,i,r-1)&&(this._currentFrame-=r)>=r)return this._normalizeFrame();o=0|this._currentFrame,this.currentFrame!=o&&(this.currentFrame=o,this.dispatchEvent("change"))},t._dispatchAnimationEnd=function(t,a,r,n,i){var e=t?t.name:null;if(this.hasEventListener("animationend")){var o=new createjs.Event("animationend");o.name=e,o.next=n,this.dispatchEvent(o)}var d=this._animation!=t||this._currentFrame!=a;return d||r||!this.paused||(this.currentAnimationFrame=i,d=!0),d},t._goto=function(e,t){if(this.currentAnimationFrame=0,isNaN(e)){var a=this.spriteSheet.getAnimation(e);a&&(this._animation=a,this.currentAnimation=e,this._normalizeFrame(t))}else this.currentAnimation=this._animation=null,this._currentFrame=e,this._normalizeFrame()},createjs.Sprite=createjs.promote(e,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.DisplayObject_constructor(),this.graphics=e?e:new createjs.Graphics}var t=createjs.extend(e,createjs.DisplayObject);t.isVisible=function(){var e=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&e)},t.draw=function(e,t){return!!this.DisplayObject_draw(e,t)||(this.graphics.draw(e,this),!0)},t.clone=function(t){var a=t&&this.graphics?this.graphics.clone():this.graphics;return this._cloneProps(new e(a))},t.toString=function(){return"[Shape (name="+this.name+")]"},createjs.Shape=createjs.promote(e,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function t(e,t,a){this.DisplayObject_constructor(),this.text=e,this.font=t,this.color=a,this.textAlign="left",this.textBaseline="top",this.maxWidth=null,this.outline=0,this.lineHeight=0,this.lineWidth=null}var e=createjs.extend(t,createjs.DisplayObject),a=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");a.getContext&&(t._workingContext=a.getContext("2d"),a.width=a.height=1),t.H_OFFSETS={start:0,left:0,center:-.5,end:-1,right:-1},t.V_OFFSETS={top:0,hanging:-.01,middle:-.4,alphabetic:-.8,ideographic:-.85,bottom:-1},e.isVisible=function(){var e=this.cacheCanvas||null!=this.text&&""!==this.text;return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&e)},e.draw=function(e,t){if(this.DisplayObject_draw(e,t))return!0;var a=this.color||"#000";return this.outline?(e.strokeStyle=a,e.lineWidth=1*this.outline):e.fillStyle=a,this._drawText(this._prepContext(e)),!0},e.getMeasuredWidth=function(){return this._getMeasuredWidth(this.text)},e.getMeasuredLineHeight=function(){return 1.2*this._getMeasuredWidth("M")},e.getMeasuredHeight=function(){return this._drawText(null,{}).height},e.getBounds=function(){var a=this.DisplayObject_getBounds();if(a)return a;if(null==this.text||""===this.text)return null;var r=this._drawText(null,{}),n=this.maxWidth&&this.maxWidth<r.width?this.maxWidth:r.width,i=n*t.H_OFFSETS[this.textAlign||"left"],e=this.lineHeight||this.getMeasuredLineHeight(),o=e*t.V_OFFSETS[this.textBaseline||"top"];return this._rectangle.setValues(i,o,n,r.height)},e.getMetrics=function(){var e={lines:[]};return e.lineHeight=this.lineHeight||this.getMeasuredLineHeight(),e.vOffset=e.lineHeight*t.V_OFFSETS[this.textBaseline||"top"],this._drawText(null,e,e.lines)},e.clone=function(){return this._cloneProps(new t(this.text,this.font,this.color))},e.toString=function(){return"[Text (text="+(20<this.text.length?this.text.substr(0,17)+"...":this.text)+")]"},e._cloneProps=function(e){return this.DisplayObject__cloneProps(e),e.textAlign=this.textAlign,e.textBaseline=this.textBaseline,e.maxWidth=this.maxWidth,e.outline=this.outline,e.lineHeight=this.lineHeight,e.lineWidth=this.lineWidth,e},e._prepContext=function(e){return e.font=this.font||"10px sans-serif",e.textAlign=this.textAlign||"left",e.textBaseline=this.textBaseline||"top",e.lineJoin="miter",e.miterLimit=2.5,e},e._drawText=function(a,r,u){var d=!!a;d||(a=t._workingContext,a.save(),this._prepContext(a));for(var e=this.lineHeight||this.getMeasuredLineHeight(),c=0,_=0,f=(this.text+"").split(/(?:\r\n|\r|\n)/),i=0,T=f.length;T>i;i++){var y=f[i],x=null;if(null!=this.lineWidth&&(x=a.measureText(y).width)>this.lineWidth){var E=y.split(/(\s)/);y=E[0],x=a.measureText(y).width;for(var n,S=1,v=E.length;v>S;S+=2)n=a.measureText(E[S]+E[S+1]).width,x+n>this.lineWidth?(d&&this._drawTextLine(a,y,_*e),u&&u.push(y),x>c&&(c=x),y=E[S+1],x=a.measureText(y).width,_++):(y+=E[S]+E[S+1],x+=n)}d&&this._drawTextLine(a,y,_*e),u&&u.push(y),r&&null==x&&(x=a.measureText(y).width),x>c&&(c=x),_++}return r&&(r.width=c,r.height=_*e),d||a.restore(),r},e._drawTextLine=function(e,t,a){this.outline?e.strokeText(t,0,a,this.maxWidth||65535):e.fillText(t,0,a,this.maxWidth||65535)},e._getMeasuredWidth=function(e){var a=t._workingContext;a.save();var r=this._prepContext(a).measureText(e).width;return a.restore(),r},createjs.Text=createjs.promote(t,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function t(e,t){this.Container_constructor(),this.text=e||"",this.spriteSheet=t,this.lineHeight=0,this.letterSpacing=0,this.spaceWidth=0,this._oldProps={text:0,spriteSheet:0,lineHeight:0,letterSpacing:0,spaceWidth:0},this._oldStage=null,this._drawAction=null}var e=createjs.extend(t,createjs.Container);t.maxPoolSize=100,t._spritePool=[],e.draw=function(e,t){this.DisplayObject_draw(e,t)||(this._updateState(),this.Container_draw(e,t))},e.getBounds=function(){return this._updateText(),this.Container_getBounds()},e.isVisible=function(){var e=this.cacheCanvas||this.spriteSheet&&this.spriteSheet.complete&&this.text;return!!(this.visible&&0<this.alpha&&0!==this.scaleX&&0!==this.scaleY&&e)},e.clone=function(){return this._cloneProps(new t(this.text,this.spriteSheet))},e.addChild=e.addChildAt=e.removeChild=e.removeChildAt=e.removeAllChildren=function(){},e._updateState=function(){this._updateText()},e._cloneProps=function(e){return this.Container__cloneProps(e),e.lineHeight=this.lineHeight,e.letterSpacing=this.letterSpacing,e.spaceWidth=this.spaceWidth,e},e._getFrameIndex=function(e,t){var a,r=t.getAnimation(e);return r||(e!=(a=e.toUpperCase())||e!=(a=e.toLowerCase())||(a=null),a&&(r=t.getAnimation(a))),r&&r.frames[0]},e._getFrame=function(e,t){var a=this._getFrameIndex(e,t);return null==a?a:t.getFrame(a)},e._getLineHeight=function(e){var t=this._getFrame("1",e)||this._getFrame("T",e)||this._getFrame("L",e)||e.getFrame(0);return t?t.rect.height:1},e._getSpaceWidth=function(e){var t=this._getFrame("1",e)||this._getFrame("l",e)||this._getFrame("e",e)||this._getFrame("a",e)||e.getFrame(0);return t?t.rect.width:1},e._updateText=function(){var a,u=0,_=0,T=this._oldProps,e=!1,y=this.spaceWidth,x=this.lineHeight,E=this.spriteSheet,i=t._spritePool,S=this.children,v=0,P=S.length;for(var R in T)T[R]!=this[R]&&(T[R]=this[R],e=!0);if(e){var n=!!this._getFrame(" ",E);n||y||(y=this._getSpaceWidth(E)),x||(x=this._getLineHeight(E));for(var o,A=0,L=this.text.length;L>A;A++)if(o=this.text.charAt(A),!(" "!=o||n))u+=y;else if("\n"!=o&&"\r"!=o){var w=this._getFrameIndex(o,E);null!=w&&(P>v?a=S[v]:(S.push(a=i.length?i.pop():new createjs.Sprite),a.parent=this,P++),a.spriteSheet=E,a.gotoAndStop(w),a.x=u,a.y=_,v++,u+=a.getBounds().width+this.letterSpacing)}else"\r"==o&&"\n"==this.text.charAt(A+1)&&A++,u=0,_+=x;for(;P>v;)i.push(a=S.pop()),a.parent=null,P--;i.length>t.maxPoolSize&&(i.length=t.maxPoolSize)}},createjs.BitmapText=createjs.promote(t,"Container")}(),this.createjs=this.createjs||{},function(){"use strict";function t(a){this.Container_constructor(),t.inited||t.init();var r,n,i,o;a instanceof String||1<arguments.length?(r=a,n=arguments[1],i=arguments[2],o=arguments[3],null==i&&(i=-1),a=null):a&&(r=a.mode,n=a.startPosition,i=a.loop,o=a.labels),a||(a={labels:o}),this.mode=r||t.INDEPENDENT,this.startPosition=n||0,this.loop=!0===i?-1:i||0,this.currentFrame=0,this.paused=a.paused||!1,this.actionsEnabled=!0,this.autoReset=!0,this.frameBounds=this.frameBounds||a.frameBounds,this.framerate=null,a.useTicks=a.paused=!0,this.timeline=new createjs.Timeline(a),this._synchOffset=0,this._rawPosition=-1,this._bound_resolveState=this._resolveState.bind(this),this._t=0,this._managed={}}function e(){throw"MovieClipPlugin cannot be instantiated."}var a=createjs.extend(t,createjs.Container);t.INDEPENDENT="independent",t.SINGLE_FRAME="single",t.SYNCHED="synched",t.inited=!1,t.init=function(){t.inited||(e.install(),t.inited=!0)},a._getLabels=function(){return this.timeline.getLabels()},a.getLabels=createjs.deprecate(a._getLabels,"MovieClip.getLabels"),a._getCurrentLabel=function(){return this.timeline.currentLabel},a.getCurrentLabel=createjs.deprecate(a._getCurrentLabel,"MovieClip.getCurrentLabel"),a._getDuration=function(){return this.timeline.duration},a.getDuration=createjs.deprecate(a._getDuration,"MovieClip.getDuration");try{Object.defineProperties(a,{labels:{get:a._getLabels},currentLabel:{get:a._getCurrentLabel},totalFrames:{get:a._getDuration},duration:{get:a._getDuration}})}catch(e){}a.initialize=t,a.isVisible=function(){return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY)},a.draw=function(e,t){return!!this.DisplayObject_draw(e,t)||(this._updateState(),this.Container_draw(e,t),!0)},a.play=function(){this.paused=!1},a.stop=function(){this.paused=!0},a.gotoAndPlay=function(e){this.paused=!1,this._goto(e)},a.gotoAndStop=function(e){this.paused=!0,this._goto(e)},a.advance=function(a){var r=t.INDEPENDENT;if(this.mode===r){for(var n=this,i=n.framerate;(n=n.parent)&&null===i;)n.mode===r&&(i=n._framerate);if(this._framerate=i,!this.paused){var o=null!==i&&-1!==i&&null!==a?a/(1e3/i)+this._t:1,l=0|o;for(this._t=o-l;l--;)this._updateTimeline(this._rawPosition+1,!1)}}},a.clone=function(){throw"MovieClip cannot be cloned."},a.toString=function(){return"[MovieClip (name="+this.name+")]"},a._updateState=function(){(-1===this._rawPosition||this.mode!==t.INDEPENDENT)&&this._updateTimeline(-1)},a._tick=function(e){this.advance(e&&e.delta),this.Container__tick(e)},a._goto=function(e){var t=this.timeline.resolve(e);null!=t&&(this._t=0,this._updateTimeline(t,!0))},a._reset=function(){this._rawPosition=-1,this._t=this.currentFrame=0,this.paused=!1},a._updateTimeline=function(a,r){var n=this.mode!==t.INDEPENDENT,i=this.timeline;n&&(a=this.startPosition+(this.mode===t.SINGLE_FRAME?0:this._synchOffset)),0>a&&(a=0),(this._rawPosition!==a||n)&&(this._rawPosition=a,i.loop=this.loop,i.setPosition(a,n||!this.actionsEnabled,r,this._bound_resolveState))},a._renderFirstFrame=function(){var e=this.timeline,t=e.rawPosition;e.setPosition(0,!0,!0,this._bound_resolveState),e.rawPosition=t},a._resolveState=function(){var t=this.timeline;for(var a in this.currentFrame=t.position,this._managed)this._managed[a]=1;for(var r=t.tweens,n=0,o=r.length;o>n;n++){var e=r[n],l=e.target;if(l!==this&&!e.passive){var u=e._stepPosition;l instanceof createjs.DisplayObject?this._addManagedChild(l,u):this._setState(l.state,u)}}var c=this.children;for(n=c.length-1;0<=n;n--){var i=c[n].id;1===this._managed[i]&&(this.removeChildAt(n),delete this._managed[i])}},a._setState=function(t,a){if(t)for(var r=t.length-1;0<=r;r--){var n=t[r],i=n.t,e=n.p;for(var o in e)i[o]=e[o];this._addManagedChild(i,a)}},a._addManagedChild=function(e,a){e._off||(this.addChildAt(e,0),e instanceof t&&(e._synchOffset=a,e.mode===t.INDEPENDENT&&e.autoReset&&!this._managed[e.id]&&e._reset()),this._managed[e.id]=2)},a._getBounds=function(e,t){var a=this.DisplayObject_getBounds();return a||this.frameBounds&&(a=this._rectangle.copy(this.frameBounds[this.currentFrame])),a?this._transformBounds(a,e,t):this.Container__getBounds(e,t)},createjs.MovieClip=createjs.promote(t,"Container"),e.priority=100,e.ID="MovieClip",e.install=function(){createjs.Tween._installPlugin(e)},e.init=function(a,r){"startPosition"===r&&a.target instanceof t&&a._addPlugin(e)},e.step=function(){},e.change=function(t,a,r,n,i){return"startPosition"===r?1===i?a.props[r]:a.prev.props[r]:void 0}}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"SpriteSheetUtils cannot be instantiated"}var e=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");e.getContext&&(t._workingCanvas=e,t._workingContext=e.getContext("2d"),e.width=e.height=1),t.extractFrame=function(a,r){isNaN(r)&&(r=a.getAnimation(r).frames[0]);var n=a.getFrame(r);if(!n)return null;var i=n.rect,e=t._workingCanvas;e.width=i.width,e.height=i.height,t._workingContext.drawImage(n.image,i.x,i.y,i.width,i.height,0,0,i.width,i.height);var o=document.createElement("img");return o.src=e.toDataURL("image/png"),o},t.addFlippedFrames=createjs.deprecate(null,"SpriteSheetUtils.addFlippedFrames"),t.mergeAlpha=createjs.deprecate(null,"SpriteSheetUtils.mergeAlpha"),t._flip=function(a,_,c,d){for(var e,T=a._images,f=t._workingCanvas,g=t._workingContext,h=T.length/_,i=0;h>i;i++){e=T[i],e.__tmp=i,g.setTransform(1,0,0,1,0,0),g.clearRect(0,0,f.width+1,f.height+1),f.width=e.width,f.height=e.height,g.setTransform(c?-1:1,0,0,d?-1:1,c?e.width:0,d?e.height:0),g.drawImage(e,0,0);var b=document.createElement("img");b.src=f.toDataURL("image/png"),b.width=e.width||e.naturalWidth,b.height=e.height||e.naturalHeight,T.push(b)}var y=a._frames,E=y.length/_;for(i=0;E>i;i++){e=y[i];var n=e.rect.clone();b=T[e.image.__tmp+h*_];var o={image:b,rect:n,regX:e.regX,regY:e.regY};c&&(n.x=(b.width||b.naturalWidth)-n.x-n.width,o.regX=n.width-e.regX),d&&(n.y=(b.height||b.naturalHeight)-n.y-n.height,o.regY=n.height-e.regY),y.push(o)}var p="_"+(c?"h":"")+(d?"v":""),S=a._animations,r=a._data,P=S.length/_;for(i=0;P>i;i++){var R=S[i];e=r[R];var u={name:R+p,speed:e.speed,next:e.next,frames:[]};e.next&&(u.next+=p),y=e.frames;for(var v=0,A=y.length;A>v;v++)u.frames.push(y[v]+E*_);r[u.name]=u,S.push(u.name)}},createjs.SpriteSheetUtils=t}(),this.createjs=this.createjs||{},function(){"use strict";function _(e){this.EventDispatcher_constructor(),this.maxWidth=2048,this.maxHeight=2048,this.spriteSheet=null,this.scale=1,this.padding=1,this.timeSlice=.3,this.progress=-1,this.framerate=e||0,this._frames=[],this._animations={},this._data=null,this._nextFrameIndex=0,this._index=0,this._timerID=null,this._scale=1}var e=createjs.extend(_,createjs.EventDispatcher);_.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions",_.ERR_RUNNING="a build is already running",e.addFrame=function(t,a,r,n,e){if(this._data)throw _.ERR_RUNNING;var i=a||t.bounds||t.nominalBounds;return!i&&t.getBounds&&(i=t.getBounds()),i?(r=r||1,this._frames.push({source:t,sourceRect:i,scale:r,funct:n,data:e,index:this._frames.length,height:i.height*r})-1):null},e.addAnimation=function(t,a,r,n){if(this._data)throw _.ERR_RUNNING;this._animations[t]={frames:a,next:r,speed:n}},e.addMovieClip=function(a,T,c,d,e,f){if(this._data)throw _.ERR_RUNNING;var g=a.frameBounds,h=T||a.bounds||a.nominalBounds;if(!h&&a.getBounds&&(h=a.getBounds()),h||g){var b,y,x=this._frames.length,l=a.timeline.duration;for(b=0;l>b;b++){var m=g&&g[b]?g[b]:h;this.addFrame(a,m,c,this._setupMovieClipFrame,{i:b,f:d,d:e})}var n=a.timeline._labels,o=[];for(var p in n)o.push({index:n[p],label:p});if(o.length)for(o.sort(function(e,t){return e.index-t.index}),b=0,y=o.length;y>b;b++){for(var E=o[b].label,S=x+o[b].index,P=x+(b==y-1?l:o[b+1].index),t=[],u=S;P>u;u++)t.push(u);(!f||(E=f(E,a,S,P)))&&this.addAnimation(E,t,!0)}}},e.build=function(){if(this._data)throw _.ERR_RUNNING;for(this._startBuild();this._drawNext(););return this._endBuild(),this.spriteSheet},e.buildAsync=function(e){if(this._data)throw _.ERR_RUNNING;this.timeSlice=e,this._startBuild();var t=this;this._timerID=setTimeout(function(){t._run()},50-50*Math.max(.01,Math.min(.99,this.timeSlice||.3)))},e.stopAsync=function(){clearTimeout(this._timerID),this._data=null},e.clone=function(){throw"SpriteSheetBuilder cannot be cloned."},e.toString=function(){return"[SpriteSheetBuilder]"},e._startBuild=function(){var t=this.padding||0;this.progress=0,this.spriteSheet=null,this._index=0,this._scale=this.scale;var a=[];this._data={images:[],frames:a,framerate:this.framerate,animations:this._animations};var r=this._frames.slice();if(r.sort(function(e,t){return e.height<=t.height?-1:1}),r[r.length-1].height+2*t>this.maxHeight)throw _.ERR_DIMENSIONS;for(var n,o=0,d=0,l=0;r.length;)if(n=this._fillRow(r,o,l,a,t),n.w>d&&(d=n.w),o+=n.h,!n.h||!r.length){var u=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");u.width=this._getSize(d,this.maxWidth),u.height=this._getSize(o,this.maxHeight),this._data.images[l]=u,n.h||(d=o=0,l++)}},e._setupMovieClipFrame=function(e,t){var a=e.actionsEnabled;e.actionsEnabled=!1,e.gotoAndStop(t.i),e.actionsEnabled=a,t.f&&t.f(e,t.d,t.i)},e._getSize=function(e,t){for(var a=4;Math.pow(2,++a)<e;);return Math.min(t,Math.pow(2,a))},e._fillRow=function(a,u,T,d,e){var f=this.maxWidth,g=this.maxHeight;u+=e;for(var h=g-u,i=e,b=0,y=a.length-1;0<=y;y--){var x=a[y],m=this._scale*x.scale,n=x.sourceRect,o=x.source,p=Math.floor(m*n.x-e),E=Math.floor(m*n.y-e),r=Math.ceil(m*n.height+2*e),S=Math.ceil(m*n.width+2*e);if(S>f)throw _.ERR_DIMENSIONS;r>h||i+S>f||(x.img=T,x.rect=new createjs.Rectangle(i,u,S,r),b=b||r,a.splice(y,1),d[x.index]=[i,u,S,r,T,Math.round(-p+m*o.regX-e),Math.round(-E+m*o.regY-e)],i+=S)}return{w:i,h:b}},e._endBuild=function(){this.spriteSheet=new createjs.SpriteSheet(this._data),this._data=null,this.progress=1,this.dispatchEvent("complete")},e._run=function(){for(var t=50*Math.max(.01,Math.min(.99,this.timeSlice||.3)),a=new Date().getTime()+t,r=!1;a>new Date().getTime();)if(!this._drawNext()){r=!0;break}if(r)this._endBuild();else{var n=this;this._timerID=setTimeout(function(){n._run()},50-t)}var i=this.progress=this._index/this._frames.length;if(this.hasEventListener("progress")){var e=new createjs.Event("progress");e.progress=i,this.dispatchEvent(e)}},e._drawNext=function(){var t=this._frames[this._index],a=t.scale*this._scale,r=t.rect,n=t.sourceRect,i=this._data.images[t.img],e=i.getContext("2d");return t.funct&&t.funct(t.source,t.data),e.save(),e.beginPath(),e.rect(r.x,r.y,r.width,r.height),e.clip(),e.translate(Math.ceil(r.x-n.x*a),Math.ceil(r.y-n.y*a)),e.scale(a,a),t.source.draw(e),e.restore(),++this._index<this._frames.length},createjs.SpriteSheetBuilder=createjs.promote(_,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.DisplayObject_constructor(),"string"==typeof e&&(e=document.getElementById(e)),this.mouseEnabled=!1;var t=e.style;t.position="absolute",t.transformOrigin=t.WebkitTransformOrigin=t.msTransformOrigin=t.MozTransformOrigin=t.OTransformOrigin="0% 0%",this.htmlElement=e,this._oldProps=null,this._oldStage=null,this._drawAction=null}var t=createjs.extend(e,createjs.DisplayObject);t.isVisible=function(){return null!=this.htmlElement},t.draw=function(){return!0},t.cache=function(){},t.uncache=function(){},t.updateCache=function(){},t.hitTest=function(){},t.localToGlobal=function(){},t.globalToLocal=function(){},t.localToLocal=function(){},t.clone=function(){throw"DOMElement cannot be cloned."},t.toString=function(){return"[DOMElement (name="+this.name+")]"},t._tick=function(e){var t=this.stage;t&&t!==this._oldStage&&(this._drawAction&&t.off("drawend",this._drawAction),this._drawAction=t.on("drawend",this._handleDrawEnd,this),this._oldStage=t),this.DisplayObject__tick(e)},t._handleDrawEnd=function(){var t=this.htmlElement;if(t){var a=t.style,r=this.getConcatenatedDisplayProps(this._props),n=r.matrix,e=r.visible?"visible":"hidden";if(e!=a.visibility&&(a.visibility=e),r.visible){var i=this._oldProps,o=i&&i.matrix;if(!o||!o.equals(n)){var d="matrix("+(0|n.a*10000)/10000+","+(0|n.b*10000)/10000+","+(0|n.c*10000)/10000+","+(0|n.d*10000)/10000+","+(0|n.tx+.5);a.transform=a.WebkitTransform=a.OTransform=a.msTransform=d+","+(0|n.ty+.5)+")",a.MozTransform=d+"px,"+(0|n.ty+.5)+"px)",i||(i=this._oldProps=new createjs.DisplayProps(!0,null)),i.matrix.copy(n)}i.alpha!=r.alpha&&(a.opacity=""+(0|r.alpha*10000)/10000,i.alpha=r.alpha)}}},createjs.DOMElement=createjs.promote(e,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this.usesContext=!1,this._multiPass=null,this.VTX_SHADER_BODY=null,this.FRAG_SHADER_BODY=null}var t=e.prototype;t.getBounds=function(e){return e},t.shaderParamSetup=function(){},t.applyFilter=function(t,a,r,n,o,e,d,l){e=e||t,null==d&&(d=a),null==l&&(l=r);try{var u=t.getImageData(a,r,n,o)}catch(e){return!1}return!!this._applyFilter(u)&&(e.putImageData(u,d,l),!0)},t.toString=function(){return"[Filter]"},t.clone=function(){return new e},t._applyFilter=function(){return!0},createjs.Filter=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this.width=void 0,this.height=void 0,this.x=void 0,this.y=void 0,this.scale=1,this.offX=0,this.offY=0,this.cacheID=0,this._filterOffX=0,this._filterOffY=0,this._cacheDataURLID=0,this._cacheDataURL=null,this._drawWidth=0,this._drawHeight=0}var t=e.prototype;e.getFilterBounds=function(t,a){a||(a=new createjs.Rectangle);var r=t.filters,n=r&&r.length;if(0>=!!n)return a;for(var i,o=0;n>o;o++)if(i=r[o],i&&i.getBounds){var d=i.getBounds();d&&(0==o?a.setValues(d.x,d.y,d.width,d.height):a.extend(d.x,d.y,d.width,d.height))}return a},t.toString=function(){return"[BitmapCache]"},t.define=function(t,a,r,n,i,e,o){if(!t)throw"No symbol to cache";this._options=o,this.target=t,this.width=1<=n?n:1,this.height=1<=i?i:1,this.x=a||0,this.y=r||0,this.scale=e||1,this.update()},t.update=function(t){if(!this.target)throw"define() must be called before update()";var a=e.getFilterBounds(this.target),r=this.target.cacheCanvas;this._drawWidth=Math.ceil(this.width*this.scale)+a.width,this._drawHeight=Math.ceil(this.height*this.scale)+a.height,r&&this._drawWidth==r.width&&this._drawHeight==r.height||this._updateSurface(),this._filterOffX=a.x,this._filterOffY=a.y,this.offX=this.x*this.scale+this._filterOffX,this.offY=this.y*this.scale+this._filterOffY,this._drawToCache(t),this.cacheID=this.cacheID?this.cacheID+1:1},t.release=function(){if(this._webGLCache)this._webGLCache.isCacheControlled||(this.__lastRT&&(this.__lastRT=void 0),this.__rtA&&this._webGLCache._killTextureObject(this.__rtA),this.__rtB&&this._webGLCache._killTextureObject(this.__rtB),this.target&&this.target.cacheCanvas&&this._webGLCache._killTextureObject(this.target.cacheCanvas)),this._webGLCache=!1;else{var e=this.target.stage;e instanceof createjs.StageGL&&e.releaseTexture(this.target.cacheCanvas)}this.target=this.target.cacheCanvas=null,this.cacheID=this._cacheDataURLID=this._cacheDataURL=void 0,this.width=this.height=this.x=this.y=this.offX=this.offY=0,this.scale=1},t.getCacheDataURL=function(){var e=this.target&&this.target.cacheCanvas;return e?(this.cacheID!=this._cacheDataURLID&&(this._cacheDataURLID=this.cacheID,this._cacheDataURL=e.toDataURL?e.toDataURL():null),this._cacheDataURL):null},t.draw=function(e){return!!this.target&&(e.drawImage(this.target.cacheCanvas,this.x+this._filterOffX/this.scale,this.y+this._filterOffY/this.scale,this._drawWidth/this.scale,this._drawHeight/this.scale),!0)},t._updateSurface=function(){if(!this._options||!this._options.useGL){var e=this.target.cacheCanvas;return e||(e=this.target.cacheCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")),e.width=this._drawWidth,void(e.height=this._drawHeight)}if(!this._webGLCache)if("stage"===this._options.useGL){if(!this.target.stage||!this.target.stage.isWebGL){var t="Cannot use 'stage' for cache because the object's parent stage is ";throw t+=this.target.stage?"non WebGL.":"not set, please addChild to the correct stage."}this.target.cacheCanvas=!0,this._webGLCache=this.target.stage}else if("new"===this._options.useGL)this.target.cacheCanvas=document.createElement("canvas"),this._webGLCache=new createjs.StageGL(this.target.cacheCanvas,{antialias:!0,transparent:!0,autoPurge:-1}),this._webGLCache.isCacheControlled=!0;else{if(!(this._options.useGL instanceof createjs.StageGL))throw"Invalid option provided to useGL, expected ['stage', 'new', StageGL, undefined], got "+this._options.useGL;this.target.cacheCanvas=!0,this._webGLCache=this._options.useGL,this._webGLCache.isCacheControlled=!0}var e=this.target.cacheCanvas,r=this._webGLCache;r.isCacheControlled&&(e.width=this._drawWidth,e.height=this._drawHeight,r.updateViewport(this._drawWidth,this._drawHeight)),this.target.filters?(r.getTargetRenderTexture(this.target,this._drawWidth,this._drawHeight),r.getTargetRenderTexture(this.target,this._drawWidth,this._drawHeight)):r.isCacheControlled||r.getTargetRenderTexture(this.target,this._drawWidth,this._drawHeight)},t._drawToCache=function(t){var a=this.target.cacheCanvas,r=this.target,n=this._webGLCache;if(n)n.cacheDraw(r,r.filters,this),a=this.target.cacheCanvas,a.width=this._drawWidth,a.height=this._drawHeight;else{var i=a.getContext("2d");t||i.clearRect(0,0,this._drawWidth+1,this._drawHeight+1),i.save(),i.globalCompositeOperation=t,i.setTransform(this.scale,0,0,this.scale,-this._filterOffX,-this._filterOffY),i.translate(-this.x,-this.y),r.draw(i,!0),i.restore(),r.filters&&r.filters.length&&this._applyFilters(i)}a._invalid=!0},t._applyFilters=function(t){var a,r=this.target.filters,n=this._drawWidth,i=this._drawHeight,e=0,o=r[e];do o.usesContext?(a&&(t.putImageData(a,0,0),a=null),o.applyFilter(t,0,0,n,i)):(a||(a=t.getImageData(0,0,n,i)),o._applyFilter(a)),o=null===o._multiPass?r[++e]:o._multiPass;while(o);a&&t.putImageData(a,0,0)},createjs.BitmapCache=e}(),this.createjs=this.createjs||{},function(){"use strict";function _(e,t,a){this.Filter_constructor(),this._blurX=e,this._blurXTable=[],this._lastBlurX=null,this._blurY=t,this._blurYTable=[],this._lastBlurY=null,this._quality,this._lastQuality=null,this.FRAG_SHADER_TEMPLATE="uniform float xWeight[{{blurX}}];uniform float yWeight[{{blurY}}];uniform vec2 textureOffset;void main(void) {vec4 color = vec4(0.0);float xAdj = ({{blurX}}.0-1.0)/2.0;float yAdj = ({{blurY}}.0-1.0)/2.0;vec2 sampleOffset;for(int i=0; i<{{blurX}}; i++) {for(int j=0; j<{{blurY}}; j++) {sampleOffset = vRenderCoord + (textureOffset * vec2(float(i)-xAdj, float(j)-yAdj));color += texture2D(uSampler, sampleOffset) * (xWeight[i] * yWeight[j]);}}gl_FragColor = color.rgba;}",(isNaN(a)||1>a)&&(a=1),this.setQuality(0|a)}var e=createjs.extend(_,createjs.Filter);e.getBlurX=function(){return this._blurX},e.getBlurY=function(){return this._blurY},e.setBlurX=function(e){(isNaN(e)||0>e)&&(e=0),this._blurX=e},e.setBlurY=function(e){(isNaN(e)||0>e)&&(e=0),this._blurY=e},e.getQuality=function(){return this._quality},e.setQuality=function(e){(isNaN(e)||0>e)&&(e=0),this._quality=0|e},e._getShader=function(){var e=this._lastBlurX!==this._blurX,t=this._lastBlurY!==this._blurY,a=this._lastQuality!==this._quality;return e||t||a?((e||a)&&(this._blurXTable=this._getTable(this._blurX*this._quality)),(t||a)&&(this._blurYTable=this._getTable(this._blurY*this._quality)),this._updateShader(),this._lastBlurX=this._blurX,this._lastBlurY=this._blurY,void(this._lastQuality=this._quality)):this._compiledShader},e._setShader=function(){this._compiledShader};try{Object.defineProperties(e,{blurX:{get:e.getBlurX,set:e.setBlurX},blurY:{get:e.getBlurY,set:e.setBlurY},quality:{get:e.getQuality,set:e.setQuality},_builtShader:{get:e._getShader,set:e._setShader}})}catch(e){console.log(e)}e._getTable=function(t){if(1>=t)return[1];var a=[],r=Math.ceil(2*t);r+=r%2?0:1;for(var n,i=0|r/2,e=-i;i>=e;e++)n=e/i*4.2,a.push(1/Math.sqrt(2*Math.PI)*Math.pow(Math.E,-(Math.pow(n,2)/4)));var o=a.reduce(function(e,t){return e+t});return a.map(function(e){return e/o})},e._updateShader=function(){if(void 0!==this._blurX&&void 0!==this._blurY){var e=this.FRAG_SHADER_TEMPLATE;e=e.replace(/\{\{blurX\}\}/g,this._blurXTable.length.toFixed(0)),e=e.replace(/\{\{blurY\}\}/g,this._blurYTable.length.toFixed(0)),this.FRAG_SHADER_BODY=e}},e.shaderParamSetup=function(e,t,a){e.uniform1fv(e.getUniformLocation(a,"xWeight"),this._blurXTable),e.uniform1fv(e.getUniformLocation(a,"yWeight"),this._blurYTable),e.uniform2f(e.getUniformLocation(a,"textureOffset"),2/(t._viewportWidth*this._quality),2/(t._viewportHeight*this._quality))},_.MUL_TABLE=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1],_.SHG_TABLE=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9],e.getBounds=function(e){var t=0|this.blurX,a=0|this.blurY;if(0>=t&&0>=a)return e;var r=Math.pow(this.quality,.2);return(e||new createjs.Rectangle).pad(a*r+1,t*r+1,a*r+1,t*r+1)},e.clone=function(){return new _(this.blurX,this.blurY,this.quality)},e.toString=function(){return"[BlurFilter]"},e._applyFilter=function(a){var T=this._blurX>>1;if(isNaN(T)||0>T)return!1;var c=this._blurY>>1;if(isNaN(c)||0>c)return!1;if(0==T&&0==c)return!1;var d=this.quality;(isNaN(d)||1>d)&&(d=1),d|=0,3<d&&(d=3),1>d&&(d=1);var b=a.data,f=0,S=0,v=0,P=0,R=0,w=0,O=0,U=0,X=0,Y=0,V=0,W=0,Q=0,Z=0,$=0,ee=0|a.width,x=0|a.height,y=0|ee-1,z=0|x-1,A=0|T+1,B=0|c+1,C={r:0,b:0,g:0,a:0},D=C;for(v=1;(0|T+T+1)>v;v++)D=D.n={r:0,b:0,g:0,a:0};D.n=C;var te={r:0,b:0,g:0,a:0},F=te;for(v=1;(0|c+c+1)>v;v++)F=F.n={r:0,b:0,g:0,a:0};F.n=te;for(var ae=null,re=0|_.MUL_TABLE[T],I=0|_.SHG_TABLE[T],J=0|_.MUL_TABLE[c],K=0|_.SHG_TABLE[c];0<d--;){O=w=0;var L=re,ne=I;for(S=x;-1<--S;){for(U=A*(W=b[0|w]),X=A*(Q=b[0|w+1]),Y=A*(Z=b[0|w+2]),V=A*($=b[0|w+3]),D=C,v=A;-1<--v;)D.r=W,D.g=Q,D.b=Z,D.a=$,D=D.n;for(v=1;A>v;v++)P=0|w+((v>y?y:v)<<2),U+=D.r=b[P],X+=D.g=b[P+1],Y+=D.b=b[P+2],V+=D.a=b[P+3],D=D.n;for(ae=C,f=0;ee>f;f++)b[w++]=U*L>>>ne,b[w++]=X*L>>>ne,b[w++]=Y*L>>>ne,b[w++]=V*L>>>ne,P=O+((P=f+T+1)<y?P:y)<<2,U-=ae.r-(ae.r=b[P]),X-=ae.g-(ae.g=b[P+1]),Y-=ae.b-(ae.b=b[P+2]),V-=ae.a-(ae.a=b[P+3]),ae=ae.n;O+=ee}for(L=J,ne=K,f=0;ee>f;f++){for(w=0|f<<2,U=0|B*(W=b[w]),X=0|B*(Q=b[0|w+1]),Y=0|B*(Z=b[0|w+2]),V=0|B*($=b[0|w+3]),F=te,v=0;B>v;v++)F.r=W,F.g=Q,F.b=Z,F.a=$,F=F.n;for(R=ee,v=1;c>=v;v++)w=R+f<<2,U+=F.r=b[w],X+=F.g=b[w+1],Y+=F.b=b[w+2],V+=F.a=b[w+3],F=F.n,z>v&&(R+=ee);if(w=f,ae=te,0<d)for(S=0;x>S;S++)P=w<<2,b[P+3]=$=V*L>>>ne,0<$?(b[P]=U*L>>>ne,b[P+1]=X*L>>>ne,b[P+2]=Y*L>>>ne):b[P]=b[P+1]=b[P+2]=0,P=f+((P=S+B)<z?P:z)*ee<<2,U-=ae.r-(ae.r=b[P]),X-=ae.g-(ae.g=b[P+1]),Y-=ae.b-(ae.b=b[P+2]),V-=ae.a-(ae.a=b[P+3]),ae=ae.n,w+=ee;else for(S=0;x>S;S++)P=w<<2,b[P+3]=$=V*L>>>ne,0<$?($=255/$,b[P]=(U*L>>>ne)*$,b[P+1]=(X*L>>>ne)*$,b[P+2]=(Y*L>>>ne)*$):b[P]=b[P+1]=b[P+2]=0,P=f+((P=S+B)<z?P:z)*ee<<2,U-=ae.r-(ae.r=b[P]),X-=ae.g-(ae.g=b[P+1]),Y-=ae.b-(ae.b=b[P+2]),V-=ae.a-(ae.a=b[P+3]),ae=ae.n,w+=ee}}return!0},createjs.BlurFilter=createjs.promote(_,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.Filter_constructor(),this.alphaMap=e,this._alphaMap=null,this._mapData=null,this._mapTexture=null,this.FRAG_SHADER_BODY="uniform sampler2D uAlphaSampler;void main(void) {vec4 color = texture2D(uSampler, vRenderCoord);vec4 alphaMap = texture2D(uAlphaSampler, vTextureCoord);gl_FragColor = vec4(color.rgb, color.a * (alphaMap.r * ceil(alphaMap.a)));}"}var t=createjs.extend(e,createjs.Filter);t.shaderParamSetup=function(e,t,a){this._mapTexture||(this._mapTexture=e.createTexture()),e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,this._mapTexture),t.setTextureParams(e),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,this.alphaMap),e.uniform1i(e.getUniformLocation(a,"uAlphaSampler"),1)},t.clone=function(){var t=new e(this.alphaMap);return t._alphaMap=this._alphaMap,t._mapData=this._mapData,t},t.toString=function(){return"[AlphaMapFilter]"},t._applyFilter=function(t){if(!this.alphaMap)return!0;if(!this._prepAlphaMap())return!1;for(var a=t.data,r=this._mapData,n=0,i=a.length;i>n;n+=4)a[n+3]=r[n]||0;return!0},t._prepAlphaMap=function(){if(!this.alphaMap)return!1;if(this.alphaMap==this._alphaMap&&this._mapData)return!0;this._mapData=null;var e,t=this._alphaMap=this.alphaMap,r=t;t instanceof HTMLCanvasElement?e=r.getContext("2d"):(r=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"),r.width=t.width,r.height=t.height,e=r.getContext("2d"),e.drawImage(t,0,0));try{var n=e.getImageData(0,0,t.width,t.height)}catch(t){return!1}return this._mapData=n.data,!0},createjs.AlphaMapFilter=createjs.promote(e,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.Filter_constructor(),this.mask=e,this.usesContext=!0,this.FRAG_SHADER_BODY="uniform sampler2D uAlphaSampler;void main(void) {vec4 color = texture2D(uSampler, vRenderCoord);vec4 alphaMap = texture2D(uAlphaSampler, vTextureCoord);gl_FragColor = vec4(color.rgb, color.a * alphaMap.a);}"}var t=createjs.extend(e,createjs.Filter);t.shaderParamSetup=function(e,t,a){this._mapTexture||(this._mapTexture=e.createTexture()),e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,this._mapTexture),t.setTextureParams(e),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,this.mask),e.uniform1i(e.getUniformLocation(a,"uAlphaSampler"),1)},t.applyFilter=function(t,a,r,n,i,e,o,d){return!this.mask||(e=e||t,null==o&&(o=a),null==d&&(d=r),e.save(),!(t!=e)&&(e.globalCompositeOperation="destination-in",e.drawImage(this.mask,o,d),e.restore(),!0))},t.clone=function(){return new e(this.mask)},t.toString=function(){return"[AlphaMaskFilter]"},createjs.AlphaMaskFilter=createjs.promote(e,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function e(t,a,r,n,i,e,o,d){this.Filter_constructor(),this.redMultiplier=null==t?1:t,this.greenMultiplier=null==a?1:a,this.blueMultiplier=null==r?1:r,this.alphaMultiplier=null==n?1:n,this.redOffset=i||0,this.greenOffset=e||0,this.blueOffset=o||0,this.alphaOffset=d||0,this.FRAG_SHADER_BODY="uniform vec4 uColorMultiplier;uniform vec4 uColorOffset;void main(void) {vec4 color = texture2D(uSampler, vRenderCoord);gl_FragColor = (color * uColorMultiplier) + uColorOffset;}"}var t=createjs.extend(e,createjs.Filter);t.shaderParamSetup=function(e,t,a){e.uniform4f(e.getUniformLocation(a,"uColorMultiplier"),this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier),e.uniform4f(e.getUniformLocation(a,"uColorOffset"),this.redOffset/255,this.greenOffset/255,this.blueOffset/255,this.alphaOffset/255)},t.toString=function(){return"[ColorFilter]"},t.clone=function(){return new e(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},t._applyFilter=function(e){for(var t=e.data,a=t.length,r=0;a>r;r+=4)t[r]=t[r]*this.redMultiplier+this.redOffset,t[r+1]=t[r+1]*this.greenMultiplier+this.greenOffset,t[r+2]=t[r+2]*this.blueMultiplier+this.blueOffset,t[r+3]=t[r+3]*this.alphaMultiplier+this.alphaOffset;return!0},createjs.ColorFilter=createjs.promote(e,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,a,r){this.setColor(e,t,a,r)}var t=e.prototype;e.DELTA_INDEX=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],e.IDENTITY_MATRIX=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],e.LENGTH=e.IDENTITY_MATRIX.length,t.setColor=function(e,t,a,r){return this.reset().adjustColor(e,t,a,r)},t.reset=function(){return this.copy(e.IDENTITY_MATRIX)},t.adjustColor=function(e,t,a,r){return this.adjustHue(r),this.adjustContrast(t),this.adjustBrightness(e),this.adjustSaturation(a)},t.adjustBrightness=function(e){return 0==e||isNaN(e)?this:(e=this._cleanValue(e,255),this._multiplyMatrix([1,0,0,0,e,0,1,0,0,e,0,0,1,0,e,0,0,0,1,0,0,0,0,0,1]),this)},t.adjustContrast=function(t){if(0==t||isNaN(t))return this;t=this._cleanValue(t,100);var a;return 0>t?a=127+127*(t/100):(a=t%1,a=0==a?e.DELTA_INDEX[t]:e.DELTA_INDEX[t<<0]*(1-a)+e.DELTA_INDEX[(t<<0)+1]*a,a=127*a+127),this._multiplyMatrix([a/127,0,0,0,.5*(127-a),0,a/127,0,0,.5*(127-a),0,0,a/127,0,.5*(127-a),0,0,0,1,0,0,0,0,0,1]),this},t.adjustSaturation=function(t){if(0==t||isNaN(t))return this;t=this._cleanValue(t,100);var r=1+(0<t?3*t/100:t/100),n=.3086,i=.6094,o=.082;return this._multiplyMatrix([n*(1-r)+r,i*(1-r),o*(1-r),0,0,n*(1-r),i*(1-r)+r,o*(1-r),0,0,n*(1-r),i*(1-r),o*(1-r)+r,0,0,0,0,0,1,0,0,0,0,0,1]),this},t.adjustHue=function(t){if(0==t||isNaN(t))return this;t=this._cleanValue(t,180)/180*Math.PI;var r=Math.cos(t),n=Math.sin(t),i=.213,o=.715,e=.072;return this._multiplyMatrix([i+r*(1-i)+n*-i,o+r*-o+n*-o,e+r*-e+n*(1-e),0,0,i+r*-i+.143*n,o+r*(1-o)+.14*n,e+r*-e+-.283*n,0,0,i+r*-i+n*-(1-i),o+r*-o+n*o,e+r*(1-e)+n*e,0,0,0,0,0,1,0,0,0,0,0,1]),this},t.concat=function(t){return t=this._fixMatrix(t),t.length==e.LENGTH?(this._multiplyMatrix(t),this):this},t.clone=function(){return new e().copy(this)},t.toArray=function(){for(var t=[],a=0,r=e.LENGTH;r>a;a++)t[a]=this[a];return t},t.copy=function(t){for(var a=e.LENGTH,r=0;a>r;r++)this[r]=t[r];return this},t.toString=function(){return"[ColorMatrix]"},t._multiplyMatrix=function(t){var a,r,n,i=[];for(a=0;5>a;a++){for(r=0;5>r;r++)i[r]=this[r+5*a];for(r=0;5>r;r++){var e=0;for(n=0;5>n;n++)e+=t[r+5*n]*i[n];this[r+5*a]=e}}},t._cleanValue=function(e,t){return Math.min(t,Math.max(-t,e))},t._fixMatrix=function(t){return t instanceof e&&(t=t.toArray()),t.length<e.LENGTH?t=t.slice(0,t.length).concat(e.IDENTITY_MATRIX.slice(t.length,e.LENGTH)):t.length>e.LENGTH&&(t=t.slice(0,e.LENGTH)),t},createjs.ColorMatrix=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.Filter_constructor(),this.matrix=e,this.FRAG_SHADER_BODY="uniform mat4 uColorMatrix;uniform vec4 uColorMatrixOffset;void main(void) {vec4 color = texture2D(uSampler, vRenderCoord);mat4 m = uColorMatrix;vec4 newColor = vec4(0,0,0,0);newColor.r = color.r*m[0][0] + color.g*m[0][1] + color.b*m[0][2] + color.a*m[0][3];newColor.g = color.r*m[1][0] + color.g*m[1][1] + color.b*m[1][2] + color.a*m[1][3];newColor.b = color.r*m[2][0] + color.g*m[2][1] + color.b*m[2][2] + color.a*m[2][3];newColor.a = color.r*m[3][0] + color.g*m[3][1] + color.b*m[3][2] + color.a*m[3][3];gl_FragColor = newColor + uColorMatrixOffset;}"}var t=createjs.extend(e,createjs.Filter);t.shaderParamSetup=function(t,a,r){var n=this.matrix,i=new Float32Array([n[0],n[1],n[2],n[3],n[5],n[6],n[7],n[8],n[10],n[11],n[12],n[13],n[15],n[16],n[17],n[18]]);t.uniformMatrix4fv(t.getUniformLocation(r,"uColorMatrix"),!1,i),t.uniform4f(t.getUniformLocation(r,"uColorMatrixOffset"),n[4]/255,n[9]/255,n[14]/255,n[19]/255)},t.toString=function(){return"[ColorMatrixFilter]"},t.clone=function(){return new e(this.matrix)},t._applyFilter=function(_){for(var a,T,E,S,P=_.data,f=P.length,g=this.matrix,h=g[0],i=g[1],R=g[2],L=g[3],l=g[4],m=g[5],n=g[6],o=g[7],p=g[8],I=g[9],r=g[10],D=g[11],t=g[12],u=g[13],v=g[14],w=g[15],x=g[16],y=g[17],O=g[18],A=g[19],M=0;f>M;M+=4)a=P[M],T=P[M+1],E=P[M+2],S=P[M+3],P[M]=a*h+T*i+E*R+S*L+l,P[M+1]=a*m+T*n+E*o+S*p+I,P[M+2]=a*r+T*D+E*t+S*u+v,P[M+3]=a*w+T*x+E*y+S*O+A;return!0},createjs.ColorMatrixFilter=createjs.promote(e,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"Touch cannot be instantiated"}e.isSupported=function(){return!!("ontouchstart"in window||window.navigator.msPointerEnabled&&0<window.navigator.msMaxTouchPoints||window.navigator.pointerEnabled&&0<window.navigator.maxTouchPoints)},e.enable=function(t,a,r){return!!(t&&t.canvas&&e.isSupported())&&(!!t.__touch||(t.__touch={pointers:{},multitouch:!a,preventDefault:!r,count:0},"ontouchstart"in window?e._IOS_enable(t):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&e._IE_enable(t),!0))},e.disable=function(t){t&&("ontouchstart"in window?e._IOS_disable(t):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&e._IE_disable(t),delete t.__touch)},e._IOS_enable=function(t){var a=t.canvas,r=t.__touch.f=function(a){e._IOS_handleEvent(t,a)};a.addEventListener("touchstart",r,!1),a.addEventListener("touchmove",r,!1),a.addEventListener("touchend",r,!1),a.addEventListener("touchcancel",r,!1)},e._IOS_disable=function(e){var t=e.canvas;if(t){var a=e.__touch.f;t.removeEventListener("touchstart",a,!1),t.removeEventListener("touchmove",a,!1),t.removeEventListener("touchend",a,!1),t.removeEventListener("touchcancel",a,!1)}},e._IOS_handleEvent=function(t,a){if(t){t.__touch.preventDefault&&a.preventDefault&&a.preventDefault();for(var r=a.changedTouches,n=a.type,i=0,o=r.length;o>i;i++){var d=r[i],l=d.identifier;d.target==t.canvas&&("touchstart"==n?this._handleStart(t,l,a,d.pageX,d.pageY):"touchmove"==n?this._handleMove(t,l,a,d.pageX,d.pageY):("touchend"==n||"touchcancel"==n)&&this._handleEnd(t,l,a))}}},e._IE_enable=function(t){var a=t.canvas,r=t.__touch.f=function(a){e._IE_handleEvent(t,a)};void 0===window.navigator.pointerEnabled?(a.addEventListener("MSPointerDown",r,!1),window.addEventListener("MSPointerMove",r,!1),window.addEventListener("MSPointerUp",r,!1),window.addEventListener("MSPointerCancel",r,!1),t.__touch.preventDefault&&(a.style.msTouchAction="none")):(a.addEventListener("pointerdown",r,!1),window.addEventListener("pointermove",r,!1),window.addEventListener("pointerup",r,!1),window.addEventListener("pointercancel",r,!1),t.__touch.preventDefault&&(a.style.touchAction="none")),t.__touch.activeIDs={}},e._IE_disable=function(e){var t=e.__touch.f;void 0===window.navigator.pointerEnabled?(window.removeEventListener("MSPointerMove",t,!1),window.removeEventListener("MSPointerUp",t,!1),window.removeEventListener("MSPointerCancel",t,!1),e.canvas&&e.canvas.removeEventListener("MSPointerDown",t,!1)):(window.removeEventListener("pointermove",t,!1),window.removeEventListener("pointerup",t,!1),window.removeEventListener("pointercancel",t,!1),e.canvas&&e.canvas.removeEventListener("pointerdown",t,!1))},e._IE_handleEvent=function(t,a){if(t){t.__touch.preventDefault&&a.preventDefault&&a.preventDefault();var r=a.type,n=a.pointerId,i=t.__touch.activeIDs;if("MSPointerDown"==r||"pointerdown"==r){if(a.srcElement!=t.canvas)return;i[n]=!0,this._handleStart(t,n,a,a.pageX,a.pageY)}else i[n]&&("MSPointerMove"==r||"pointermove"==r?this._handleMove(t,n,a,a.pageX,a.pageY):("MSPointerUp"==r||"MSPointerCancel"==r||"pointerup"==r||"pointercancel"==r)&&(delete i[n],this._handleEnd(t,n,a)))}},e._handleStart=function(t,a,r,n,i){var e=t.__touch;if(e.multitouch||!e.count){var o=e.pointers;o[a]||(o[a]=!0,e.count++,t._handlePointerDown(a,r,n,i))}},e._handleMove=function(t,a,r,n,i){t.__touch.pointers[a]&&t._handlePointerMove(a,r,n,i)},e._handleEnd=function(t,a,r){var n=t.__touch,i=n.pointers;i[a]&&(n.count--,t._handlePointerUp(a,r,!0),delete i[a])},createjs.Touch=e}(),this.createjs=this.createjs||{},function(){"use strict";var e=createjs.EaselJS=createjs.EaselJS||{};e.version="1.0.0",e.buildDate="Thu, 12 Oct 2017 16:34:10 GMT"}(),this.createjs=this.createjs||{},function(){"use strict";var e=createjs.PreloadJS=createjs.PreloadJS||{};e.version="1.0.0",e.buildDate="Thu, 12 Oct 2017 16:34:05 GMT"}(),this.createjs=this.createjs||{},function(){"use strict";createjs.proxy=function(e,t){var a=Array.prototype.slice.call(arguments,2);return function(){return e.apply(t,Array.prototype.slice.call(arguments,0).concat(a))}}}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,a){this.Event_constructor("error"),this.title=e,this.message=t,this.data=a}var t=createjs.extend(e,createjs.Event);t.clone=function(){return new createjs.ErrorEvent(this.title,this.message,this.data)},createjs.ErrorEvent=createjs.promote(e,"Event")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.Event_constructor("progress"),this.loaded=e,this.total=null==t?1:t,this.progress=0==t?0:this.loaded/this.total}var t=createjs.extend(e,createjs.Event);t.clone=function(){return new createjs.ProgressEvent(this.loaded,this.total)},createjs.ProgressEvent=createjs.promote(e,"Event")}(window),function(){function u(e,a){function _(e){if(_[e]!==v)return _[e];var t;if("bug-string-char-index"==e)t="a"!="a";else if("json"==e)t=_("json-stringify")&&_("json-parse");else{var r;if("json-stringify"==e){var o=a.stringify,i="function"==typeof o&&I;if(i){(r=function(){return 1}).toJSON=r;try{i="0"===o(0)&&"0"===o(new f)&&"\"\""==o(new g)&&o(U)===v&&o(v)===v&&o()===v&&"1"===o(r)&&"[1]"==o([r])&&"[null]"==o([v])&&"null"==o(null)&&"[null,null,null]"==o([v,U,null])&&o({a:[r,!0,!1,null,"\0\b\n\f\r\t"]})=="{\"a\":[1,true,false,null,\"\\u0000\\b\\n\\f\\r\\t\"]}"&&"1"===o(null,r)&&"[\n 1,\n 2\n]"==o([1,2],null,1)&&"\"-271821-04-20T00:00:00.000Z\""==o(new y(-864e13))&&"\"+275760-09-13T00:00:00.000Z\""==o(new y(864e13))&&"\"-000001-01-01T00:00:00.000Z\""==o(new y(-621987552e5))&&"\"1969-12-31T23:59:59.999Z\""==o(new y(-1))}catch(e){i=!1}}t=i}if("json-parse"==e){var d=a.parse;if("function"==typeof d)try{if(0===d("0")&&!d(!1)){r=d("{\"a\":[1,true,false,null,\"\\u0000\\b\\n\\f\\r\\t\"]}");var u=5==r.a.length&&1===r.a[0];if(u){try{u=!d("\"\t\"")}catch(e){}if(u)try{u=1!==d("01")}catch(e){}if(u)try{u=1!==d("1.")}catch(e){}}}}catch(e){u=!1}t=u}}return _[e]=!!t}e||(e=c.Object()),a||(a=c.Object());var f=e.Number||c.Number,g=e.String||c.String,h=e.Object||c.Object,y=e.Date||c.Date,i=e.SyntaxError||c.SyntaxError,x=e.TypeError||c.TypeError,l=e.Math||c.Math,m=e.JSON||c.JSON;"object"==typeof m&&m&&(a.stringify=m.stringify,a.parse=m.parse);var A,n,v,w=h.prototype,U=w.toString,I=new y(-0xc782b5b800cec);try{I=-109252==I.getUTCFullYear()&&0===I.getUTCMonth()&&1===I.getUTCDate()&&10==I.getUTCHours()&&37==I.getUTCMinutes()&&6==I.getUTCSeconds()&&708==I.getUTCMilliseconds()}catch(e){}if(!_("json")){var k=_("bug-string-char-index");if(!I)var B=l.floor,C=[0,31,59,90,120,151,181,212,243,273,304,334],D=function(e,t){return C[t]+365*(e-1970)+B((e-1969+(t=+(1<t)))/4)-B((e-1901+t)/100)+B((e-1601+t)/400)};if((A=w.hasOwnProperty)||(A=function(e){var t,a={};return(a.__proto__=null,a.__proto__={toString:1},a).toString==U?(t=a.constructor,A=function(e){var a=(this.constructor||t).prototype;return e in this&&!(e in a&&this[e]===a[e])}):A=function(e){var t=this.__proto__,a=(e in(this.__proto__=null,this));return this.__proto__=t,a},a=null,A.call(this,e)}),n=function(t,a){var i,o,l,u=0;for(l in(i=function(){this.valueOf=0}).prototype.valueOf=0,o=new i,o)A.call(o,l)&&u++;return i=o=null,u?n=2==u?function(t,a){var r,n={},i="[object Function]"==U.call(t);for(r in t)i&&"prototype"==r||A.call(n,r)||!(n[r]=1)||!A.call(t,r)||a(r)}:function(t,a){var r,n,i="[object Function]"==U.call(t);for(r in t)i&&"prototype"==r||!A.call(t,r)||(n="constructor"===r)||a(r);(n||A.call(t,r="constructor"))&&a(r)}:(o=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],n=function(e,t){var a,n,i="[object Function]"==U.call(e),l=!i&&"function"!=typeof e.constructor&&r[typeof e.hasOwnProperty]&&e.hasOwnProperty||A;for(a in e)i&&"prototype"==a||!l.call(e,a)||t(a);for(n=o.length;a=o[--n];l.call(e,a)&&t(a));}),n(t,a)},!_("json-stringify")){var E={92:"\\\\",34:"\\\"",8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},F=function(e,t){return("000000"+(t||0)).slice(-e)},H=function(t){for(var a,r="\"",n=0,i=t.length,o=!k||10<i,e=o&&(k?t.split(""):t);i>n;n++)switch(a=t.charCodeAt(n),a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:r+=E[a];break;default:if(32>a){r+="\\u00"+F(2,a.toString(16));break}r+=o?e[n]:t.charAt(n);}return r+"\""},X=function(o,a,l,c,d,e,_){var p,g,T,b,y,E,S,P,R,w,C,O,M,N,Y,V;try{p=a[o]}catch(e){}if("object"==typeof p&&p)if(g=U.call(p),"[object Date]"!=g||A.call(p,"toJSON"))"function"==typeof p.toJSON&&("[object Number]"!=g&&"[object String]"!=g&&"[object Array]"!=g||A.call(p,"toJSON"))&&(p=p.toJSON(o));else if(p>-1/0&&1/0>p){if(D){for(y=B(p/864e5),T=B(y/365.2425)+1970-1;D(T+1,0)<=y;T++);for(b=B((y-D(T,0))/30.42);D(T,b+1)<=y;b++);y=1+y-D(T,b),E=(p%864e5+864e5)%864e5,S=B(E/36e5)%24,P=B(E/6e4)%60,R=B(E/1e3)%60,w=E%1e3}else T=p.getUTCFullYear(),b=p.getUTCMonth(),y=p.getUTCDate(),S=p.getUTCHours(),P=p.getUTCMinutes(),R=p.getUTCSeconds(),w=p.getUTCMilliseconds();p=(0>=T||1e4<=T?(0>T?"-":"+")+F(6,0>T?-T:T):F(4,T))+"-"+F(2,b+1)+"-"+F(2,y)+"T"+F(2,S)+":"+F(2,P)+":"+F(2,R)+"."+F(3,w)+"Z"}else p=null;if(l&&(p=l.call(a,o,p)),null===p)return"null";if(g=U.call(p),"[object Boolean]"==g)return""+p;if("[object Number]"==g)return p>-1/0&&1/0>p?""+p:"null";if("[object String]"==g)return H(""+p);if("object"==typeof p){for(N=_.length;N--;)if(_[N]===p)throw x();if(_.push(p),C=[],Y=e,e+=d,"[object Array]"==g){for(M=0,N=p.length;N>M;M++)O=X(M,p,l,c,d,e,_),C.push(O===v?"null":O);V=C.length?d?"[\n"+e+C.join(",\n"+e)+"\n"+Y+"]":"["+C.join(",")+"]":"[]"}else n(c||p,function(t){var a=X(t,p,l,c,d,e,_);a!==v&&C.push(H(t)+":"+(d?" ":"")+a)}),V=C.length?d?"{\n"+e+C.join(",\n"+e)+"\n"+Y+"}":"{"+C.join(",")+"}":"{}";return _.pop(),V}};a.stringify=function(t,a,n){var o,l,u,c;if(r[typeof a]&&a)if("[object Function]"==(c=U.call(a)))l=a;else if("[object Array]"==c){u={};for(var _,p=0,m=a.length;m>p;_=a[p++],c=U.call(_),("[object String]"==c||"[object Number]"==c)&&(u[_]=1));}if(n)if("[object Number]"!=(c=U.call(n)))"[object String]"==c&&(o=10>=n.length?n:n.slice(0,10));else if(0<(n-=n%1))for(o="",10<n&&(n=10);o.length<n;o+=" ");return X("",(_={},_[""]=t,_),l,u,o,"",[])}}if(!_("json-parse")){var j,G,Y=g.fromCharCode,N={92:"\\",34:"\"",47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},O=function(){throw j=G=null,i()},P=function(){for(var t,r,n,i,o,l=G,u=l.length;u>j;)switch(o=l.charCodeAt(j)){case 9:case 10:case 13:case 32:j++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=k?l.charAt(j):l[j],j++,t;case 34:for(t="@",j++;u>j;)if(o=l.charCodeAt(j),32>o)O();else if(92==o)switch(o=l.charCodeAt(++j)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=N[o],j++;break;case 117:for(r=++j,n=j+4;n>j;j++)o=l.charCodeAt(j),48<=o&&57>=o||97<=o&&102>=o||65<=o&&70>=o||O();t+=Y("0x"+l.slice(r,j));break;default:O();}else{if(34==o)break;for(o=l.charCodeAt(j),r=j;32<=o&&92!=o&&34!=o;)o=l.charCodeAt(++j);t+=l.slice(r,j)}if(34==l.charCodeAt(j))return j++,t;O();default:if(r=j,45==o&&(i=!0,o=l.charCodeAt(++j)),48<=o&&57>=o){for(48==o&&(o=l.charCodeAt(j+1),48<=o&&57>=o)&&O(),i=!1;u>j&&(o=l.charCodeAt(j),48<=o&&57>=o);j++);if(46==l.charCodeAt(j)){for(n=++j;u>n&&(o=l.charCodeAt(n),48<=o&&57>=o);n++);n==j&&O(),j=n}if(o=l.charCodeAt(j),101==o||69==o){for(o=l.charCodeAt(++j),(43==o||45==o)&&j++,n=j;u>n&&(o=l.charCodeAt(n),48<=o&&57>=o);n++);n==j&&O(),j=n}return+l.slice(r,j)}if(i&&O(),"true"==l.slice(j,j+4))return j+=4,!0;if("false"==l.slice(j,j+5))return j+=5,!1;if("null"==l.slice(j,j+4))return j+=4,null;O();}return"$"},V=function(e){var t,r;if("$"==e&&O(),"string"==typeof e){if("@"==(k?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=P(),"]"!=e;r||(r=!0))r&&(","==e?(e=P(),"]"==e&&O()):O()),","==e&&O(),t.push(V(e));return t}if("{"==e){for(t={};e=P(),"}"!=e;r||(r=!0))r&&(","==e?(e=P(),"}"==e&&O()):O()),(","==e||"string"!=typeof e||"@"!=(k?e.charAt(0):e[0])||":"!=P())&&O(),t[e.slice(1)]=V(P());return t}O()}return e},R=function(e,t,a){var r=S(e,t,a);r===v?delete e[t]:e[t]=r},S=function(t,a,r){var i,o=t[a];if("object"==typeof o&&o)if("[object Array]"==U.call(o))for(i=o.length;i--;)R(o,i,r);else n(o,function(e){R(o,e,r)});return r.call(t,a,o)};a.parse=function(e,t){var a,r;return j=0,G=""+e,a=V(P()),"$"!=P()&&O(),j=G=null,t&&"[object Function]"==U.call(t)?S((r={},r[""]=a,r),"",t):a}}}return a.runInContext=u,a}var t="function"==typeof define&&define.amd,r={function:!0,object:!0},a=r[typeof exports]&&exports&&!exports.nodeType&&exports,c=r[typeof window]&&window||this,n=a&&r[typeof module]&&module&&!module.nodeType&&"object"==typeof global&&global;if(!n||n.global!==n&&n.window!==n&&n.self!==n||(c=n),a&&!t)u(c,a);else{var o=c.JSON,d=c.JSON3,l=!1,_=u(c,c.JSON3={noConflict:function(){return l||(l=!0,c.JSON=o,c.JSON3=d,o=d=null),_}});c.JSON={parse:_.parse,stringify:_.stringify}}t&&define(function(){return _})}.call(this),function(){var e={};e.a=function(){return e.el("a")},e.svg=function(){return e.el("svg")},e.object=function(){return e.el("object")},e.image=function(){return e.el("image")},e.img=function(){return e.el("img")},e.style=function(){return e.el("style")},e.link=function(){return e.el("link")},e.script=function(){return e.el("script")},e.audio=function(){return e.el("audio")},e.video=function(){return e.el("video")},e.text=function(e){return document.createTextNode(e)},e.el=function(e){return document.createElement(e)},createjs.Elements=e}(),function(){var t={};t.ABSOLUTE_PATT=/^(?:\w+:)?\/{2}/i,t.RELATIVE_PATT=/^[.\/]*?\//i,t.EXTENSION_PATT=/\/?[^\/]+\.(\w{1,5})$/i,t.parseURI=function(a){var r={absolute:!1,relative:!1,protocol:null,hostname:null,port:null,pathname:null,search:null,hash:null,host:null};if(null==a)return r;var n=createjs.Elements.a();for(var i in n.href=a,r)i in n&&(r[i]=n[i]);var e=a.indexOf("?");-1<e&&(a=a.substr(0,e));var o;return t.ABSOLUTE_PATT.test(a)?r.absolute=!0:t.RELATIVE_PATT.test(a)&&(r.relative=!0),(o=a.match(t.EXTENSION_PATT))&&(r.extension=o[1].toLowerCase()),r},t.formatQueryString=function(e,t){if(null==e)throw new Error("You must specify data.");var a=[];for(var r in e)a.push(r+"="+escape(e[r]));return t&&(a=a.concat(t)),a.join("&")},t.buildURI=function(t,a){if(null==a)return t;var r=[],n=t.indexOf("?");if(-1!=n){var i=t.slice(n+1);r=r.concat(i.split("&"))}return-1==n?t+"?"+this.formatQueryString(a,r):t.slice(0,n)+"?"+this.formatQueryString(a,r)},t.isCrossDomain=function(e){var t=createjs.Elements.a();t.href=e.src;var a=createjs.Elements.a();a.href=location.href;var r=""!=t.hostname&&(t.port!=a.port||t.protocol!=a.protocol||t.hostname!=a.hostname);return r},t.isLocal=function(e){var t=createjs.Elements.a();return t.href=e.src,""==t.hostname&&"file:"==t.protocol},createjs.URLUtils=t}(),function(){var e={container:null};e.appendToHead=function(t){e.getHead().appendChild(t)},e.appendToBody=function(t){if(null==e.container){e.container=document.createElement("div"),e.container.id="preloadjs-container";var a=e.container.style;a.visibility="hidden",a.position="absolute",a.width=e.container.style.height="10px",a.overflow="hidden",a.transform=a.msTransform=a.webkitTransform=a.oTransform="translate(-10px, -10px)",e.getBody().appendChild(e.container)}e.container.appendChild(t)},e.getHead=function(){return document.head||document.getElementsByTagName("head")[0]},e.getBody=function(){return document.body||document.getElementsByTagName("body")[0]},e.removeChild=function(e){e.parent&&e.parent.removeChild(e)},e.isImageTag=function(e){return e instanceof HTMLImageElement},e.isAudioTag=function(e){return!!window.HTMLAudioElement&&e instanceof HTMLAudioElement},e.isVideoTag=function(e){return!!window.HTMLVideoElement&&e instanceof HTMLVideoElement},createjs.DomUtils=e}(),function(){var e={};e.parseXML=function(e){var t=null;try{if(window.DOMParser){var a=new DOMParser;t=a.parseFromString(e,"text/xml")}}catch(e){}if(!t)try{t=new ActiveXObject("Microsoft.XMLDOM"),t.async=!1,t.loadXML(e)}catch(e){t=null}return t},e.parseJSON=function(e){if(null==e)return null;try{return JSON.parse(e)}catch(e){throw e}},createjs.DataUtils=e}(),this.createjs=this.createjs||{},function(){var e={};e.BINARY="binary",e.CSS="css",e.FONT="font",e.FONTCSS="fontcss",e.IMAGE="image",e.JAVASCRIPT="javascript",e.JSON="json",e.JSONP="jsonp",e.MANIFEST="manifest",e.SOUND="sound",e.VIDEO="video",e.SPRITESHEET="spritesheet",e.SVG="svg",e.TEXT="text",e.XML="xml",createjs.Types=e}(),this.createjs=this.createjs||{},function(){var e={};e.POST="POST",e.GET="GET",createjs.Methods=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this.src=null,this.type=null,this.id=null,this.maintainOrder=!1,this.callback=null,this.data=null,this.method=createjs.Methods.GET,this.values=null,this.headers=null,this.withCredentials=!1,this.mimeType=null,this.crossOrigin=null,this.loadTimeout=a.LOAD_TIMEOUT_DEFAULT}var t=e.prototype={},a=e;a.LOAD_TIMEOUT_DEFAULT=8e3,a.create=function(t){if("string"==typeof t){var r=new e;return r.src=t,r}if(t instanceof a)return t;if(t instanceof Object&&t.src)return null==t.loadTimeout&&(t.loadTimeout=a.LOAD_TIMEOUT_DEFAULT),t;throw new Error("Type not recognized.")},t.set=function(e){for(var t in e)this[t]=e[t];return this},createjs.LoadItem=a}(),function(){var e={};e.isBinary=function(e){return!(e!==createjs.Types.IMAGE&&e!==createjs.Types.BINARY)},e.isText=function(e){return!(e!==createjs.Types.TEXT&&e!==createjs.Types.JSON&&e!==createjs.Types.MANIFEST&&e!==createjs.Types.XML&&e!==createjs.Types.CSS&&e!==createjs.Types.SVG&&e!==createjs.Types.JAVASCRIPT&&e!==createjs.Types.SPRITESHEET)},e.getTypeByExtension=function(e){if(null==e)return createjs.Types.TEXT;switch(e.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return createjs.Types.IMAGE;case"ogg":case"mp3":case"webm":return createjs.Types.SOUND;case"mp4":case"webm":case"ts":return createjs.Types.VIDEO;case"json":return createjs.Types.JSON;case"xml":return createjs.Types.XML;case"css":return createjs.Types.CSS;case"js":return createjs.Types.JAVASCRIPT;case"svg":return createjs.Types.SVG;default:return createjs.Types.TEXT;}},createjs.RequestUtils=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,a){this.EventDispatcher_constructor(),this.loaded=!1,this.canceled=!1,this.progress=0,this.type=a,this.resultFormatter=null,this._item=e?createjs.LoadItem.create(e):null,this._preferXHR=t,this._result=null,this._rawResult=null,this._loadedItems=null,this._tagSrcAttribute=null,this._tag=null}var t=createjs.extend(e,createjs.EventDispatcher);try{Object.defineProperties(e,{POST:{get:createjs.deprecate(function(){return createjs.Methods.POST},"AbstractLoader.POST")},GET:{get:createjs.deprecate(function(){return createjs.Methods.GET},"AbstractLoader.GET")},BINARY:{get:createjs.deprecate(function(){return createjs.Types.BINARY},"AbstractLoader.BINARY")},CSS:{get:createjs.deprecate(function(){return createjs.Types.CSS},"AbstractLoader.CSS")},FONT:{get:createjs.deprecate(function(){return createjs.Types.FONT},"AbstractLoader.FONT")},FONTCSS:{get:createjs.deprecate(function(){return createjs.Types.FONTCSS},"AbstractLoader.FONTCSS")},IMAGE:{get:createjs.deprecate(function(){return createjs.Types.IMAGE},"AbstractLoader.IMAGE")},JAVASCRIPT:{get:createjs.deprecate(function(){return createjs.Types.JAVASCRIPT},"AbstractLoader.JAVASCRIPT")},JSON:{get:createjs.deprecate(function(){return createjs.Types.JSON},"AbstractLoader.JSON")},JSONP:{get:createjs.deprecate(function(){return createjs.Types.JSONP},"AbstractLoader.JSONP")},MANIFEST:{get:createjs.deprecate(function(){return createjs.Types.MANIFEST},"AbstractLoader.MANIFEST")},SOUND:{get:createjs.deprecate(function(){return createjs.Types.SOUND},"AbstractLoader.SOUND")},VIDEO:{get:createjs.deprecate(function(){return createjs.Types.VIDEO},"AbstractLoader.VIDEO")},SPRITESHEET:{get:createjs.deprecate(function(){return createjs.Types.SPRITESHEET},"AbstractLoader.SPRITESHEET")},SVG:{get:createjs.deprecate(function(){return createjs.Types.SVG},"AbstractLoader.SVG")},TEXT:{get:createjs.deprecate(function(){return createjs.Types.TEXT},"AbstractLoader.TEXT")},XML:{get:createjs.deprecate(function(){return createjs.Types.XML},"AbstractLoader.XML")}})}catch(e){}t.getItem=function(){return this._item},t.getResult=function(e){return e?this._rawResult:this._result},t.getTag=function(){return this._tag},t.setTag=function(e){this._tag=e},t.load=function(){this._createRequest(),this._request.on("complete",this,this),this._request.on("progress",this,this),this._request.on("loadStart",this,this),this._request.on("abort",this,this),this._request.on("timeout",this,this),this._request.on("error",this,this);var e=new createjs.Event("initialize");e.loader=this._request,this.dispatchEvent(e),this._request.load()},t.cancel=function(){this.canceled=!0,this.destroy()},t.destroy=function(){this._request&&(this._request.removeAllEventListeners(),this._request.destroy()),this._request=null,this._item=null,this._rawResult=null,this._result=null,this._loadItems=null,this.removeAllEventListeners()},t.getLoadedItems=function(){return this._loadedItems},t._createRequest=function(){this._request=this._preferXHR?new createjs.XHRRequest(this._item):new createjs.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},t._createTag=function(){return null},t._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")},t._sendProgress=function(e){if(!this._isCanceled()){var t=null;"number"==typeof e?(this.progress=e,t=new createjs.ProgressEvent(this.progress)):(t=e,this.progress=e.loaded/e.total,t.progress=this.progress,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0)),this.hasEventListener("progress")&&this.dispatchEvent(t)}},t._sendComplete=function(){if(!this._isCanceled()){this.loaded=!0;var e=new createjs.Event("complete");e.rawResult=this._rawResult,null!=this._result&&(e.result=this._result),this.dispatchEvent(e)}},t._sendError=function(e){!this._isCanceled()&&this.hasEventListener("error")&&(null==e&&(e=new createjs.ErrorEvent("PRELOAD_ERROR_EMPTY")),this.dispatchEvent(e))},t._isCanceled=function(){return!!(null==window.createjs||this.canceled)},t.resultFormatter=null,t.handleEvent=function(e){switch(e.type){case"complete":this._rawResult=e.target._response;var t=this.resultFormatter&&this.resultFormatter(this);t instanceof Function?t.call(this,createjs.proxy(this._resultFormatSuccess,this),createjs.proxy(this._resultFormatFailed,this)):(this._result=t||this._rawResult,this._sendComplete());break;case"progress":this._sendProgress(e);break;case"error":this._sendError(e);break;case"loadstart":this._sendLoadStart();break;case"abort":case"timeout":this._isCanceled()||this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_"+e.type.toUpperCase()+"_ERROR"));}},t._resultFormatSuccess=function(e){this._result=e,this._sendComplete()},t._resultFormatFailed=function(e){this._sendError(e)},t.toString=function(){return"[PreloadJS AbstractLoader]"},createjs.AbstractLoader=createjs.promote(e,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,a){this.AbstractLoader_constructor(e,t,a),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",this.on("initialize",this._updateXHR,this)}var t=createjs.extend(e,createjs.AbstractLoader);t.load=function(){this._tag||(this._tag=this._createTag(this._item.src)),this._tag.preload="auto",this._tag.load(),this.AbstractLoader_load()},t._createTag=function(){},t._createRequest=function(){this._request=this._preferXHR?new createjs.XHRRequest(this._item):new createjs.MediaTagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},t._updateXHR=function(e){e.loader.setResponseType&&e.loader.setResponseType("blob")},t._formatResult=function(e){if(this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.onstalled=null,this._preferXHR){var t=window.URL||window.webkitURL,a=e.getResult(!0);e.getTag().src=t.createObjectURL(a)}return e.getTag()},createjs.AbstractMediaLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";var e=function(e){this._item=e},t=createjs.extend(e,createjs.EventDispatcher);t.load=function(){},t.destroy=function(){},t.cancel=function(){},createjs.AbstractRequest=createjs.promote(e,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,a){this.AbstractRequest_constructor(e),this._tag=t,this._tagSrcAttribute=a,this._loadedHandler=createjs.proxy(this._handleTagComplete,this),this._addedToDOM=!1}var t=createjs.extend(e,createjs.AbstractRequest);t.load=function(){this._tag.onload=createjs.proxy(this._handleTagComplete,this),this._tag.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this),this._tag.onerror=createjs.proxy(this._handleError,this);var e=new createjs.Event("initialize");e.loader=this._tag,this.dispatchEvent(e),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag[this._tagSrcAttribute]=this._item.src,null==this._tag.parentNode&&(createjs.DomUtils.appendToBody(this._tag),this._addedToDOM=!0)},t.destroy=function(){this._clean(),this._tag=null,this.AbstractRequest_destroy()},t._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var e=this._tag;("loaded"==e.readyState||"complete"==e.readyState)&&this._handleTagComplete()},t._handleError=function(){this._clean(),this.dispatchEvent("error")},t._handleTagComplete=function(){this._rawResult=this._tag,this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult,this._clean(),this.dispatchEvent("complete")},t._handleTimeout=function(){this._clean(),this.dispatchEvent(new createjs.Event("timeout"))},t._clean=function(){this._tag.onload=null,this._tag.onreadystatechange=null,this._tag.onerror=null,this._addedToDOM&&null!=this._tag.parentNode&&this._tag.parentNode.removeChild(this._tag),clearTimeout(this._loadTimeout)},t._handleStalled=function(){},createjs.TagRequest=createjs.promote(e,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,a){this.AbstractRequest_constructor(e),this._tag=t,this._tagSrcAttribute=a,this._loadedHandler=createjs.proxy(this._handleTagComplete,this)}var t=createjs.extend(e,createjs.TagRequest);t.load=function(){var e=createjs.proxy(this._handleStalled,this);this._stalledCallback=e;var t=createjs.proxy(this._handleProgress,this);this._handleProgress=t,this._tag.addEventListener("stalled",e),this._tag.addEventListener("progress",t),this._tag.addEventListener&&this._tag.addEventListener("canplaythrough",this._loadedHandler,!1),this.TagRequest_load()},t._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var e=this._tag;("loaded"==e.readyState||"complete"==e.readyState)&&this._handleTagComplete()},t._handleStalled=function(){},t._handleProgress=function(e){if(e&&!(0<e.loaded&&0==e.total)){var t=new createjs.ProgressEvent(e.loaded,e.total);this.dispatchEvent(t)}},t._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.removeEventListener("stalled",this._stalledCallback),this._tag.removeEventListener("progress",this._progressCallback),this.TagRequest__clean()},createjs.MediaTagRequest=createjs.promote(e,"TagRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractRequest_constructor(e),this._request=null,this._loadTimeout=null,this._xhrLevel=1,this._response=null,this._rawResponse=null,this._canceled=!1,this._handleLoadStartProxy=createjs.proxy(this._handleLoadStart,this),this._handleProgressProxy=createjs.proxy(this._handleProgress,this),this._handleAbortProxy=createjs.proxy(this._handleAbort,this),this._handleErrorProxy=createjs.proxy(this._handleError,this),this._handleTimeoutProxy=createjs.proxy(this._handleTimeout,this),this._handleLoadProxy=createjs.proxy(this._handleLoad,this),this._handleReadyStateChangeProxy=createjs.proxy(this._handleReadyStateChange,this),!this._createXHR(e)}var t=createjs.extend(e,createjs.AbstractRequest);e.ACTIVEX_VERSIONS=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],t.getResult=function(e){return e&&this._rawResponse?this._rawResponse:this._response},t.cancel=function(){this.canceled=!0,this._clean(),this._request.abort()},t.load=function(){if(null==this._request)return void this._handleError();null==this._request.addEventListener?(this._request.onloadstart=this._handleLoadStartProxy,this._request.onprogress=this._handleProgressProxy,this._request.onabort=this._handleAbortProxy,this._request.onerror=this._handleErrorProxy,this._request.ontimeout=this._handleTimeoutProxy,this._request.onload=this._handleLoadProxy,this._request.onreadystatechange=this._handleReadyStateChangeProxy):(this._request.addEventListener("loadstart",this._handleLoadStartProxy,!1),this._request.addEventListener("progress",this._handleProgressProxy,!1),this._request.addEventListener("abort",this._handleAbortProxy,!1),this._request.addEventListener("error",this._handleErrorProxy,!1),this._request.addEventListener("timeout",this._handleTimeoutProxy,!1),this._request.addEventListener("load",this._handleLoadProxy,!1),this._request.addEventListener("readystatechange",this._handleReadyStateChangeProxy,!1)),1==this._xhrLevel&&(this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout));try{this._item.values?this._request.send(createjs.URLUtils.formatQueryString(this._item.values)):this._request.send()}catch(e){this.dispatchEvent(new createjs.ErrorEvent("XHR_SEND",null,e))}},t.setResponseType=function(e){"blob"===e&&(e=window.URL?"blob":"arraybuffer",this._responseType=e),this._request.responseType=e},t.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null},t.getResponseHeader=function(e){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(e):null},t._handleProgress=function(e){if(e&&!(0<e.loaded&&0==e.total)){var t=new createjs.ProgressEvent(e.loaded,e.total);this.dispatchEvent(t)}},t._handleLoadStart=function(){clearTimeout(this._loadTimeout),this.dispatchEvent("loadstart")},t._handleAbort=function(e){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("XHR_ABORTED",null,e))},t._handleError=function(e){this._clean(),this.dispatchEvent(new createjs.ErrorEvent(e.message))},t._handleReadyStateChange=function(){4==this._request.readyState&&this._handleLoad()},t._handleLoad=function(){if(!this.loaded){this.loaded=!0;var e=this._checkError();if(e)return void this._handleError(e);if(this._response=this._getResponse(),"arraybuffer"===this._responseType)try{this._response=new Blob([this._response])}catch(e){if(window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,"TypeError"===e.name&&window.BlobBuilder){var t=new BlobBuilder;t.append(this._response),this._response=t.getBlob()}}this._clean(),this.dispatchEvent(new createjs.Event("complete"))}},t._handleTimeout=function(e){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT",null,e))},t._checkError=function(){var e=parseInt(this._request.status);return 400<=e&&599>=e?new Error(e):0==e&&/^https?:/.test(location.protocol)?new Error(0):null},t._getResponse=function(){if(null!=this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(e){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(e){}return null},t._createXHR=function(t){var a=createjs.URLUtils.isCrossDomain(t),r={},n=null;if(window.XMLHttpRequest)n=new XMLHttpRequest,a&&void 0===n.withCredentials&&window.XDomainRequest&&(n=new XDomainRequest);else{for(var o,l=0,u=s.ACTIVEX_VERSIONS.length;u>l;l++){o=s.ACTIVEX_VERSIONS[l];try{n=new ActiveXObject(o);break}catch(e){}}if(null==n)return!1}null==t.mimeType&&createjs.RequestUtils.isText(t.type)&&(t.mimeType="text/plain; charset=utf-8"),t.mimeType&&n.overrideMimeType&&n.overrideMimeType(t.mimeType),this._xhrLevel="string"==typeof n.responseType?2:1;var c=null;if(c=t.method==createjs.Methods.GET?createjs.URLUtils.buildURI(t.src,t.values):t.src,n.open(t.method||createjs.Methods.GET,c,!0),a&&n instanceof XMLHttpRequest&&1==this._xhrLevel&&(r.Origin=location.origin),t.values&&t.method==createjs.Methods.POST&&(r["Content-Type"]="application/x-www-form-urlencoded"),a||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),t.headers)for(var _ in t.headers)r[_]=t.headers[_];for(_ in r)n.setRequestHeader(_,r[_]);return n instanceof XMLHttpRequest&&void 0!==t.withCredentials&&(n.withCredentials=t.withCredentials),this._request=n,!0},t._clean=function(){clearTimeout(this._loadTimeout),null==this._request.removeEventListener?(this._request.onloadstart=null,this._request.onprogress=null,this._request.onabort=null,this._request.onerror=null,this._request.ontimeout=null,this._request.onload=null,this._request.onreadystatechange=null):(this._request.removeEventListener("loadstart",this._handleLoadStartProxy),this._request.removeEventListener("progress",this._handleProgressProxy),this._request.removeEventListener("abort",this._handleAbortProxy),this._request.removeEventListener("error",this._handleErrorProxy),this._request.removeEventListener("timeout",this._handleTimeoutProxy),this._request.removeEventListener("load",this._handleLoadProxy),this._request.removeEventListener("readystatechange",this._handleReadyStateChangeProxy))},t.toString=function(){return"[PreloadJS XHRRequest]"},createjs.XHRRequest=createjs.promote(e,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,a){this.AbstractLoader_constructor(),this._plugins=[],this._typeCallbacks={},this._extensionCallbacks={},this.next=null,this.maintainScriptOrder=!0,this.stopOnError=!1,this._maxConnections=1,this._availableLoaders=[createjs.FontLoader,createjs.ImageLoader,createjs.JavaScriptLoader,createjs.CSSLoader,createjs.JSONLoader,createjs.JSONPLoader,createjs.SoundLoader,createjs.ManifestLoader,createjs.SpriteSheetLoader,createjs.XMLLoader,createjs.SVGLoader,createjs.BinaryLoader,createjs.VideoLoader,createjs.TextLoader],this._defaultLoaderLength=this._availableLoaders.length,this.init(e,t,a)}var t=createjs.extend(e,createjs.AbstractLoader),r=e;try{Object.defineProperties(r,{POST:{get:createjs.deprecate(function(){return createjs.Methods.POST},"AbstractLoader.POST")},GET:{get:createjs.deprecate(function(){return createjs.Methods.GET},"AbstractLoader.GET")},BINARY:{get:createjs.deprecate(function(){return createjs.Types.BINARY},"AbstractLoader.BINARY")},CSS:{get:createjs.deprecate(function(){return createjs.Types.CSS},"AbstractLoader.CSS")},FONT:{get:createjs.deprecate(function(){return createjs.Types.FONT},"AbstractLoader.FONT")},FONTCSS:{get:createjs.deprecate(function(){return createjs.Types.FONTCSS},"AbstractLoader.FONTCSS")},IMAGE:{get:createjs.deprecate(function(){return createjs.Types.IMAGE},"AbstractLoader.IMAGE")},JAVASCRIPT:{get:createjs.deprecate(function(){return createjs.Types.JAVASCRIPT},"AbstractLoader.JAVASCRIPT")},JSON:{get:createjs.deprecate(function(){return createjs.Types.JSON},"AbstractLoader.JSON")},JSONP:{get:createjs.deprecate(function(){return createjs.Types.JSONP},"AbstractLoader.JSONP")},MANIFEST:{get:createjs.deprecate(function(){return createjs.Types.MANIFEST},"AbstractLoader.MANIFEST")},SOUND:{get:createjs.deprecate(function(){return createjs.Types.SOUND},"AbstractLoader.SOUND")},VIDEO:{get:createjs.deprecate(function(){return createjs.Types.VIDEO},"AbstractLoader.VIDEO")},SPRITESHEET:{get:createjs.deprecate(function(){return createjs.Types.SPRITESHEET},"AbstractLoader.SPRITESHEET")},SVG:{get:createjs.deprecate(function(){return createjs.Types.SVG},"AbstractLoader.SVG")},TEXT:{get:createjs.deprecate(function(){return createjs.Types.TEXT},"AbstractLoader.TEXT")},XML:{get:createjs.deprecate(function(){return createjs.Types.XML},"AbstractLoader.XML")}})}catch(e){}t.init=function(e,t,a){this.preferXHR=!0,this._preferXHR=!0,this.setPreferXHR(e),this._paused=!1,this._basePath=t,this._crossOrigin=a,this._loadStartWasDispatched=!1,this._currentlyLoadingScript=null,this._currentLoads=[],this._loadQueue=[],this._loadQueueBackup=[],this._loadItemsById={},this._loadItemsBySrc={},this._loadedResults={},this._loadedRawResults={},this._numItems=0,this._numItemsLoaded=0,this._scriptOrder=[],this._loadedScripts=[],this._lastProgress=NaN},t.registerLoader=function(e){if(!e||!e.canLoadItem)throw new Error("loader is of an incorrect type.");if(-1!=this._availableLoaders.indexOf(e))throw new Error("loader already exists.");this._availableLoaders.unshift(e)},t.unregisterLoader=function(e){var t=this._availableLoaders.indexOf(e);-1!=t&&t<this._defaultLoaderLength-1&&this._availableLoaders.splice(t,1)},t.setPreferXHR=function(e){return this.preferXHR=0!=e&&null!=window.XMLHttpRequest,this.preferXHR},t.removeAll=function(){this.remove()},t.remove=function(t){var a=null;if(t&&!Array.isArray(t))a=[t];else if(t)a=t;else if(0<arguments.length)return;var r=!1;if(a){for(;a.length;){var n=a.pop(),i=this.getResult(n);for(o=this._loadQueue.length-1;0<=o;o--)if(e=this._loadQueue[o].getItem(),e.id==n||e.src==n){this._loadQueue.splice(o,1)[0].cancel();break}for(o=this._loadQueueBackup.length-1;0<=o;o--)if(e=this._loadQueueBackup[o].getItem(),e.id==n||e.src==n){this._loadQueueBackup.splice(o,1)[0].cancel();break}if(i)this._disposeItem(this.getItem(n));else for(var e,o=this._currentLoads.length-1;0<=o;o--)if(e=this._currentLoads[o].getItem(),e.id==n||e.src==n){this._currentLoads.splice(o,1)[0].cancel(),r=!0;break}}r&&this._loadNext()}else{for(var d in this.close(),this._loadItemsById)this._disposeItem(this._loadItemsById[d]);this.init(this.preferXHR,this._basePath)}},t.reset=function(){for(var e in this.close(),this._loadItemsById)this._disposeItem(this._loadItemsById[e]);for(var t=[],a=0,r=this._loadQueueBackup.length;r>a;a++)t.push(this._loadQueueBackup[a].getItem());this.loadManifest(t,!1)},t.installPlugin=function(e){if(null!=e&&null!=e.getPreloadHandlers){this._plugins.push(e);var t=e.getPreloadHandlers();if(t.scope=e,null!=t.types)for(var a=0,r=t.types.length;r>a;a++)this._typeCallbacks[t.types[a]]=t;if(null!=t.extensions)for(a=0,r=t.extensions.length;r>a;a++)this._extensionCallbacks[t.extensions[a]]=t}},t.setMaxConnections=function(e){this._maxConnections=e,!this._paused&&0<this._loadQueue.length&&this._loadNext()},t.loadFile=function(e,t,a){if(null==e){var r=new createjs.ErrorEvent("PRELOAD_NO_FILE");return void this._sendError(r)}this._addItem(e,null,a),!1===t?this.setPaused(!0):this.setPaused(!1)},t.loadManifest=function(t,a,n){var o=null,d=null;if(Array.isArray(t)){if(0==t.length){var l=new createjs.ErrorEvent("PRELOAD_MANIFEST_EMPTY");return void this._sendError(l)}o=t}else if("string"==typeof t)o=[{src:t,type:r.MANIFEST}];else{if("object"!=typeof t){var l=new createjs.ErrorEvent("PRELOAD_MANIFEST_NULL");return void this._sendError(l)}if(void 0!==t.src){if(null==t.type)t.type=r.MANIFEST;else if(t.type!=r.MANIFEST){var l=new createjs.ErrorEvent("PRELOAD_MANIFEST_TYPE");this._sendError(l)}o=[t]}else void 0!==t.manifest&&(o=t.manifest,d=t.path)}for(var u=0,c=o.length;c>u;u++)this._addItem(o[u],d,n);!1===a?this.setPaused(!0):this.setPaused(!1)},t.load=function(){this.setPaused(!1)},t.getItem=function(e){return this._loadItemsById[e]||this._loadItemsBySrc[e]},t.getResult=function(e,t){var a=this._loadItemsById[e]||this._loadItemsBySrc[e];if(null==a)return null;var r=a.id;return t&&this._loadedRawResults[r]?this._loadedRawResults[r]:this._loadedResults[r]},t.getItems=function(t){var a=[];for(var r in this._loadItemsById){var n=this._loadItemsById[r],i=this.getResult(r);(!0!==t||null!=i)&&a.push({item:n,result:i,rawResult:this.getResult(r,!0)})}return a},t.setPaused=function(e){this._paused=e,this._paused||this._loadNext()},t.close=function(){for(;this._currentLoads.length;)this._currentLoads.pop().cancel();this._scriptOrder.length=0,this._loadedScripts.length=0,this.loadStartWasDispatched=!1,this._itemCount=0,this._lastProgress=NaN},t._addItem=function(t,a,r){var n=this._createLoadItem(t,a,r);if(null!=n){var i=this._createLoader(n);null!=i&&("plugins"in i&&(i.plugins=this._plugins),n._loader=i,this._loadQueue.push(i),this._loadQueueBackup.push(i),this._numItems++,this._updateProgress(),(this.maintainScriptOrder&&n.type==createjs.Types.JAVASCRIPT||!0===n.maintainOrder)&&(this._scriptOrder.push(n),this._loadedScripts.push(null)))}},t._createLoadItem=function(t,a,r){var n=createjs.LoadItem.create(t);if(null==n)return null;var o="",d=r||this._basePath;if(n.src instanceof Object){if(!n.type)return null;if(a){o=a;var l=createjs.URLUtils.parseURI(a);null==d||l.absolute||l.relative||(o=d+o)}else null!=d&&(o=d)}else{var u=createjs.URLUtils.parseURI(n.src);u.extension&&(n.ext=u.extension),null==n.type&&(n.type=createjs.RequestUtils.getTypeByExtension(n.ext));var c=n.src;if(!u.absolute&&!u.relative)if(a){o=a;var l=createjs.URLUtils.parseURI(a);c=a+c,null==d||l.absolute||l.relative||(o=d+o)}else null!=d&&(o=d);n.src=o+n.src}n.path=o,(void 0===n.id||null===n.id||""===n.id)&&(n.id=c);var _=this._typeCallbacks[n.type]||this._extensionCallbacks[n.ext];if(_){var p=_.callback.call(_.scope,n,this);if(!1===p)return null;!0===p||null!=p&&(n._loader=p),u=createjs.URLUtils.parseURI(n.src),null!=u.extension&&(n.ext=u.extension)}return this._loadItemsById[n.id]=n,this._loadItemsBySrc[n.src]=n,null==n.crossOrigin&&(n.crossOrigin=this._crossOrigin),n},t._createLoader=function(e){if(null!=e._loader)return e._loader;for(var t,a=this.preferXHR,r=0;r<this._availableLoaders.length;r++)if(t=this._availableLoaders[r],t&&t.canLoadItem(e))return new t(e,a);return null},t._loadNext=function(){if(!this._paused){this._loadStartWasDispatched||(this._sendLoadStart(),this._loadStartWasDispatched=!0),this._numItems==this._numItemsLoaded?(this.loaded=!0,this._sendComplete(),this.next&&this.next.load&&this.next.load()):this.loaded=!1;for(var e,t=0;t<this._loadQueue.length&&!(this._currentLoads.length>=this._maxConnections);t++)e=this._loadQueue[t],this._canStartLoad(e)&&(this._loadQueue.splice(t,1),t--,this._loadItem(e))}},t._loadItem=function(e){e.on("fileload",this._handleFileLoad,this),e.on("progress",this._handleProgress,this),e.on("complete",this._handleFileComplete,this),e.on("error",this._handleError,this),e.on("fileerror",this._handleFileError,this),this._currentLoads.push(e),this._sendFileStart(e.getItem()),e.load()},t._handleFileLoad=function(e){e.target=null,this.dispatchEvent(e)},t._handleFileError=function(e){var t=new createjs.ErrorEvent("FILE_LOAD_ERROR",null,e.item);this._sendError(t)},t._handleError=function(e){var t=e.target;this._numItemsLoaded++,this._finishOrderedItem(t,!0),this._updateProgress();var a=new createjs.ErrorEvent("FILE_LOAD_ERROR",null,t.getItem());this._sendError(a),this.stopOnError?this.setPaused(!0):(this._removeLoadItem(t),this._cleanLoadItem(t),this._loadNext())},t._handleFileComplete=function(t){var a=t.target,r=a.getItem(),n=a.getResult();this._loadedResults[r.id]=n;var i=a.getResult(!0);null!=i&&i!==n&&(this._loadedRawResults[r.id]=i),this._saveLoadedItems(a),this._removeLoadItem(a),this._finishOrderedItem(a)||this._processFinishedLoad(r,a),this._cleanLoadItem(a)},t._saveLoadedItems=function(e){var t=e.getLoadedItems();if(null!==t)for(var a,r=0;r<t.length;r++)a=t[r].item,this._loadItemsBySrc[a.src]=a,this._loadItemsById[a.id]=a,this._loadedResults[a.id]=t[r].result,this._loadedRawResults[a.id]=t[r].rawResult},t._finishOrderedItem=function(e,t){var a=e.getItem();if(this.maintainScriptOrder&&a.type==createjs.Types.JAVASCRIPT||a.maintainOrder){e instanceof createjs.JavaScriptLoader&&(this._currentlyLoadingScript=!1);var r=createjs.indexOf(this._scriptOrder,a);return-1!=r&&(this._loadedScripts[r]=!(!0!==t)||a,this._checkScriptLoadOrder(),!0)}return!1},t._checkScriptLoadOrder=function(){for(var t,r=this._loadedScripts.length,a=0;r>a&&(t=this._loadedScripts[a],null!==t);a++)if(!0!==t){var n=this._loadedResults[t.id];t.type==createjs.Types.JAVASCRIPT&&createjs.DomUtils.appendToHead(n);var i=t._loader;this._processFinishedLoad(t,i),this._loadedScripts[a]=!0}},t._processFinishedLoad=function(e,t){if(this._numItemsLoaded++,!this.maintainScriptOrder&&e.type==createjs.Types.JAVASCRIPT){var a=t.getTag();createjs.DomUtils.appendToHead(a)}this._updateProgress(),this._sendFileComplete(e,t),this._loadNext()},t._canStartLoad=function(t){if(!this.maintainScriptOrder||t.preferXHR)return!0;var a=t.getItem();if(a.type!=createjs.Types.JAVASCRIPT)return!0;if(this._currentlyLoadingScript)return!1;for(var r,n=this._scriptOrder.indexOf(a),i=0;n>i;){if(r=this._loadedScripts[i],null==r)return!1;i++}return this._currentlyLoadingScript=!0,!0},t._removeLoadItem=function(e){for(var t=this._currentLoads.length,a=0;t>a;a++)if(this._currentLoads[a]==e){this._currentLoads.splice(a,1);break}},t._cleanLoadItem=function(e){var t=e.getItem();t&&delete t._loader},t._handleProgress=function(e){var t=e.target;this._sendFileProgress(t.getItem(),t.progress),this._updateProgress()},t._updateProgress=function(){var t=this._numItemsLoaded/this._numItems,r=this._numItems-this._numItemsLoaded;if(0<r){for(var n=0,i=0,o=this._currentLoads.length;o>i;i++)n+=this._currentLoads[i].progress;t+=n/r*(r/this._numItems)}this._lastProgress!=t&&(this._sendProgress(t),this._lastProgress=t)},t._disposeItem=function(e){delete this._loadedResults[e.id],delete this._loadedRawResults[e.id],delete this._loadItemsById[e.id],delete this._loadItemsBySrc[e.src]},t._sendFileProgress=function(e,t){if(!this._isCanceled()&&!this._paused&&this.hasEventListener("fileprogress")){var a=new createjs.Event("fileprogress");a.progress=t,a.loaded=t,a.total=1,a.item=e,this.dispatchEvent(a)}},t._sendFileComplete=function(e,t){if(!this._isCanceled()&&!this._paused){var a=new createjs.Event("fileload");a.loader=t,a.item=e,a.result=this._loadedResults[e.id],a.rawResult=this._loadedRawResults[e.id],e.completeHandler&&e.completeHandler(a),this.hasEventListener("fileload")&&this.dispatchEvent(a)}},t._sendFileStart=function(e){var t=new createjs.Event("filestart");t.item=e,this.hasEventListener("filestart")&&this.dispatchEvent(t)},t.toString=function(){return"[PreloadJS LoadQueue]"},createjs.LoadQueue=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractLoader_constructor(e,!0,createjs.Types.TEXT)}var t=(createjs.extend(e,createjs.AbstractLoader),e);t.canLoadItem=function(e){return e.type==createjs.Types.TEXT},createjs.TextLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractLoader_constructor(e,!0,createjs.Types.BINARY),this.on("initialize",this._updateXHR,this)}var t=createjs.extend(e,createjs.AbstractLoader);e.canLoadItem=function(e){return e.type==createjs.Types.BINARY},t._updateXHR=function(e){e.loader.setResponseType("arraybuffer")},createjs.BinaryLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.AbstractLoader_constructor(e,t,createjs.Types.CSS),this.resultFormatter=this._formatResult,this._tagSrcAttribute="href",this._tag=t?createjs.Elements.style():createjs.Elements.link(),this._tag.rel="stylesheet",this._tag.type="text/css"}var t=createjs.extend(e,createjs.AbstractLoader);e.canLoadItem=function(e){return e.type==createjs.Types.CSS},t._formatResult=function(e){if(this._preferXHR){var t=e.getTag();if(t.styleSheet)t.styleSheet.cssText=e.getResult(!0);else{var a=createjs.Elements.text(e.getResult(!0));t.appendChild(a)}}else t=this._tag;return createjs.DomUtils.appendToHead(t),t},createjs.CSSLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(e,t){this.AbstractLoader_constructor(e,t,e.type),this._faces={},this._watched=[],this._count=0,this._watchInterval=null,this._loadTimeout=null,this._injectCSS=!(void 0!==e.injectCSS)||e.injectCSS,this.dispatchEvent("initialize")}var e=createjs.extend(t,createjs.AbstractLoader);t.canLoadItem=function(e){return e.type==createjs.Types.FONT||e.type==createjs.Types.FONTCSS},t.sampleText="abcdefghijklmnopqrstuvwxyz ABCDEFGHIJKLMNOPQRSTUVWXYZ",t._ctx=document.createElement("canvas").getContext("2d"),t._referenceFonts=["serif","monospace"],t.WEIGHT_REGEX=/[- ._]*(thin|normal|book|regular|medium|black|heavy|[1-9]00|(?:extra|ultra|semi|demi)?[- ._]*(?:light|bold))[- ._]*/gi,t.STYLE_REGEX=/[- ._]*(italic|oblique)[- ._]*/gi,t.FONT_FORMAT={woff2:"woff2",woff:"woff",ttf:"truetype",otf:"truetype"},t.FONT_WEIGHT={thin:100,extralight:200,ultralight:200,light:300,semilight:300,demilight:300,book:"normal",regular:"normal",semibold:600,demibold:600,extrabold:800,ultrabold:800,black:900,heavy:900},t.WATCH_DURATION=10,e.load=function(){if(this.type==createjs.Types.FONTCSS){var e=this._watchCSS();if(!e)return void this.AbstractLoader_load()}else if(this._item.src instanceof Array)this._watchFontArray();else{var t=this._defFromSrc(this._item.src);this._watchFont(t),this._injectStyleTag(this._cssFromDef(t))}this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this.dispatchEvent("loadstart")},e._handleTimeout=function(){this._stopWatching(),this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT"))},e._createRequest=function(){return this._request},e.handleEvent=function(e){switch(e.type){case"complete":this._rawResult=e.target._response,this._result=!0,this._parseCSS(this._rawResult);break;case"error":this._stopWatching(),this.AbstractLoader_handleEvent(e);}},e._watchCSS=function(){var e=this._item.src;return e instanceof HTMLStyleElement&&(this._injectCSS&&!e.parentNode&&(document.head||document.getElementsByTagName("head")[0]).appendChild(e),this._injectCSS=!1,e="\n"+e.textContent),-1===e.search(/\n|\r|@font-face/i)?(this._request=new createjs.XHRRequest(this._item),!1):(this._parseCSS(e),!0)},e._parseCSS=function(e){for(var t;;){if(t=/@font-face\s*\{([^}]+)}/g.exec(e),!t)break;this._watchFont(this._parseFontFace(t[1]))}this._injectStyleTag(e)},e._watchFontArray=function(){for(var t,r,n=this._item.src,i="",o=n.length-1;0<=o;o--)r=n[o],t="string"==typeof r?this._defFromSrc(r):this._defFromObj(r),this._watchFont(t),i+=this._cssFromDef(t)+"\n";this._injectStyleTag(i)},e._injectStyleTag=function(e){if(this._injectCSS){var t=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e)),t.appendChild(a)}},e._parseFontFace=function(e){var t=this._getCSSValue(e,"font-family"),a=this._getCSSValue(e,"src");return t&&a?this._defFromObj({family:t,src:a,style:this._getCSSValue(e,"font-style"),weight:this._getCSSValue(e,"font-weight")}):null},e._watchFont=function(e){e&&!this._faces[e.id]&&(this._faces[e.id]=e,this._watched.push(e),this._count++,this._calculateReferenceSizes(e),this._startWatching())},e._startWatching=function(){null==this._watchInterval&&(this._watchInterval=setInterval(createjs.proxy(this._watch,this),t.WATCH_DURATION))},e._stopWatching=function(){clearInterval(this._watchInterval),clearTimeout(this._loadTimeout),this._watchInterval=null},e._watch=function(){for(var a=this._watched,r=t._referenceFonts,n=a.length,o=n-1;0<=o;o--)for(var d,l=a[o],u=l.refs,c=u.length-1;0<=c;c--)if(d=this._getTextWidth(l.family+","+r[c],l.weight,l.style),d!=u[c]){var _=new createjs.Event("fileload");l.type="font-family",_.item=l,this.dispatchEvent(_),a.splice(o,1);break}if(n!==a.length){var _=new createjs.ProgressEvent(this._count-a.length,this._count);this.dispatchEvent(_)}0===n&&(this._stopWatching(),this._sendComplete())},e._calculateReferenceSizes=function(a){for(var r=t._referenceFonts,n=a.refs=[],i=0;i<r.length;i++)n[i]=this._getTextWidth(r[i],a.weight,a.style)},e._defFromSrc=function(a){var r,n=/[- ._]+/g,o=a,d=null;r=o.search(/[?#]/),-1!==r&&(o=o.substr(0,r)),r=o.lastIndexOf("."),-1!==r&&(d=o.substr(r+1),o=o.substr(0,r)),r=o.lastIndexOf("/"),-1!==r&&(o=o.substr(r+1));var l=o,u=l.match(t.WEIGHT_REGEX);u&&(u=u[0],l=l.replace(u,""),u=u.replace(n,"").toLowerCase());var _=o.match(t.STYLE_REGEX);_&&(l=l.replace(_[0],""),_="italic"),l=l.replace(n,"");var p="local('"+o.replace(n," ")+"'), url('"+a+"')",m=t.FONT_FORMAT[d];return m&&(p+=" format('"+m+"')"),this._defFromObj({family:l,weight:t.FONT_WEIGHT[u]||u,style:_,src:p})},e._defFromObj=function(e){var t={family:e.family,src:e.src,style:e.style||"normal",weight:e.weight||"normal"};return t.id=t.family+";"+t.style+";"+t.weight,t},e._cssFromDef=function(e){return"@font-face {\n\tfont-family: '"+e.family+"';\n\tfont-style: "+e.style+";\n\tfont-weight: "+e.weight+";\n\tsrc: "+e.src+";\n}"},e._getTextWidth=function(a,r,n){var i=t._ctx;return i.font=n+" "+r+" 72px "+a,i.measureText(t.sampleText).width},e._getCSSValue=function(e,t){var a=new RegExp(t+":s*([^;}]+?)s*[;}]"),r=a.exec(e);return r&&r[1]?r[1]:null},createjs.FontLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.AbstractLoader_constructor(e,t,createjs.Types.IMAGE),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",createjs.DomUtils.isImageTag(e)?this._tag=e:createjs.DomUtils.isImageTag(e.src)?this._tag=e.src:createjs.DomUtils.isImageTag(e.tag)&&(this._tag=e.tag),null==this._tag?this._tag=createjs.Elements.img():this._preferXHR=!1,this.on("initialize",this._updateXHR,this)}var t=createjs.extend(e,createjs.AbstractLoader);e.canLoadItem=function(e){return e.type==createjs.Types.IMAGE},t.load=function(){if(""!=this._tag.src&&this._tag.complete)return void this._sendComplete();var e=this._item.crossOrigin;1==e&&(e="Anonymous"),null==e||createjs.URLUtils.isLocal(this._item)||(this._tag.crossOrigin=e),this.AbstractLoader_load()},t._updateXHR=function(e){e.loader.mimeType="text/plain; charset=x-user-defined-binary",e.loader.setResponseType&&e.loader.setResponseType("blob")},t._formatResult=function(){return this._formatImage},t._formatImage=function(t,r){var n=this._tag,a=window.URL||window.webkitURL;if(!this._preferXHR);else if(a){var i=a.createObjectURL(this.getResult(!0));n.src=i,n.addEventListener("load",this._cleanUpURL,!1),n.addEventListener("error",this._cleanUpURL,!1)}else n.src=this._item.src;n.complete?t(n):(n.onload=createjs.proxy(function(){t(this._tag),n.onload=n.onerror=null},this),n.onerror=createjs.proxy(function(e){r(new createjs.ErrorEvent("IMAGE_FORMAT",null,e)),n.onload=n.onerror=null},this))},t._cleanUpURL=function(e){var t=window.URL||window.webkitURL;t.revokeObjectURL(e.target.src)},createjs.ImageLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.AbstractLoader_constructor(e,t,createjs.Types.JAVASCRIPT),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",this.setTag(createjs.Elements.script())}var t=createjs.extend(e,createjs.AbstractLoader);e.canLoadItem=function(e){return e.type==createjs.Types.JAVASCRIPT},t._formatResult=function(e){var t=e.getTag();return this._preferXHR&&(t.text=e.getResult(!0)),t},createjs.JavaScriptLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractLoader_constructor(e,!0,createjs.Types.JSON),this.resultFormatter=this._formatResult}var t=createjs.extend(e,createjs.AbstractLoader);e.canLoadItem=function(e){return e.type==createjs.Types.JSON},t._formatResult=function(e){var t=null;try{t=createjs.DataUtils.parseJSON(e.getResult(!0))}catch(e){var a=new createjs.ErrorEvent("JSON_FORMAT",null,e);return this._sendError(a),e}return t},createjs.JSONLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractLoader_constructor(e,!1,createjs.Types.JSONP),this.setTag(createjs.Elements.script()),this.getTag().type="text/javascript"}var t=createjs.extend(e,createjs.AbstractLoader);e.canLoadItem=function(e){return e.type==createjs.Types.JSONP},t.cancel=function(){this.AbstractLoader_cancel(),this._dispose()},t.load=function(){if(null==this._item.callback)throw new Error("callback is required for loading JSONP requests.");if(null!=window[this._item.callback])throw new Error("JSONP callback '"+this._item.callback+"' already exists on window. You need to specify a different callback or re-name the current one.");window[this._item.callback]=createjs.proxy(this._handleLoad,this),createjs.DomUtils.appendToBody(this._tag),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag.src=this._item.src},t._handleLoad=function(e){this._result=this._rawResult=e,this._sendComplete(),this._dispose()},t._handleTimeout=function(){this._dispose(),this.dispatchEvent(new createjs.ErrorEvent("timeout"))},t._dispose=function(){createjs.DomUtils.removeChild(this._tag),delete window[this._item.callback],clearTimeout(this._loadTimeout)},createjs.JSONPLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.AbstractLoader_constructor(e,t,createjs.Types.MANIFEST),this.plugins=null,this._manifestQueue=null}var t=createjs.extend(e,createjs.AbstractLoader),r=e;r.MANIFEST_PROGRESS=.25,r.canLoadItem=function(e){return e.type==createjs.Types.MANIFEST},t.load=function(){this.AbstractLoader_load()},t._createRequest=function(){var e=this._item.callback;this._request=null==e?new createjs.JSONLoader(this._item):new createjs.JSONPLoader(this._item)},t.handleEvent=function(e){switch(e.type){case"complete":return this._rawResult=e.target.getResult(!0),this._result=e.target.getResult(),this._sendProgress(r.MANIFEST_PROGRESS),void this._loadManifest(this._result);case"progress":return e.loaded*=r.MANIFEST_PROGRESS,this.progress=e.loaded/e.total,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0),void this._sendProgress(e);}this.AbstractLoader_handleEvent(e)},t.destroy=function(){this.AbstractLoader_destroy(),this._manifestQueue.close()},t._loadManifest=function(e){if(e&&e.manifest){var t=this._manifestQueue=new createjs.LoadQueue(this._preferXHR);t.on("fileload",this._handleManifestFileLoad,this),t.on("progress",this._handleManifestProgress,this),t.on("complete",this._handleManifestComplete,this,!0),t.on("error",this._handleManifestError,this,!0);for(var a=0,r=this.plugins.length;r>a;a++)t.installPlugin(this.plugins[a]);t.loadManifest(e)}else this._sendComplete()},t._handleManifestFileLoad=function(e){e.target=null,this.dispatchEvent(e)},t._handleManifestComplete=function(){this._loadedItems=this._manifestQueue.getItems(!0),this._sendComplete()},t._handleManifestProgress=function(e){this.progress=e.progress*(1-r.MANIFEST_PROGRESS)+r.MANIFEST_PROGRESS,this._sendProgress(this.progress)},t._handleManifestError=function(e){var t=new createjs.Event("fileerror");t.item=e.data,this.dispatchEvent(t)},createjs.ManifestLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.AbstractMediaLoader_constructor(e,t,createjs.Types.SOUND),createjs.DomUtils.isAudioTag(e)?this._tag=e:createjs.DomUtils.isAudioTag(e.src)?this._tag=e:createjs.DomUtils.isAudioTag(e.tag)&&(this._tag=createjs.DomUtils.isAudioTag(e)?e:e.src),null!=this._tag&&(this._preferXHR=!1)}var t=createjs.extend(e,createjs.AbstractMediaLoader);e.canLoadItem=function(e){return e.type==createjs.Types.SOUND},t._createTag=function(e){var t=createjs.Elements.audio();return t.autoplay=!1,t.preload="none",t.src=e,t},createjs.SoundLoader=createjs.promote(e,"AbstractMediaLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.AbstractMediaLoader_constructor(e,t,createjs.Types.VIDEO),createjs.DomUtils.isVideoTag(e)||createjs.DomUtils.isVideoTag(e.src)?(this.setTag(createjs.DomUtils.isVideoTag(e)?e:e.src),this._preferXHR=!1):this.setTag(this._createTag())}var t=createjs.extend(e,createjs.AbstractMediaLoader);t._createTag=function(){return createjs.Elements.video()},e.canLoadItem=function(e){return e.type==createjs.Types.VIDEO},createjs.VideoLoader=createjs.promote(e,"AbstractMediaLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.AbstractLoader_constructor(e,t,createjs.Types.SPRITESHEET),this._manifestQueue=null}var t=createjs.extend(e,createjs.AbstractLoader),r=e;r.SPRITESHEET_PROGRESS=.25,r.canLoadItem=function(e){return e.type==createjs.Types.SPRITESHEET},t.destroy=function(){this.AbstractLoader_destroy(),this._manifestQueue.close()},t._createRequest=function(){var e=this._item.callback;this._request=null==e?new createjs.JSONLoader(this._item):new createjs.JSONPLoader(this._item)},t.handleEvent=function(e){switch(e.type){case"complete":return this._rawResult=e.target.getResult(!0),this._result=e.target.getResult(),this._sendProgress(r.SPRITESHEET_PROGRESS),void this._loadManifest(this._result);case"progress":return e.loaded*=r.SPRITESHEET_PROGRESS,this.progress=e.loaded/e.total,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0),void this._sendProgress(e);}this.AbstractLoader_handleEvent(e)},t._loadManifest=function(e){if(e&&e.images){var t=this._manifestQueue=new createjs.LoadQueue(this._preferXHR,this._item.path,this._item.crossOrigin);t.on("complete",this._handleManifestComplete,this,!0),t.on("fileload",this._handleManifestFileLoad,this),t.on("progress",this._handleManifestProgress,this),t.on("error",this._handleManifestError,this,!0),t.loadManifest(e.images)}},t._handleManifestFileLoad=function(e){var t=e.result;if(null!=t){var a=this.getResult().images,r=a.indexOf(e.item.src);a[r]=t}},t._handleManifestComplete=function(){this._result=new createjs.SpriteSheet(this._result),this._loadedItems=this._manifestQueue.getItems(!0),this._sendComplete()},t._handleManifestProgress=function(e){this.progress=e.progress*(1-r.SPRITESHEET_PROGRESS)+r.SPRITESHEET_PROGRESS,this._sendProgress(this.progress)},t._handleManifestError=function(e){var t=new createjs.Event("fileerror");t.item=e.data,this.dispatchEvent(t)},createjs.SpriteSheetLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.AbstractLoader_constructor(e,t,createjs.Types.SVG),this.resultFormatter=this._formatResult,this._tagSrcAttribute="data",t?this.setTag(createjs.Elements.svg()):(this.setTag(createjs.Elements.object()),this.getTag().type="image/svg+xml")}var t=createjs.extend(e,createjs.AbstractLoader);e.canLoadItem=function(e){return e.type==createjs.Types.SVG},t._formatResult=function(e){var t=createjs.DataUtils.parseXML(e.getResult(!0)),a=e.getTag();if(!this._preferXHR&&document.body.contains(a)&&document.body.removeChild(a),null!=t.documentElement){var r=t.documentElement;return document.importNode&&(r=document.importNode(r,!0)),a.appendChild(r),a}return t},createjs.SVGLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractLoader_constructor(e,!0,createjs.Types.XML),this.resultFormatter=this._formatResult}var t=createjs.extend(e,createjs.AbstractLoader);e.canLoadItem=function(e){return e.type==createjs.Types.XML},t._formatResult=function(e){return createjs.DataUtils.parseXML(e.getResult(!0))},createjs.XMLLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){var e=createjs.SoundJS=createjs.SoundJS||{};e.version="1.0.0",e.buildDate="Thu, 12 Oct 2017 16:34:05 GMT"}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"BrowserDetect cannot be instantiated"}var t=e.agent=window.navigator.userAgent;e.isWindowPhone=-1<t.indexOf("IEMobile")||-1<t.indexOf("Windows Phone"),e.isFirefox=-1<t.indexOf("Firefox"),e.isOpera=null!=window.opera,e.isChrome=-1<t.indexOf("Chrome"),e.isIOS=(-1<t.indexOf("iPod")||-1<t.indexOf("iPhone")||-1<t.indexOf("iPad"))&&!e.isWindowPhone,e.isAndroid=-1<t.indexOf("Android")&&!e.isWindowPhone,e.isBlackberry=-1<t.indexOf("Blackberry"),createjs.BrowserDetect=e}(),this.createjs=this.createjs||{},function(){"use strict";var e=function(){this.interrupt=null,this.delay=null,this.offset=null,this.loop=null,this.volume=null,this.pan=null,this.startTime=null,this.duration=null},t=e.prototype={},r=e;r.create=function(e){if("string"==typeof e)return console&&(console.warn||console.log)("Deprecated behaviour. Sound.play takes a configuration object instead of individual arguments. See docs for info."),new createjs.PlayPropsConfig().set({interrupt:e});if(null==e||e instanceof r||e instanceof Object)return new createjs.PlayPropsConfig().set(e);if(null==e)throw new Error("PlayProps configuration not recognized.")},t.set=function(e){if(null!=e)for(var t in e)this[t]=e[t];return this},t.toString=function(){return"[PlayPropsConfig]"},createjs.PlayPropsConfig=r}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"Sound cannot be instantiated"}function r(e,t){this.init(e,t)}var n=t;n.INTERRUPT_ANY="any",n.INTERRUPT_EARLY="early",n.INTERRUPT_LATE="late",n.INTERRUPT_NONE="none",n.PLAY_INITED="playInited",n.PLAY_SUCCEEDED="playSucceeded",n.PLAY_INTERRUPTED="playInterrupted",n.PLAY_FINISHED="playFinished",n.PLAY_FAILED="playFailed",n.SUPPORTED_EXTENSIONS=["mp3","ogg","opus","mpeg","wav","m4a","mp4","aiff","wma","mid"],n.EXTENSION_MAP={m4a:"mp4"},n.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([\/.]*?(?:[^?]+)?\/)?((?:[^\/?]+)\.(\w+))(?:\?(\S+)?)?$/,n.defaultInterruptBehavior=n.INTERRUPT_NONE,n.alternateExtensions=[],n.activePlugin=null,n._masterVolume=1,n._getMasterVolume=function(){return this._masterVolume},n.getVolume=createjs.deprecate(n._getMasterVolume,"Sound.getVolume"),n._setMasterVolume=function(t){if(null!=+t&&(t=Math.max(0,Math.min(1,t)),n._masterVolume=t,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(t)))for(var r=this._instances,i=0,o=r.length;o>i;i++)r[i].setMasterVolume(t)},n.setVolume=createjs.deprecate(n._setMasterVolume,"Sound.setVolume"),n._masterMute=!1,n._getMute=function(){return this._masterMute},n.getMute=createjs.deprecate(n._getMute,"Sound.getMute"),n._setMute=function(e){if(null!=e&&(this._masterMute=e,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(e)))for(var t=this._instances,a=0,r=t.length;r>a;a++)t[a].setMasterMute(e)},n.setMute=createjs.deprecate(n._setMute,"Sound.setMute"),n._getCapabilities=function(){return null==n.activePlugin?null:n.activePlugin._capabilities},n.getCapabilities=createjs.deprecate(n._getCapabilities,"Sound.getCapabilities"),Object.defineProperties(n,{volume:{get:n._getMasterVolume,set:n._setMasterVolume},muted:{get:n._getMute,set:n._setMute},capabilities:{get:n._getCapabilities}}),n._pluginsRegistered=!1,n._lastID=0,n._instances=[],n._idHash={},n._preloadHash={},n._defaultPlayPropsHash={},n.addEventListener=null,n.removeEventListener=null,n.removeAllEventListeners=null,n.dispatchEvent=null,n.hasEventListener=null,n._listeners=null,createjs.EventDispatcher.initialize(n),n.getPreloadHandlers=function(){return{callback:createjs.proxy(n.initLoad,n),types:["sound"],extensions:n.SUPPORTED_EXTENSIONS}},n._handleLoadComplete=function(t){var r=t.target.getItem().src;if(n._preloadHash[r])for(var i,o=0,l=n._preloadHash[r].length;l>o;o++)if(i=n._preloadHash[r][o],n._preloadHash[r][o]=!0,n.hasEventListener("fileload")){var t=new createjs.Event("fileload");t.src=i.src,t.id=i.id,t.data=i.data,t.sprite=i.sprite,n.dispatchEvent(t)}},n._handleLoadError=function(t){var r=t.target.getItem().src;if(n._preloadHash[r])for(var i,o=0,l=n._preloadHash[r].length;l>o;o++)if(i=n._preloadHash[r][o],n._preloadHash[r][o]=!1,n.hasEventListener("fileerror")){var t=new createjs.Event("fileerror");t.src=i.src,t.id=i.id,t.data=i.data,t.sprite=i.sprite,n.dispatchEvent(t)}},n._registerPlugin=function(e){return!!e.isSupported()&&(n.activePlugin=new e,!0)},n.registerPlugins=function(e){n._pluginsRegistered=!0;for(var t=0,a=e.length;a>t;t++)if(n._registerPlugin(e[t]))return!0;return!1},n.initializeDefaultPlugins=function(){return null!=n.activePlugin||!n._pluginsRegistered&&!!n.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin])},n.isReady=function(){return null!=n.activePlugin},n.initLoad=function(e){return!("video"!=e.type)||n._registerSound(e)},n._registerSound=function(t){if(!n.initializeDefaultPlugins())return!1;var a;if(t.src instanceof Object?(a=n._parseSrc(t.src),a.src=t.path+a.src):a=n._parsePath(t.src),null==a)return!1;t.src=a.src,t.type="sound";var o=t.data,e=null;if(null!=o&&(isNaN(o.channels)?isNaN(o)||(e=parseInt(o)):e=parseInt(o.channels),o.audioSprite))for(var l,u=o.audioSprite.length;u--;)l=o.audioSprite[u],n._idHash[l.id]={src:t.src,startTime:parseInt(l.startTime),duration:parseInt(l.duration)},l.defaultPlayProps&&(n._defaultPlayPropsHash[l.id]=createjs.PlayPropsConfig.create(l.defaultPlayProps));null!=t.id&&(n._idHash[t.id]={src:t.src});var c=n.activePlugin.register(t);return r.create(t.src,e),null!=o&&isNaN(o)?t.data.channels=e||r.maxPerChannel():t.data=e||r.maxPerChannel(),c.type&&(t.type=c.type),t.defaultPlayProps&&(n._defaultPlayPropsHash[t.src]=createjs.PlayPropsConfig.create(t.defaultPlayProps)),c},n.registerSound=function(t,a,r,i,o){var d={src:t,id:a,data:r,defaultPlayProps:o};t instanceof Object&&t.src&&(i=a,d=t),d=createjs.LoadItem.create(d),d.path=i,null==i||d.src instanceof Object||(d.src=i+d.src);var l=n._registerSound(d);if(!l)return!1;if(n._preloadHash[d.src]||(n._preloadHash[d.src]=[]),n._preloadHash[d.src].push(d),1==n._preloadHash[d.src].length)l.on("complete",this._handleLoadComplete,this),l.on("error",this._handleLoadError,this),n.activePlugin.preload(l);else if(1==n._preloadHash[d.src][0])return!0;return d},n.registerSounds=function(t,r){var n=[];t.path&&(r?r+=t.path:r=t.path,t=t.manifest);for(var i=0,o=t.length;o>i;i++)n[i]=createjs.Sound.registerSound(t[i].src,t[i].id,t[i].data,r,t[i].defaultPlayProps);return n},n.removeSound=function(t,i){if(null==n.activePlugin)return!1;t instanceof Object&&t.src&&(t=t.src);var o;if(t instanceof Object?o=n._parseSrc(t):(t=n._getSrcById(t).src,o=n._parsePath(t)),null==o)return!1;for(var d in t=o.src,null!=i&&(t=i+t),n._idHash)n._idHash[d].src==t&&delete n._idHash[d];return r.removeSrc(t),delete n._preloadHash[t],n.activePlugin.removeSound(t),!0},n.removeSounds=function(t,r){var n=[];t.path&&(r?r+=t.path:r=t.path,t=t.manifest);for(var i=0,o=t.length;o>i;i++)n[i]=createjs.Sound.removeSound(t[i].src,r);return n},n.removeAllSounds=function(){n._idHash={},n._preloadHash={},r.removeAll(),n.activePlugin&&n.activePlugin.removeAllSounds()},n.loadComplete=function(e){if(!n.isReady())return!1;var t=n._parsePath(e);return e=t?n._getSrcById(t.src).src:n._getSrcById(e).src,null!=n._preloadHash[e]&&1==n._preloadHash[e][0]},n._parsePath=function(t){"string"!=typeof t&&(t=t.toString());var r=t.match(n.FILE_PATTERN);if(null==r)return!1;for(var i=r[4],o=r[5],d=n.capabilities,l=0;!d[o];)if(o=n.alternateExtensions[l++],l>n.alternateExtensions.length)return null;t=t.replace("."+r[5],"."+o);var u={name:i,src:t,extension:o};return u},n._parseSrc=function(t){var a={name:void 0,src:void 0,extension:void 0},r=n.capabilities;for(var i in t)if(t.hasOwnProperty(i)&&r[i]){a.src=t[i],a.extension=i;break}if(!a.src)return!1;var e=a.src.lastIndexOf("/");return a.name=-1==e?a.src:a.src.slice(e+1),a},n.play=function(t,a){var r=createjs.PlayPropsConfig.create(a),i=n.createInstance(t,r.startTime,r.duration),e=n._playInstance(i,r);return e||i._playFailed(),i},n.createInstance=function(t,i,o){if(!n.initializeDefaultPlugins())return new createjs.DefaultSoundInstance(t,i,o);var e=n._defaultPlayPropsHash[t];t=n._getSrcById(t);var l=n._parsePath(t.src),u=null;return null!=l&&null!=l.src?(r.create(l.src),null==i&&(i=t.startTime),u=n.activePlugin.create(l.src,i,o||t.duration),e=e||n._defaultPlayPropsHash[l.src],e&&u.applyPlayProps(e)):u=new createjs.DefaultSoundInstance(t,i,o),u.uniqueId=n._lastID++,u},n.stop=function(){for(var e=this._instances,t=e.length;t--;)e[t].stop()},n.setDefaultPlayProps=function(e,t){e=n._getSrcById(e),n._defaultPlayPropsHash[n._parsePath(e.src).src]=createjs.PlayPropsConfig.create(t)},n.getDefaultPlayProps=function(e){return e=n._getSrcById(e),n._defaultPlayPropsHash[n._parsePath(e.src).src]},n._playInstance=function(t,a){var r=n._defaultPlayPropsHash[t.src]||{};if(null==a.interrupt&&(a.interrupt=r.interrupt||n.defaultInterruptBehavior),null==a.delay&&(a.delay=r.delay||0),null==a.offset&&(a.offset=t.position),null==a.loop&&(a.loop=t.loop),null==a.volume&&(a.volume=t.volume),null==a.pan&&(a.pan=t.pan),0==a.delay){var i=n._beginPlaying(t,a);if(!i)return!1}else{var e=setTimeout(function(){n._beginPlaying(t,a)},a.delay);t.delayTimeoutId=e}return this._instances.push(t),!0},n._beginPlaying=function(t,a){if(!r.add(t,a.interrupt))return!1;var n=t._beginPlaying(a);if(!n){var i=createjs.indexOf(this._instances,t);return-1<i&&this._instances.splice(i,1),!1}return!0},n._getSrcById=function(e){return n._idHash[e]||{src:e}},n._playFinished=function(e){r.remove(e);var t=createjs.indexOf(this._instances,e);-1<t&&this._instances.splice(t,1)},createjs.Sound=t,r.channels={},r.create=function(e,t){var a=r.get(e);return!(null!=a)&&(r.channels[e]=new r(e,t),!0)},r.removeSrc=function(e){var t=r.get(e);return null!=t&&(t._removeAll(),delete r.channels[e],!0)},r.removeAll=function(){for(var e in r.channels)r.channels[e]._removeAll();r.channels={}},r.add=function(e,t){var a=r.get(e.src);return null!=a&&a._add(e,t)},r.remove=function(e){var t=r.get(e.src);return null!=t&&(t._remove(e),!0)},r.maxPerChannel=function(){return e.maxDefault},r.get=function(e){return r.channels[e]};var e=r.prototype;e.constructor=r,e.src=null,e.max=null,e.maxDefault=100,e.length=0,e.init=function(e,t){this.src=e,this.max=t||this.maxDefault,-1==this.max&&(this.max=this.maxDefault),this._instances=[]},e._get=function(e){return this._instances[e]},e._add=function(e,t){return!!this._getSlot(t,e)&&(this._instances.push(e),this.length++,!0)},e._remove=function(e){var t=createjs.indexOf(this._instances,e);return-1!=t&&(this._instances.splice(t,1),this.length--,!0)},e._removeAll=function(){for(var e=this.length-1;0<=e;e--)this._instances[e].stop()},e._getSlot=function(a){var r,n;if(a!=t.INTERRUPT_NONE&&(n=this._get(0),null==n))return!0;for(var i=0,o=this.max;o>i;i++){if(r=this._get(i),null==r)return!0;if(r.playState==t.PLAY_FINISHED||r.playState==t.PLAY_INTERRUPTED||r.playState==t.PLAY_FAILED){n=r;break}a!=t.INTERRUPT_NONE&&(a==t.INTERRUPT_EARLY&&r.position<n.position||a==t.INTERRUPT_LATE&&r.position>n.position)&&(n=r)}return null!=n&&(n._interrupt(),this._remove(n),!0)},e.toString=function(){return"[Sound SoundChannel]"}}(),this.createjs=this.createjs||{},function(){"use strict";var e=function(e,t,a,r){this.EventDispatcher_constructor(),this.src=e,this.uniqueId=-1,this.playState=null,this.delayTimeoutId=null,this._volume=1,Object.defineProperty(this,"volume",{get:this._getVolume,set:this._setVolume}),this.getVolume=createjs.deprecate(this._getVolume,"AbstractSoundInstance.getVolume"),this.setVolume=createjs.deprecate(this._setVolume,"AbstractSoundInstance.setVolume"),this._pan=0,Object.defineProperty(this,"pan",{get:this._getPan,set:this._setPan}),this.getPan=createjs.deprecate(this._getPan,"AbstractSoundInstance.getPan"),this.setPan=createjs.deprecate(this._setPan,"AbstractSoundInstance.setPan"),this._startTime=Math.max(0,t||0),Object.defineProperty(this,"startTime",{get:this._getStartTime,set:this._setStartTime}),this.getStartTime=createjs.deprecate(this._getStartTime,"AbstractSoundInstance.getStartTime"),this.setStartTime=createjs.deprecate(this._setStartTime,"AbstractSoundInstance.setStartTime"),this._duration=Math.max(0,a||0),Object.defineProperty(this,"duration",{get:this._getDuration,set:this._setDuration}),this.getDuration=createjs.deprecate(this._getDuration,"AbstractSoundInstance.getDuration"),this.setDuration=createjs.deprecate(this._setDuration,"AbstractSoundInstance.setDuration"),this._playbackResource=null,Object.defineProperty(this,"playbackResource",{get:this._getPlaybackResource,set:this._setPlaybackResource}),!1!==r&&!0!==r&&this._setPlaybackResource(r),this.getPlaybackResource=createjs.deprecate(this._getPlaybackResource,"AbstractSoundInstance.getPlaybackResource"),this.setPlaybackResource=createjs.deprecate(this._setPlaybackResource,"AbstractSoundInstance.setPlaybackResource"),this._position=0,Object.defineProperty(this,"position",{get:this._getPosition,set:this._setPosition}),this.getPosition=createjs.deprecate(this._getPosition,"AbstractSoundInstance.getPosition"),this.setPosition=createjs.deprecate(this._setPosition,"AbstractSoundInstance.setPosition"),this._loop=0,Object.defineProperty(this,"loop",{get:this._getLoop,set:this._setLoop}),this.getLoop=createjs.deprecate(this._getLoop,"AbstractSoundInstance.getLoop"),this.setLoop=createjs.deprecate(this._setLoop,"AbstractSoundInstance.setLoop"),this._muted=!1,Object.defineProperty(this,"muted",{get:this._getMuted,set:this._setMuted}),this.getMuted=createjs.deprecate(this._getMuted,"AbstractSoundInstance.getMuted"),this.setMuted=createjs.deprecate(this._setMuted,"AbstractSoundInstance.setMuted"),this._paused=!1,Object.defineProperty(this,"paused",{get:this._getPaused,set:this._setPaused}),this.getPaused=createjs.deprecate(this._getPaused,"AbstractSoundInstance.getPaused"),this.setPaused=createjs.deprecate(this._setPaused,"AbstractSoundInstance.setPaused")},t=createjs.extend(e,createjs.EventDispatcher);t.play=function(e){var t=createjs.PlayPropsConfig.create(e);return this.playState==createjs.Sound.PLAY_SUCCEEDED?(this.applyPlayProps(t),void(this._paused&&this._setPaused(!1))):(this._cleanUp(),createjs.Sound._playInstance(this,t),this)},t.stop=function(){return this._position=0,this._paused=!1,this._handleStop(),this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,this},t.destroy=function(){this._cleanUp(),this.src=null,this.playbackResource=null,this.removeAllEventListeners()},t.applyPlayProps=function(e){return null!=e.offset&&this._setPosition(e.offset),null!=e.loop&&this._setLoop(e.loop),null!=e.volume&&this._setVolume(e.volume),null!=e.pan&&this._setPan(e.pan),null!=e.startTime&&(this._setStartTime(e.startTime),this._setDuration(e.duration)),this},t.toString=function(){return"[AbstractSoundInstance]"},t._getPaused=function(){return this._paused},t._setPaused=function(e){return!0!==e&&!1!==e||this._paused==e||1==e&&this.playState!=createjs.Sound.PLAY_SUCCEEDED?void 0:(this._paused=e,e?this._pause():this._resume(),clearTimeout(this.delayTimeoutId),this)},t._setVolume=function(e){return e==this._volume?this:(this._volume=Math.max(0,Math.min(1,e)),this._muted||this._updateVolume(),this)},t._getVolume=function(){return this._volume},t._setMuted=function(e){return!0===e||!1===e?(this._muted=e,this._updateVolume(),this):void 0},t._getMuted=function(){return this._muted},t._setPan=function(e){return e==this._pan?this:(this._pan=Math.max(-1,Math.min(1,e)),this._updatePan(),this)},t._getPan=function(){return this._pan},t._getPosition=function(){return this._paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED||(this._position=this._calculateCurrentPosition()),this._position},t._setPosition=function(e){return this._position=Math.max(0,e),this.playState==createjs.Sound.PLAY_SUCCEEDED&&this._updatePosition(),this},t._getStartTime=function(){return this._startTime},t._setStartTime=function(e){return e==this._startTime?this:(this._startTime=Math.max(0,e||0),this._updateStartTime(),this)},t._getDuration=function(){return this._duration},t._setDuration=function(e){return e==this._duration?this:(this._duration=Math.max(0,e||0),this._updateDuration(),this)},t._setPlaybackResource=function(e){return this._playbackResource=e,0==this._duration&&this._playbackResource&&this._setDurationFromSource(),this},t._getPlaybackResource=function(){return this._playbackResource},t._getLoop=function(){return this._loop},t._setLoop=function(e){null!=this._playbackResource&&(0!=this._loop&&0==e?this._removeLooping(e):0==this._loop&&0!=e&&this._addLooping(e)),this._loop=e},t._sendEvent=function(e){var t=new createjs.Event(e);this.dispatchEvent(t)},t._cleanUp=function(){clearTimeout(this.delayTimeoutId),this._handleCleanUp(),this._paused=!1,createjs.Sound._playFinished(this)},t._interrupt=function(){this._cleanUp(),this.playState=createjs.Sound.PLAY_INTERRUPTED,this._sendEvent("interrupted")},t._beginPlaying=function(e){return this._setPosition(e.offset),this._setLoop(e.loop),this._setVolume(e.volume),this._setPan(e.pan),null!=e.startTime&&(this._setStartTime(e.startTime),this._setDuration(e.duration)),null!=this._playbackResource&&this._position<this._duration?(this._paused=!1,this._handleSoundReady(),this.playState=createjs.Sound.PLAY_SUCCEEDED,this._sendEvent("succeeded"),!0):(this._playFailed(),!1)},t._playFailed=function(){this._cleanUp(),this.playState=createjs.Sound.PLAY_FAILED,this._sendEvent("failed")},t._handleSoundComplete=function(){return this._position=0,0==this._loop?(this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,void this._sendEvent("complete")):(this._loop--,this._handleLoop(),void this._sendEvent("loop"))},t._handleSoundReady=function(){},t._updateVolume=function(){},t._updatePan=function(){},t._updateStartTime=function(){},t._updateDuration=function(){},t._setDurationFromSource=function(){},t._calculateCurrentPosition=function(){},t._updatePosition=function(){},t._removeLooping=function(){},t._addLooping=function(){},t._pause=function(){},t._resume=function(){},t._handleStop=function(){},t._handleCleanUp=function(){},t._handleLoop=function(){},createjs.AbstractSoundInstance=createjs.promote(e,"EventDispatcher"),createjs.DefaultSoundInstance=createjs.AbstractSoundInstance}(),this.createjs=this.createjs||{},function(){"use strict";var e=function(){this._capabilities=null,this._loaders={},this._audioSources={},this._soundInstances={},this._volume=1,this._loaderClass,this._soundInstanceClass},t=e.prototype;e._capabilities=null,e.isSupported=function(){return!0},t.register=function(e){var t=this._loaders[e.src];return t&&!t.canceled?this._loaders[e.src]:(this._audioSources[e.src]=!0,this._soundInstances[e.src]=[],t=new this._loaderClass(e),t.on("complete",this._handlePreloadComplete,this),this._loaders[e.src]=t,t)},t.preload=function(e){e.on("error",this._handlePreloadError,this),e.load()},t.isPreloadStarted=function(e){return null!=this._audioSources[e]},t.isPreloadComplete=function(e){return null!=this._audioSources[e]&&1!=this._audioSources[e]},t.removeSound=function(e){if(this._soundInstances[e]){for(var t,a=this._soundInstances[e].length;a--;)t=this._soundInstances[e][a],t.destroy();delete this._soundInstances[e],delete this._audioSources[e],this._loaders[e]&&this._loaders[e].destroy(),delete this._loaders[e]}},t.removeAllSounds=function(){for(var e in this._audioSources)this.removeSound(e)},t.create=function(e,t,a){this.isPreloadStarted(e)||this.preload(this.register(e));var r=new this._soundInstanceClass(e,t,a,this._audioSources[e]);return this._soundInstances[e]&&this._soundInstances[e].push(r),r.setMasterVolume&&r.setMasterVolume(createjs.Sound.volume),r.setMasterMute&&r.setMasterMute(createjs.Sound.muted),r},t.setVolume=function(e){return this._volume=e,this._updateVolume(),!0},t.getVolume=function(){return this._volume},t.setMute=function(){return this._updateVolume(),!0},t.toString=function(){return"[AbstractPlugin]"},t._handlePreloadComplete=function(t){var a=t.target.getItem().src;this._audioSources[a]=t.result;for(var r,n=0,i=this._soundInstances[a].length;i>n;n++)r=this._soundInstances[a][n],r.playbackResource=this._audioSources[a],this._soundInstances[a]=null},t._handlePreloadError=function(){},t._updateVolume=function(){},createjs.AbstractPlugin=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractLoader_constructor(e,!0,createjs.Types.SOUND)}var t=createjs.extend(e,createjs.AbstractLoader);e.context=null,t.toString=function(){return"[WebAudioLoader]"},t._createRequest=function(){this._request=new createjs.XHRRequest(this._item,!1),this._request.setResponseType("arraybuffer")},t._sendComplete=function(){e.context.decodeAudioData(this._rawResult,createjs.proxy(this._handleAudioDecoded,this),createjs.proxy(this._sendError,this))},t._handleAudioDecoded=function(e){this._result=e,this.AbstractLoader__sendComplete()},createjs.WebAudioLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(t,a,n,i){this.AbstractSoundInstance_constructor(t,a,n,i),this.gainNode=r.context.createGain(),this.panNode=r.context.createPanner(),this.panNode.panningModel=r._panningModel,this.panNode.connect(this.gainNode),this._updatePan(),this.sourceNode=null,this._soundCompleteTimeout=null,this._sourceNodeNext=null,this._playbackStartTime=0,this._endedHandler=createjs.proxy(this._handleSoundComplete,this)}var t=createjs.extend(e,createjs.AbstractSoundInstance),r=e;r.context=null,r._scratchBuffer=null,r.destinationNode=null,r._panningModel="equalpower",t.destroy=function(){this.AbstractSoundInstance_destroy(),this.panNode.disconnect(0),this.panNode=null,this.gainNode.disconnect(0),this.gainNode=null},t.toString=function(){return"[WebAudioSoundInstance]"},t._updatePan=function(){this.panNode.setPosition(this._pan,0,-.5)},t._removeLooping=function(){this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)},t._addLooping=function(){this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},t._setDurationFromSource=function(){this._duration=1e3*this.playbackResource.duration},t._handleCleanUp=function(){this.sourceNode&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout),this._playbackStartTime=0},t._cleanUpAudioNode=function(e){if(e){if(e.stop(0),e.disconnect(0),createjs.BrowserDetect.isIOS)try{e.buffer=r._scratchBuffer}catch(e){}e=null}return e},t._handleSoundReady=function(){this.gainNode.connect(r.destinationNode);var e=.001*this._duration,t=Math.min(.001*Math.max(0,this._position),e);this.sourceNode=this._createAndPlayAudioNode(r.context.currentTime-e,t),this._playbackStartTime=this.sourceNode.startTime-t,this._soundCompleteTimeout=setTimeout(this._endedHandler,1e3*(e-t)),0!=this._loop&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},t._createAndPlayAudioNode=function(t,a){var n=r.context.createBufferSource();n.buffer=this.playbackResource,n.connect(this.panNode);var i=.001*this._duration;return n.startTime=t+i,n.start(n.startTime,a+.001*this._startTime,i-a),n},t._pause=function(){this._position=1e3*(r.context.currentTime-this._playbackStartTime),this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout)},t._resume=function(){this._handleSoundReady()},t._updateVolume=function(){var e=this._muted?0:this._volume;e!=this.gainNode.gain.value&&(this.gainNode.gain.value=e)},t._calculateCurrentPosition=function(){return 1e3*(r.context.currentTime-this._playbackStartTime)},t._updatePosition=function(){this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),clearTimeout(this._soundCompleteTimeout),this._paused||this._handleSoundReady()},t._handleLoop=function(){this._cleanUpAudioNode(this.sourceNode),this.sourceNode=this._sourceNodeNext,this._playbackStartTime=this.sourceNode.startTime,this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0),this._soundCompleteTimeout=setTimeout(this._endedHandler,this._duration)},t._updateDuration=function(){this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._pause(),this._resume())},createjs.WebAudioSoundInstance=createjs.promote(e,"AbstractSoundInstance")}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this.AbstractPlugin_constructor(),this._panningModel=r._panningModel,this.context=r.context,this.dynamicsCompressorNode=this.context.createDynamicsCompressor(),this.dynamicsCompressorNode.connect(this.context.destination),this.gainNode=this.context.createGain(),this.gainNode.connect(this.dynamicsCompressorNode),createjs.WebAudioSoundInstance.destinationNode=this.gainNode,this._capabilities=r._capabilities,this._loaderClass=createjs.WebAudioLoader,this._soundInstanceClass=createjs.WebAudioSoundInstance,this._addPropsToClasses()}var t=createjs.extend(e,createjs.AbstractPlugin),r=e;r._capabilities=null,r._panningModel="equalpower",r.context=null,r._scratchBuffer=null,r._unlocked=!1,r.DEFAULT_SAMPLE_RATE=44100,r.isSupported=function(){var e=createjs.BrowserDetect.isIOS||createjs.BrowserDetect.isAndroid||createjs.BrowserDetect.isBlackberry;return!!("file:"!=location.protocol||e||this._isFileXHRSupported())&&(r._generateCapabilities(),null!=r.context)},r.playEmptySound=function(){if(null!=r.context){var e=r.context.createBufferSource();e.buffer=r._scratchBuffer,e.connect(r.context.destination),e.start(0,0,0)}},r._isFileXHRSupported=function(){var e=!0,t=new XMLHttpRequest;try{t.open("GET","WebAudioPluginTest.fail",!1)}catch(t){return e=!1}t.onerror=function(){e=!1},t.onload=function(){e=404==this.status||200==this.status||0==this.status&&""!=this.response};try{t.send()}catch(t){e=!1}return e},r._generateCapabilities=function(){if(null==r._capabilities){var t=document.createElement("audio");if(null==t.canPlayType)return null;if(null==r.context&&(r.context=r._createAudioContext(),null==r.context))return null;null==r._scratchBuffer&&(r._scratchBuffer=r.context.createBuffer(1,1,22050)),r._compatibilitySetUp(),"ontouchstart"in window&&"running"!=r.context.state&&(r._unlock(),document.addEventListener("mousedown",r._unlock,!0),document.addEventListener("touchstart",r._unlock,!0),document.addEventListener("touchend",r._unlock,!0)),r._capabilities={panning:!0,volume:!0,tracks:-1};for(var a=createjs.Sound.SUPPORTED_EXTENSIONS,n=createjs.Sound.EXTENSION_MAP,i=0,o=a.length;o>i;i++){var d=a[i],l=n[d]||d;r._capabilities[d]="no"!=t.canPlayType("audio/"+d)&&""!=t.canPlayType("audio/"+d)||"no"!=t.canPlayType("audio/"+l)&&""!=t.canPlayType("audio/"+l)}2>r.context.destination.numberOfChannels&&(r._capabilities.panning=!1)}},r._createAudioContext=function(){var t=window.AudioContext||window.webkitAudioContext;if(null==t)return null;var a=new t;if(/(iPhone|iPad)/i.test(navigator.userAgent)&&a.sampleRate!==r.DEFAULT_SAMPLE_RATE){var n=a.createBuffer(1,1,r.DEFAULT_SAMPLE_RATE),i=a.createBufferSource();i.buffer=n,i.connect(a.destination),i.start(0),i.disconnect(),a.close(),a=new t}return a},r._compatibilitySetUp=function(){if(r._panningModel="equalpower",!r.context.createGain){r.context.createGain=r.context.createGainNode;var e=r.context.createBufferSource();e.__proto__.start=e.__proto__.noteGrainOn,e.__proto__.stop=e.__proto__.noteOff,r._panningModel=0}},r._unlock=function(){r._unlocked||(r.playEmptySound(),"running"==r.context.state&&(document.removeEventListener("mousedown",r._unlock,!0),document.removeEventListener("touchend",r._unlock,!0),document.removeEventListener("touchstart",r._unlock,!0),r._unlocked=!0))},t.toString=function(){return"[WebAudioPlugin]"},t._addPropsToClasses=function(){var e=this._soundInstanceClass;e.context=this.context,e._scratchBuffer=r._scratchBuffer,e.destinationNode=this.gainNode,e._panningModel=this._panningModel,this._loaderClass.context=this.context},t._updateVolume=function(){var e=createjs.Sound._masterMute?0:this._volume;e!=this.gainNode.gain.value&&(this.gainNode.gain.value=e)},createjs.WebAudioPlugin=createjs.promote(e,"AbstractPlugin")}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"HTMLAudioTagPool cannot be instantiated"}function t(){this._tags=[]}var r=e;r._tags={},r._tagPool=new t,r._tagUsed={},r.get=function(e){var t=r._tags[e];return null==t?(t=r._tags[e]=r._tagPool.get(),t.src=e):r._tagUsed[e]?(t=r._tagPool.get(),t.src=e):r._tagUsed[e]=!0,t},r.set=function(e,t){t==r._tags[e]?r._tagUsed[e]=!1:r._tagPool.set(t)},r.remove=function(e){var t=r._tags[e];return null!=t&&(r._tagPool.set(t),delete r._tags[e],delete r._tagUsed[e],!0)},r.getDuration=function(e){var t=r._tags[e];return null!=t&&t.duration?1e3*t.duration:0},createjs.HTMLAudioTagPool=e;var a=t.prototype;a.constructor=t,a.get=function(){var e;return e=0==this._tags.length?this._createTag():this._tags.pop(),null==e.parentNode&&document.body.appendChild(e),e},a.set=function(e){var t=createjs.indexOf(this._tags,e);-1==t&&(this._tags.src=null,this._tags.push(e))},a.toString=function(){return"[TagPool]"},a._createTag=function(){var e=document.createElement("audio");return e.autoplay=!1,e.preload="none",e}}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,a,r){this.AbstractSoundInstance_constructor(e,t,a,r),this._audioSpriteStopTime=null,this._delayTimeoutId=null,this._endedHandler=createjs.proxy(this._handleSoundComplete,this),this._readyHandler=createjs.proxy(this._handleTagReady,this),this._stalledHandler=createjs.proxy(this._playFailed,this),this._audioSpriteEndHandler=createjs.proxy(this._handleAudioSpriteLoop,this),this._loopHandler=createjs.proxy(this._handleSoundComplete,this),a?this._audioSpriteStopTime=.001*(t+a):this._duration=createjs.HTMLAudioTagPool.getDuration(this.src)}var t=createjs.extend(e,createjs.AbstractSoundInstance);t.setMasterVolume=function(){this._updateVolume()},t.setMasterMute=function(){this._updateVolume()},t.toString=function(){return"[HTMLAudioSoundInstance]"},t._removeLooping=function(){null!=this._playbackResource&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},t._addLooping=function(){null==this._playbackResource||this._audioSpriteStopTime||(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)},t._handleCleanUp=function(){var e=this._playbackResource;if(null!=e){e.pause(),e.loop=!1,e.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),e.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),e.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),e.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),e.removeEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1);try{e.currentTime=this._startTime}catch(e){}createjs.HTMLAudioTagPool.set(this.src,e),this._playbackResource=null}},t._beginPlaying=function(e){return this._playbackResource=createjs.HTMLAudioTagPool.get(this.src),this.AbstractSoundInstance__beginPlaying(e)},t._handleSoundReady=function(){if(4!==this._playbackResource.readyState){var e=this._playbackResource;return e.addEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),e.addEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),e.preload="auto",void e.load()}this._updateVolume(),this._playbackResource.currentTime=.001*(this._startTime+this._position),this._audioSpriteStopTime?this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1):(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),0!=this._loop&&(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)),this._playbackResource.play()},t._handleTagReady=function(){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),this._handleSoundReady()},t._pause=function(){this._playbackResource.pause()},t._resume=function(){this._playbackResource.play()},t._updateVolume=function(){if(null!=this._playbackResource){var e=this._muted||createjs.Sound._masterMute?0:this._volume*createjs.Sound._masterVolume;e!=this._playbackResource.volume&&(this._playbackResource.volume=e)}},t._calculateCurrentPosition=function(){return 1e3*this._playbackResource.currentTime-this._startTime},t._updatePosition=function(){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1);try{this._playbackResource.currentTime=.001*(this._position+this._startTime)}catch(e){this._handleSetPositionSeek(null)}},t._handleSetPositionSeek=function(){null!=this._playbackResource&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},t._handleAudioSpriteLoop=function(){this._playbackResource.currentTime<=this._audioSpriteStopTime||(this._playbackResource.pause(),0==this._loop?this._handleSoundComplete(null):(this._position=0,this._loop--,this._playbackResource.currentTime=.001*this._startTime,this._paused||this._playbackResource.play(),this._sendEvent("loop")))},t._handleLoop=function(){0==this._loop&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},t._updateStartTime=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},t._updateDuration=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},t._setDurationFromSource=function(){this._duration=createjs.HTMLAudioTagPool.getDuration(this.src),this._playbackResource=null},createjs.HTMLAudioSoundInstance=createjs.promote(e,"AbstractSoundInstance")}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this.AbstractPlugin_constructor(),this._capabilities=r._capabilities,this._loaderClass=createjs.SoundLoader,this._soundInstanceClass=createjs.HTMLAudioSoundInstance}var t=createjs.extend(e,createjs.AbstractPlugin),r=e;r.MAX_INSTANCES=30,r._AUDIO_READY="canplaythrough",r._AUDIO_ENDED="ended",r._AUDIO_SEEKED="seeked",r._AUDIO_STALLED="stalled",r._TIME_UPDATE="timeupdate",r._capabilities=null,r.isSupported=function(){return r._generateCapabilities(),null!=r._capabilities},r._generateCapabilities=function(){if(null==r._capabilities){var t=document.createElement("audio");if(null==t.canPlayType)return null;r._capabilities={panning:!1,volume:!0,tracks:-1};for(var a=createjs.Sound.SUPPORTED_EXTENSIONS,n=createjs.Sound.EXTENSION_MAP,i=0,o=a.length;o>i;i++){var d=a[i],l=n[d]||d;r._capabilities[d]="no"!=t.canPlayType("audio/"+d)&&""!=t.canPlayType("audio/"+d)||"no"!=t.canPlayType("audio/"+l)&&""!=t.canPlayType("audio/"+l)}}},t.register=function(e){var t=createjs.HTMLAudioTagPool.get(e.src),a=this.AbstractPlugin_register(e);return a.setTag(t),a},t.removeSound=function(e){this.AbstractPlugin_removeSound(e),createjs.HTMLAudioTagPool.remove(e)},t.create=function(e,t,a){var r=this.AbstractPlugin_create(e,t,a);return r.playbackResource=null,r},t.toString=function(){return"[HTMLAudioPlugin]"},t.setVolume=t.getVolume=t.setMute=null,createjs.HTMLAudioPlugin=createjs.promote(e,"AbstractPlugin")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.EventDispatcher_constructor(),this.ignoreGlobalPause=!1,this.loop=0,this.useTicks=!1,this.reversed=!1,this.bounce=!1,this.timeScale=1,this.duration=0,this.position=0,this.rawPosition=-1,this._paused=!0,this._next=null,this._prev=null,this._parent=null,this._labels=null,this._labelList=null,e&&(this.useTicks=!!e.useTicks,this.ignoreGlobalPause=!!e.ignoreGlobalPause,this.loop=!0===e.loop?-1:e.loop||0,this.reversed=!!e.reversed,this.bounce=!!e.bounce,this.timeScale=e.timeScale||1,e.onChange&&this.addEventListener("change",e.onChange),e.onComplete&&this.addEventListener("complete",e.onComplete))}var t=createjs.extend(e,createjs.EventDispatcher);t._setPaused=function(e){return createjs.Tween._register(this,e),this},t.setPaused=createjs.deprecate(t._setPaused,"AbstractTween.setPaused"),t._getPaused=function(){return this._paused},t.getPaused=createjs.deprecate(t._getPaused,"AbstactTween.getPaused"),t._getCurrentLabel=function(e){var t=this.getLabels();null==e&&(e=this.position);for(var r=0,n=t.length;n>r&&!(e<t[r].position);r++);return 0==r?null:t[r-1].label},t.getCurrentLabel=createjs.deprecate(t._getCurrentLabel,"AbstractTween.getCurrentLabel");try{Object.defineProperties(t,{paused:{set:t._setPaused,get:t._getPaused},currentLabel:{get:t._getCurrentLabel}})}catch(e){}t.advance=function(e,t){this.setPosition(this.rawPosition+e*this.timeScale,t)},t.setPosition=function(t,r,n,o){var d=this.duration,e=this.loop,l=this.rawPosition,u=0,c=0,_=!1;if(!(0>t&&(t=0),0===d)){if(u=0|t/d,c=t-u*d,_=-1!==e&&t>=e*d+d,_&&(t=(c=d)*(u=e)+d),t===l)return _;var p=!this.reversed!=!(this.bounce&&u%2);p&&(c=d-c)}else if(_=!0,-1!==l)return _;this.position=c,this.rawPosition=t,this._updatePosition(n,_),_&&(this.paused=!0),o&&o(this),r||this._runActions(l,t,n,!n&&-1===l),this.dispatchEvent("change"),_&&this.dispatchEvent("complete")},t.calculatePosition=function(t){var a=this.duration,r=this.loop,n=0,i=0;if(0===a)return 0;-1!==r&&t>=r*a+a?(i=a,n=r):0>t?i=0:(n=0|t/a,i=t-n*a);var o=!this.reversed!=!(this.bounce&&n%2);return o?a-i:i},t.getLabels=function(){var e=this._labelList;if(!e){e=this._labelList=[];var t=this._labels;for(var r in t)e.push({label:r,position:t[r]});e.sort(function(e,t){return e.position-t.position})}return e},t.setLabels=function(e){this._labels=e,this._labelList=null},t.addLabel=function(t,a){this._labels||(this._labels={}),this._labels[t]=a;var r=this._labelList;if(r){for(var n=0,i=r.length;i>n&&!(a<r[n].position);n++);r.splice(n,0,{label:t,position:a})}},t.gotoAndPlay=function(e){this.paused=!1,this._goto(e)},t.gotoAndStop=function(e){this.paused=!0,this._goto(e)},t.resolve=function(e){var t=+e;return isNaN(t)&&(t=this._labels&&this._labels[e]),t},t.toString=function(){return"[AbstractTween]"},t.clone=function(){throw"AbstractTween can not be cloned."},t._init=function(e){e&&e.paused||(this.paused=!1),e&&null!=e.position&&this.setPosition(e.position)},t._updatePosition=function(){},t._goto=function(e){var t=this.resolve(e);null!=t&&this.setPosition(t,!1,!0)},t._runActions=function(t,a,r,u){if(this._actionHead||this.tweens){var c,_,T,b,y=this.duration,i=this.reversed,x=this.bounce,E=this.loop;if(0===y?(c=_=T=b=0,i=x=!1):(c=0|t/y,_=0|a/y,T=t-c*y,b=a-_*y),-1!==E&&(_>E&&(b=y,_=E),c>E&&(T=y,c=E)),r)return this._runActionsRange(b,b,r,u);if(c!==_||T!==b||r||u){-1===c&&(c=T=0);var l=a>=t,m=c;do{var S=!i!=!(x&&m%2),o=m===c?T:l?0:y,v=m===_?b:l?y:0;if(S&&(o=y-o,v=y-v),x&&m!==c&&o===v);else if(this._runActionsRange(o,v,r,u||m!==c&&!x))return!0;u=!1}while(l&&++m<=_||!l&&--m>=_)}}},t._runActionsRange=function(){},createjs.AbstractTween=createjs.promote(e,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function t(e,a){this.AbstractTween_constructor(a),this.pluginData=null,this.target=e,this.passive=!1,this._stepHead=new r(null,0,0,{},null,!0),this._stepTail=this._stepHead,this._stepPosition=0,this._actionHead=null,this._actionTail=null,this._plugins=null,this._pluginIds=null,this._injected=null,a&&(this.pluginData=a.pluginData,a.override&&t.removeTweens(e)),this.pluginData||(this.pluginData={}),this._init(a)}function r(t,a,r,n,i,e){this.next=null,this.prev=t,this.t=a,this.d=r,this.props=n,this.ease=i,this.passive=e,this.index=t?t.index+1:0}function n(t,a,r,n,i){this.next=null,this.prev=t,this.t=a,this.d=0,this.scope=r,this.funct=n,this.params=i}var e=createjs.extend(t,createjs.AbstractTween);t.IGNORE={},t._tweens=[],t._plugins=null,t._tweenHead=null,t._tweenTail=null,t.get=function(e,a){return new t(e,a)},t.tick=function(a,r){for(var n,i=t._tweenHead;i;)n=i._next,r&&!i.ignoreGlobalPause||i._paused||i.advance(i.useTicks?1:a),i=n},t.handleEvent=function(e){"tick"===e.type&&this.tick(e.delta,e.paused)},t.removeTweens=function(e){if(e.tweenjs_count){for(var a,r=t._tweenHead;r;)a=r._next,r.target===e&&t._register(r,!0),r=a;e.tweenjs_count=0}},t.removeAllTweens=function(){for(var e,a=t._tweenHead;a;)e=a._next,a._paused=!0,a.target&&(a.target.tweenjs_count=0),a._next=a._prev=null,a=e;t._tweenHead=t._tweenTail=null},t.hasActiveTweens=function(e){return e?!!e.tweenjs_count:!!t._tweenHead},t._installPlugin=function(a){for(var r=a.priority=a.priority||0,n=t._plugins=t._plugins||[],i=0,o=n.length;o>i&&!(r<n[i].priority);i++);n.splice(i,0,a)},t._register=function(a,r){var n=a.target;if(!r&&a._paused){n&&(n.tweenjs_count=n.tweenjs_count?n.tweenjs_count+1:1);var i=t._tweenTail;i?(t._tweenTail=i._next=a,a._prev=i):t._tweenHead=t._tweenTail=a,!t._inited&&createjs.Ticker&&(createjs.Ticker.addEventListener("tick",t),t._inited=!0)}else if(r&&!a._paused){n&&n.tweenjs_count--;var e=a._next,o=a._prev;e?e._prev=o:t._tweenTail=o,o?o._next=e:t._tweenHead=e,a._next=a._prev=null}a._paused=r},e.wait=function(e,t){return 0<e&&this._addStep(+e,this._stepTail.props,null,t),this},e.to=function(e,t,a){(null==t||0>t)&&(t=0);var r=this._addStep(+t,null,a);return this._appendProps(e,r),this},e.label=function(e){return this.addLabel(e,this.duration),this},e.call=function(e,t,a){return this._addAction(a||this.target,e,t||[this])},e.set=function(e,t){return this._addAction(t||this.target,this._set,[e])},e.play=function(e){return this._addAction(e||this,this._set,[{paused:!1}])},e.pause=function(e){return this._addAction(e||this,this._set,[{paused:!0}])},e.w=e.wait,e.t=e.to,e.c=e.call,e.s=e.set,e.toString=function(){return"[Tween]"},e.clone=function(){throw"Tween can not be cloned."},e._addPlugin=function(t){var a=this._pluginIds||(this._pluginIds={}),r=t.ID;if(r&&!a[r]){a[r]=!0;for(var n=this._plugins||(this._plugins=[]),i=t.priority||0,e=0,o=n.length;o>e;e++)if(i<n[e].priority)return void n.splice(e,0,t);n.push(t)}},e._updatePosition=function(t,a){var r=this._stepHead.next,n=this.position,i=this.duration;if(this.target&&r){for(var e=r.next;e&&e.t<=n;)r=r.next,e=r.next;var o=a?0===i?1:n/i:(n-r.t)/r.d;this._updateTargetProps(r,o,a)}this._stepPosition=r?n-r.t:0},e._updateTargetProps=function(a,r,u){if(!(this.passive=!!a.passive)){var d,_,p,T,b=a.prev.props,i=a.props;(T=a.ease)&&(r=T(r,0,1,1));var y=this._plugins;a:for(var x in b){if(_=b[x],p=i[x],d=_!==p&&"number"==typeof _?_+(p-_)*r:1<=r?p:_,y)for(var l,E=0,S=y.length;S>E;E++){if(l=y[E].change(this,a,x,d,r,u),l===t.IGNORE)continue a;void 0!==l&&(d=l)}this.target[x]=d}}},e._runActionsRange=function(t,a,r,n){var o=t>a,e=o?this._actionTail:this._actionHead,d=a,l=t;o&&(d=t,l=a);for(var u,c=this.position;e;){if(u=e.t,(u===a||u>l&&d>u||n&&u===t)&&(e.funct.apply(e.scope,e.params),c!==this.position))return!0;e=o?e.prev:e.next}},e._appendProps=function(a,u,c){var d,_,T,b,y,x=this._stepHead.props,E=this.target,S=t._plugins,v=u.prev,m=v.props,n=u.props||(u.props=this._cloneProps(m)),o={};for(d in a)if(a.hasOwnProperty(d)&&(o[d]=n[d]=a[d],void 0===x[d])){if(b=void 0,S)for(_=S.length-1;0<=_;_--)if(T=S[_].init(this,d,b),void 0!==T&&(b=T),b===t.IGNORE){delete n[d],delete o[d];break}b!==t.IGNORE&&(void 0===b&&(b=E[d]),m[d]=void 0===b?null:b)}for(d in o){T=a[d];for(var p,P=v;(p=P)&&(P=p.prev);)if(P.props!==p.props){if(void 0!==P.props[d])break;P.props[d]=m[d]}}if(!1!==c&&(S=this._plugins))for(_=S.length-1;0<=_;_--)S[_].step(this,u,o);(y=this._injected)&&(this._injected=null,this._appendProps(y,u,!1))},e._injectProp=function(e,t){var a=this._injected||(this._injected={});a[e]=t},e._addStep=function(t,a,n,i){var e=new r(this._stepTail,this.duration,t,a,n,i||!1);return this.duration+=t,this._stepTail=this._stepTail.next=e},e._addAction=function(t,a,r){var i=new n(this._actionTail,this.duration,t,a,r);return this._actionTail?this._actionTail.next=i:this._actionHead=i,this._actionTail=i,this},e._set=function(e){for(var t in e)this[t]=e[t]},e._cloneProps=function(e){var t={};for(var a in e)t[a]=e[a];return t},createjs.Tween=createjs.promote(t,"AbstractTween")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){var t,r;e instanceof Array||null==e&&1<arguments.length?(t=e,r=arguments[1],e=arguments[2]):e&&(t=e.tweens,r=e.labels),this.AbstractTween_constructor(e),this.tweens=[],t&&this.addTween.apply(this,t),this.setLabels(r),this._init(e)}var t=createjs.extend(e,createjs.AbstractTween);t.addTween=function(e){e._parent&&e._parent.removeTween(e);var t=arguments.length;if(1<t){for(var a=0;t>a;a++)this.addTween(arguments[a]);return arguments[t-1]}if(0===t)return null;this.tweens.push(e),e._parent=this,e.paused=!0;var r=e.duration;return 0<e.loop&&(r*=e.loop+1),r>this.duration&&(this.duration=r),0<=this.rawPosition&&e.setPosition(this.rawPosition),e},t.removeTween=function(t){var a=arguments.length;if(1<a){for(var r=!0,n=0;a>n;n++)r=r&&this.removeTween(arguments[n]);return r}if(0===a)return!0;for(var i=this.tweens,n=i.length;n--;)if(i[n]===t)return i.splice(n,1),t._parent=null,t.duration>=this.duration&&this.updateDuration(),!0;return!1},t.updateDuration=function(){this.duration=0;for(var e=0,t=this.tweens.length;t>e;e++){var r=this.tweens[e],n=r.duration;0<r.loop&&(n*=r.loop+1),n>this.duration&&(this.duration=n)}},t.toString=function(){return"[Timeline]"},t.clone=function(){throw"Timeline can not be cloned."},t._updatePosition=function(t){for(var a=this.position,r=0,n=this.tweens.length;n>r;r++)this.tweens[r].setPosition(a,!0,t)},t._runActionsRange=function(t,a,r,n){for(var i=this.position,e=0,o=this.tweens.length;o>e;e++)if(this.tweens[e]._runActions(t,a,r,n),i!==this.position)return!0},createjs.Timeline=createjs.promote(e,"AbstractTween")}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"Ease cannot be instantiated."}e.linear=function(e){return e},e.none=e.linear,e.get=function(e){return-1>e?e=-1:1<e&&(e=1),function(t){return 0==e?t:0>e?t*(t*-e+1+e):t*((2-t)*e+(1-e))}},e.getPowIn=function(e){return function(t){return Math.pow(t,e)}},e.getPowOut=function(e){return function(t){return 1-Math.pow(1-t,e)}},e.getPowInOut=function(e){return function(t){return 1>(t*=2)?.5*Math.pow(t,e):1-.5*Math.abs(Math.pow(2-t,e))}},e.quadIn=e.getPowIn(2),e.quadOut=e.getPowOut(2),e.quadInOut=e.getPowInOut(2),e.cubicIn=e.getPowIn(3),e.cubicOut=e.getPowOut(3),e.cubicInOut=e.getPowInOut(3),e.quartIn=e.getPowIn(4),e.quartOut=e.getPowOut(4),e.quartInOut=e.getPowInOut(4),e.quintIn=e.getPowIn(5),e.quintOut=e.getPowOut(5),e.quintInOut=e.getPowInOut(5),e.sineIn=function(e){return 1-Math.cos(e*Math.PI/2)},e.sineOut=function(e){return Math.sin(e*Math.PI/2)},e.sineInOut=function(e){return-.5*(Math.cos(Math.PI*e)-1)},e.getBackIn=function(e){return function(t){return t*t*((e+1)*t-e)}},e.backIn=e.getBackIn(1.7),e.getBackOut=function(e){return function(t){return--t*t*((e+1)*t+e)+1}},e.backOut=e.getBackOut(1.7),e.getBackInOut=function(e){return e*=1.525,function(t){return 1>(t*=2)?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)}},e.backInOut=e.getBackInOut(1.7),e.circIn=function(e){return-(Math.sqrt(1-e*e)-1)},e.circOut=function(e){return Math.sqrt(1- --e*e)},e.circInOut=function(e){return 1>(e*=2)?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},e.bounceIn=function(t){return 1-e.bounceOut(1-t)},e.bounceOut=function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},e.bounceInOut=function(t){return .5>t?.5*e.bounceIn(2*t):.5*e.bounceOut(2*t-1)+.5},e.getElasticIn=function(t,a){var r=2*Math.PI;return function(n){if(0==n||1==n)return n;var i=a/r*Math.asin(1/t);return-(t*Math.pow(2,10*(n-=1))*Math.sin((n-i)*r/a))}},e.elasticIn=e.getElasticIn(1,.3),e.getElasticOut=function(t,a){var r=2*Math.PI;return function(n){if(0==n||1==n)return n;var i=a/r*Math.asin(1/t);return t*Math.pow(2,-10*n)*Math.sin((n-i)*r/a)+1}},e.elasticOut=e.getElasticOut(1,.3),e.getElasticInOut=function(t,a){var r=2*Math.PI;return function(n){var i=a/r*Math.asin(1/t);return 1>(n*=2)?-.5*(t*Math.pow(2,10*(n-=1))*Math.sin((n-i)*r/a)):.5*(t*Math.pow(2,-10*(n-=1))*Math.sin((n-i)*r/a))+1}},e.elasticInOut=e.getElasticInOut(1,1.5*.3),createjs.Ease=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"MotionGuidePlugin cannot be instantiated."}var _=e;_.priority=0,_.ID="MotionGuide",_.install=function(){return createjs.Tween._installPlugin(e),createjs.Tween.IGNORE},_.init=function(e,t){"guide"==t&&e._addPlugin(_)},_.step=function(t,a,r){for(var n in r)if("guide"==n){var e=a.props.guide,o=_._solveGuideData(r.guide,e);e.valid=!o;var d=e.endData;if(t._injectProp("x",d.x),t._injectProp("y",d.y),o||!e.orient)break;var u=void 0===a.prev.props.rotation?t.target.rotation||0:a.prev.props.rotation;if(e.startOffsetRot=u-e.startData.rotation,"fixed"==e.orient)e.endAbsRot=d.rotation+e.startOffsetRot,e.deltaRotation=0;else{var i=void 0===r.rotation?t.target.rotation||0:r.rotation,c=i-e.endData.rotation-e.startOffsetRot,p=c%360;switch(e.endAbsRot=i,e.orient){case"auto":e.deltaRotation=c;break;case"cw":e.deltaRotation=(p+360)%360+360*Math.abs(0|c/360);break;case"ccw":e.deltaRotation=(p-360)%360+-360*Math.abs(0|c/360);}}t._injectProp("rotation",e.endAbsRot)}},_.change=function(t,a,r,n,e){var i=a.props.guide;if(i&&a.props!==a.prev.props&&i!==a.prev.props.guide)return"guide"===r&&!i.valid||"x"==r||"y"==r||"rotation"===r&&i.orient?createjs.Tween.IGNORE:void _._ratioToPositionData(e,i,t.target)},_.debug=function(t,r,n){t=t.guide||t;var i=_._findPathProblems(t);if(i&&console.error("MotionGuidePlugin Error found: \n"+i),!r)return i;var e,o=t.path,d=o.length;for(r.save(),r.lineCap="round",r.lineJoin="miter",r.beginPath(),r.moveTo(o[0],o[1]),e=2;d>e;e+=4)r.quadraticCurveTo(o[e],o[e+1],o[e+2],o[e+3]);r.strokeStyle="black",r.lineWidth=1.5*3,r.stroke(),r.strokeStyle="white",r.lineWidth=3,r.stroke(),r.closePath();var u=n.length;if(n&&u){var c={},l={};_._solveGuideData(t,c);for(var e=0;u>e;e++)c.orient="fixed",_._ratioToPositionData(n[e],c,l),r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(l.x+Math.cos(.0174533*l.rotation)*9,l.y+Math.sin(.0174533*l.rotation)*9),r.strokeStyle="black",r.lineWidth=1.5*3,r.stroke(),r.strokeStyle="red",r.lineWidth=3,r.stroke(),r.closePath()}return r.restore(),i},_._solveGuideData=function(p,a){var c;if(c=_.debug(p))return c;var T=a.path=p.path;a.orient=p.orient,a.subLines=[],a.totalLength=0,a.startOffsetRot=0,a.deltaRotation=0,a.startData={ratio:0},a.endData={ratio:1},a.animSpan=1;var e,b,E,S,P,R,A,L,I,C=T.length,o={};for(e=T[0],b=T[1],A=2;C>A;A+=4){E=T[A],S=T[A+1],P=T[A+2],R=T[A+3];var D={weightings:[],estLength:0,portion:0},r=e,O=b;for(L=1;10>=L;L++){_._getParamsForCurve(e,b,E,S,P,R,L/10,!1,o);var M=o.x-r,u=o.y-O;I=Math.sqrt(M*M+u*u),D.weightings.push(I),D.estLength+=I,r=o.x,O=o.y}for(a.totalLength+=D.estLength,L=0;10>L;L++)I=D.estLength,D.weightings[L]/=I;a.subLines.push(D),e=P,b=R}I=a.totalLength;var v=a.subLines.length;for(A=0;v>A;A++)a.subLines[A].portion=a.subLines[A].estLength/I;var w=isNaN(p.start)?0:p.start,x=isNaN(p.end)?1:p.end;_._ratioToPositionData(w,a,a.startData),_._ratioToPositionData(x,a,a.endData),a.startData.ratio=w,a.endData.ratio=x,a.animSpan=a.endData.ratio-a.startData.ratio},_._ratioToPositionData=function(t,a,r){var d,l,u,c,T,b=a.subLines,y=0,x=t*a.animSpan+a.startData.ratio;for(l=b.length,d=0;l>d;d++){if(c=b[d].portion,y+c>=x){T=d;break}y+=c}void 0===T&&(T=l-1,y-=c);var m=b[T].weightings,n=c;for(l=m.length,d=0;l>d&&(c=m[d]*n,!(y+c>=x));d++)y+=c;T=4*T+2,u=d/10+(x-y)/c*(1/10);var o=a.path;return _._getParamsForCurve(o[T-2],o[T-1],o[T],o[T+1],o[T+2],o[T+3],u,a.orient,r),a.orient&&(.99999<=t&&1.00001>=t&&void 0!==a.endAbsRot?r.rotation=a.endAbsRot:r.rotation+=a.startOffsetRot+t*a.deltaRotation),r},_._getParamsForCurve=function(t,a,r,n,o,e,d,l,u){var i=1-d;u.x=i*i*t+2*i*d*r+d*d*o,u.y=i*i*a+2*i*d*n+d*d*e,l&&(u.rotation=57.2957795*Math.atan2((n-a)*i+(e-n)*d,(r-t)*i+(o-r)*d))},_._findPathProblems=function(t){var a=t.path,r=a&&a.length||0;if(6>r||(r-2)%4){var n="\tCannot parse 'path' array due to invalid number of entries in path. ";return n+="There should be an odd number of points, at least 3 points, and 2 entries per point (x & y). ",n+="See 'CanvasRenderingContext2D.quadraticCurveTo' for details as 'path' models a quadratic bezier.\n\n",n+="Only [ "+r+" ] values found. Expected: "+Math.max(4*Math.ceil((r-2)/4)+2,6)}for(var i=0;r>i;i++)if(isNaN(a[i]))return"All data in path array must be numeric";var o=t.start;if(isNaN(o)&&void 0!==o)return"'start' out of bounds. Expected 0 to 1, got: "+o;var l=t.end;if(isNaN(l)&&void 0!==l)return"'end' out of bounds. Expected 0 to 1, got: "+l;var u=t.orient;return u&&"fixed"!=u&&"auto"!=u&&"cw"!=u&&"ccw"!=u?"Invalid orientation value. Expected [\"fixed\", \"auto\", \"cw\", \"ccw\", undefined], got: "+u:void 0},createjs.MotionGuidePlugin=e}(),this.createjs=this.createjs||{},function(){"use strict";var e=createjs.TweenJS=createjs.TweenJS||{};e.version="1.0.0",e.buildDate="Thu, 12 Oct 2017 16:34:05 GMT"}();gameready=function(){function e(a){window.requestAnimationFrame(e),t(a),r()}function t(e){var t=(e-i)/1e3;i=e,updater(),a(t)}function a(e){.25<o&&(l=Math.round(d/o),o=0,d=0),o+=e,d++}function r(){renderer(),n()}function n(){context.fillStyle="#000000",context.font="12px Verdana"}var i=0,o=0,d=0,l=0;console.log("assets loaded"),setTimeout(function(){gameobjects.gamestate=gameobjects.states.loading},10),function(){initer(),e(0)}()};var gameobjects={totalBubbles:25,collectableTimeTick:0,collectableWormTick:0,defaults:{warnings:{x:600,y:500,width:600,height:100},worms:15,bombs:5,collectableTimeTickMax:30,collectableWormTick:30},player:{x:-900,y:60,width:350,height:100,xdir:1,ydir:1,speed:200,score:0,level:1,target:250,targetMin:250,targetTolevelFactor:150,timeMin:120,time:0,timeToLevelFactor:1,lastScore:0,HighScore:5e3,worms:0,bombs:0,collisionBox:{x:-900,y:60,width:320,height:100}},hook:{x:0,y:60,width:20,height:20,speed:10},collectables:{x:0,y:60,width:20,height:20,speed:10,total:20,totalworms:10,totalbombs:3,maxCount:2},bubble:{x:0,y:60,width:200,height:200,speed:10},background:{x:0,y:0,width:900,height:1e3,speed:200},sky:{x:0,y:0,width:900,height:1e3,speed:200},underwater:{x:0,y:0,width:900,height:1e3,speed:200},ground:{x:0,y:0,width:900,height:1e3,speed:200},fish:{maxCount:50,morePerLevel:2,MinCount:10,caught:{x:0,y:0,width:140,height:80,rotation:90}},shark:{maxCount:2,morePerLevel:1,MinCount:1,scorepoints:50},collectableImages:["BubbleWorm","BubbleTime","BubbleBomb","BubbleGift","BubbleTreasure"],gamestate:"",states:{loading:"loading",home:"home",play:"play",pause:"pause",overpass:"overpass",overfail:"overfail",info:"info"},images:["images/Textures/Background/Sky.png","images/Textures/Background/Background.png","images/Textures/Background/Underwater.png","images/Textures/Background/Ground.png","images/Textures/Fishes/Fish_1_0.png","images/Textures/Fishes/Fish_2_0.png","images/Textures/Fishes/Fish_3_0.png","images/Textures/Fishes/Fish_4_0.png","images/Textures/Fishes/Fish_5_0.png","images/Textures/Player/PlayerHead_0.png","images/Textures/Player/Boat.png","images/Textures/Player/Worm_0.png","images/Textures/Player/PlayerHandPaddle.png","images/Textures/Player/PlayerHandRot.png","images/Textures/Player/PlayerBody.png","images/Textures/Player/Hook.png","images/Textures/Player/Plumb.png","images/Textures/Bubbles/Bubble.png","images/Textures/Shark/Shark_0.png","images/Textures/Bubbles/BubbleWorm.png","images/Textures/Bubbles/BubbleBomb.png","images/Textures/Bubbles/BubbleGift.png","images/Textures/Bubbles/BubbleTime.png","images/Textures/Bubbles/BubbleTreasure.png","images/Textures/Bubbles/Bomb.png","images/Textures/collisionBox.png","images/Textures/Explosion_1/Explosion_1_0.png","images/Textures/Explosion_1/Explosion_1_1.png","images/Textures/Explosion_1/Explosion_1_2.png","images/Textures/Explosion_1/Explosion_1_3.png","images/Textures/Explosion_1/Explosion_1_4.png","images/Textures/Explosion_1/Explosion_1_5.png","images/Textures/Explosion_1/Explosion_1_6.png","images/Textures/Explosion_1/Explosion_1_7.png","images/Textures/Explosion_1/Explosion_1_8.png","images/Textures/GameLogo.png","images/Textures/Buttons/BtnPlayOn.png","images/Textures/Buttons/Button.png","images/Textures/Buttons/BtnSoundOn.png","images/Textures/Buttons/BtnSoundOff.png","images/Textures/Buttons/BtnRestartOn.png","images/Textures/Buttons/BtnInfoOn.png","images/Textures/Buttons/BtnExitOn.png","images/Textures/Text/Paused.png","images/Textures/Text/LevelUp.png","images/Textures/Text/TimeOver.png","images/Textures/Frame2.png","images/Textures/Frame.png","images/Textures/Fonts/Font.png"],sounds:["media/gamemusic.ogg","media/bomb.m4a","media/explosion.m4a","media/bubble.m4a","media/caught.m4a","media/addbombs.m4a","media/levelup.m4a","media/gameover.m4a"]},GUI={canvas:{x:0,y:0,width:1600,height:1e3},homeScreen:{x:0,y:0,width:1600,height:1e3,xdir:1,ydir:1,speed:200},gamelogo:{x:350,y:50,width:900,height:400},playMenu:{x:0,y:500,width:400,height:400},pauseMenu:{x:0,y:500,width:400,height:400},btnPlay:{x:50,y:50,width:150,height:150},btnSound:{x:50,y:50,width:150,height:150},btnInfo:{x:50,y:50,width:150,height:150},btnCommon:{x:50,y:50,width:150,height:150},btnPointer:{x:50,y:50,width:150,height:150},stats:{yup:20,ydown:900},levelup:{x:350,y:50,width:900,height:400},btnPadding:200,loading:!0},img=loadImages(gameobjects.images),sound=loadSound(gameobjects.sounds),homeScreenButtonList=[img.BtnPlayOn,img.BtnInfoOn,img.BtnSoundOn],pauseScreenButtonList=[img.BtnPlayOn,img.BtnRestartOn,img.BtnExitOn,img.BtnSoundOn],homeScreenPointerPos=0,pauseScreenPointerPos=0,globalsound=!0,loadcount=0,loadtotal=0,preloaded=!1;function loadImages(e){preloaded=!1;for(var t,a=[],r={},n=0;n<e.length;n++)t=new Image,t.onload=function(){loadcount+=1,loadcount==e.length&&(preloaded=!0)},t.src=e[n],a[n]=t,r[t.src.split("/")[t.src.split("/").length-1].split(".")[0]]=t;return r}function loadSound(e){for(var t,a=[],r={},n=0;n<e.length;n++)t=new Audio(e[n]),a[n]=t,r[t.src.split("/")[t.src.split("/").length-1].split(".")[0]]=t;return r}function handleGlobalSound(){globalsound=!globalsound,globalsound?sound.gamemusic.play():(sound.gamemusic.pause(),sound.gamemusic.currentTime=0),Object.keys(sound).forEach(function(e){sound[e].volume=globalsound?1:0})}function fishEntity(){this.type=random(1,5),this.xdir=randomBool(-1,1),this.x=-1==this.xdir?1700:-100,this.y=random(350,800),this.height=80,this.width=120,this.speed=randomFloat(1,5),this.scorepoints=8+2*this.type,this.fishtype="Fish_"+this.type+"_0",sound.caught.play()}function sharkEntity(){this.xdir=randomBool(-1,1),this.width=600,this.height=300,this.x=-1==this.xdir?1700+this.width:-(100+this.width),this.y=random(300,600),this.ydir=1,this.speed=5}function bubbleEntity(){this.xdir=randomBool(-1,1),this.x=random(0,1600),this.y=random(900,1800),this.size=random(10,25),this.speed=randomFloat(1,5)}function collectableEntity(e){this.x=random(100,1500),this.y=1e3,this.size=70,this.speed=2,this.type=e,this.image=img[gameobjects.collectableImages[this.type-1]],this.scorepoints=function(){return 1==this.type?10:2==this.type?30:3==this.type?5:4==this.type?100:5==this.type?200:void 0},sound.bubble.play()}function bombEntity(){this.x=gameobjects.player.x+gameobjects.player.width/2,this.y=300,this.width=50,this.height=50,this.speed=2,sound.bomb.play()}function blastEntity(){this.x=0,this.y=0,this.width=400,this.height=400,this.frames=[img.Explosion_1_0,img.Explosion_1_1,img.Explosion_1_2,img.Explosion_1_3,img.Explosion_1_4,img.Explosion_1_5,img.Explosion_1_6,img.Explosion_1_7,img.Explosion_1_8],this.frameIndex=0,sound.explosion.play()}var lastgamestate="home";window.addEventListener("blur",function(){lastgamestate=gameobjects.gamestate,gameobjects.gamestate=gameobjects.states.pause,sound.gamemusic.pause()}),window.addEventListener("focus",function(){gameobjects.gamestate=lastgamestate,sound.gamemusic.play()}),window.onload=function(){resizeCanvas(),setTimeout(function(){canvas.style.display="block",document.getElementById("loader").style.display="none",gameready()},2e3)},window.onresize=function(){resizeCanvas()};var canvas,context;Canvas2D();function Canvas2D(){canvas=document.getElementById("viewport"),context=canvas.getContext("2d")}var level={x:1,y:65,width:canvas.width-2,height:canvas.height-66};function resizeCanvas(){canvas.style.height=window.innerHeight+"px",canvas.style.width=window.innerWidth+"px"}var canvas2d=new Canvas2D;function resizeCanvasKeepAR(){widthToHeight=window.innerWidth/window.innerHeight,widthToHeightIdeal=16/10,state=widthToHeight>widthToHeightIdeal?"wider":"higher",widthToHeight>widthToHeightIdeal?(canvas.style.height=window.innerHeight+"px",canvas.style.width=window.innerHeight*widthToHeightIdeal+"px",canvas.style.marginLeft=(window.innerWidth-window.innerHeight*widthToHeightIdeal)/2+"px",canvas.style.marginTop="0px"):(canvas.style.width=window.innerWidth+"px",canvas.style.height=window.innerWidth/widthToHeightIdeal+"px",canvas.style.marginTop=(window.innerHeight-window.innerWidth/widthToHeightIdeal)/2+"px",canvas.style.marginLeft="0px")}var caught=null,scrollength=0,fishes=[],collectables=[],sharks=[],bombs=[],blasts=[],bubbles=[],keyState={},stopwatch=null;window.addEventListener("keydown",function(t){keyState[t.keyCode||t.which]=!0},!0),window.addEventListener("keyup",function(t){keyState[t.keyCode||t.which]=!1},!0),window.addEventListener("keyup",moveSomething,!1);function initer(){CreatBackground(),createBubble(),createHomeMenu()}function restartgame(){clearLastGame(),startGame()}function clearLastGame(){gameobjects.player.lastScore=gameobjects.player.score,gameobjects.player.HighScore=gameobjects.player.lastScore>gameobjects.player.HighScore?gameobjects.player.lastScore:gameobjects.player.HighScore,fishes=[],sharks=[],collectables=[],caught=!1}function startGame(){gameobjects.player.target=gameobjects.player.targetMin,gameobjects.collectableWormTick=10,gameobjects.collectableTimeTick=0,gameobjects.player.score=0,gameobjects.player.level=1,gameobjects.player.x=400,createFish(),gameobjects.player.worms=gameobjects.defaults.worms,gameobjects.player.bombs=gameobjects.defaults.bombs,gameobjects.player.time=gameobjects.player.timeMin,clearTimeout(stopwatch),stopwatch=stopwatchcounter()}function stopwatchcounter(){return setInterval(function(){onEachSecond()},1e3)}function onEachSecond(){gameobjects.gamestate==gameobjects.states.play&&(gameobjects.player.time-=1,stopwatchTick()),0==gameobjects.player.time&&(stopwatchTimeOut(),clearTimeout(stopwatch))}function stopwatchTick(){gameobjects.player.score>=gameobjects.player.target&&(gameobjects.player.level+=1,gameobjects.player.target=gameobjects.player.targetMin+gameobjects.player.level*gameobjects.player.targetTolevelFactor,createjs.Tween.get(GUI.levelup).play(createjs.Tween.get(GUI.levelup,{paused:!0,loop:!1}).to({y:1400},0).to({y:-400},2e3,createjs.Ease.quadOut).to({y:1400},0)),sound.levelup.play());1==random(1,10)?createShark():null;1==random(1,10)?createCollectables(random(3,5)):null,gameobjects.collectableTimeTick+=1,gameobjects.collectableWormTick+=1,gameobjects.collectableTimeTick>gameobjects.defaults.collectableTimeTickMax&&(gameobjects.collectableTimeTick=0,createCollectables(2)),gameobjects.collectableWormTick>gameobjects.defaults.collectableWormTick&&(gameobjects.collectableWormTick=0,createCollectables(1))}function stopwatchTimeOut(){gameobjects.gamestate=gameobjects.states.overfail,gameobjects.player.level=1,sound.gameover.play(),clearLastGame()}function upkeyPressed(){0<gameobjects.player.bombs&&(bombs.push(new bombEntity),gameobjects.player.bombs-=1)}function updater(){if(gameobjects.gamestate==gameobjects.states.play){backgroundScrolling();for(var e=0;e<fishes.length;e++)fishes[e].x+=fishes[e].xdir*fishes[e].speed,1800<fishes[e].x&&(fishes[e].x=-100),-200>fishes[e].x&&(fishes[e].x=1700);for(var t=0;t<sharks.length;t++)sharks[t].x+=sharks[t].xdir*sharks[t].speed,(2300<sharks[t].x||-700>sharks[t].x)&&sharks.splice(t,1);keyState[37]&&(gameobjects.player.x-=5),keyState[39]&&(gameobjects.player.x+=5),gameobjects.player.x+gameobjects.player.width>canvas.width&&(gameobjects.player.x=canvas.width-gameobjects.player.width),0>gameobjects.player.x&&(gameobjects.player.x=0);var a=0<gameobjects.player.worms?fishCatched():null,r=fishLost();caught=a?a:caught,keyState[40]&&!caught?gameobjects.hook.y+=5:gameobjects.hook.y-=5,gameobjects.hook.x=gameobjects.player.x+377;for(var n=0;n<collectables.length;n++)collectables[n].y-=collectables[n].speed,250>collectables[n].y&&(checkIntersection1D(gameobjects.player.x+40,gameobjects.player.width-120,collectables[n].x,collectables[n].size)&&(1==collectables[n].type&&(gameobjects.player.worms+=collectables[n].scorepoints()),2==collectables[n].type&&(gameobjects.player.time+=collectables[n].scorepoints()),3==collectables[n].type&&(gameobjects.player.bombs+=collectables[n].scorepoints()),4==collectables[n].type&&(gameobjects.player.score+=collectables[n].scorepoints()),5==collectables[n].type&&(gameobjects.player.score+=collectables[n].scorepoints()),sound.addbombs.play()),collectables.splice(n,1));caught&&(caught.x=gameobjects.hook.x,caught.y=gameobjects.hook.y),150>gameobjects.hook.y?(gameobjects.hook.y=150,caught=null):900<gameobjects.hook.y&&(gameobjects.hook.y=900);for(var i=0;i<bombs.length;i++)bombs[i].y+=bombs[i].speed,800<bombs[i].y&&(createBlast(bombs[i]),bombs.splice(i,1));sharkCatched()}}function renderer(){renderGlobalElements(),renderUI()}function moveSomething(t){switch(t.keyCode){case 37:leftkeyPressedGUI();break;case 38:gameobjects.gamestate==gameobjects.states.play&&upkeyPressed(),upkeyPressedGUI();break;case 39:rightkeyPressedGUI();break;case 40:downkeyPressedGUI();break;case 32:break;case 13:enterkeyPressedGUI();}}function backgroundScrolling(){scrollength-=1,scrollength<-gameobjects.background.width&&(scrollength=0)}function CreatBackground(){gameobjects.player.x=-1e3,gameobjects.hook.x=-1e3,gameobjects.background.y=200,gameobjects.background.x=level.x/2,createjs.Tween.get(gameobjects.background).play(createjs.Tween.get(gameobjects.background,{paused:!0,loop:!0}).to({y:205},500,createjs.Ease.quadOut).to({y:200},500,createjs.Ease.quadOut)),createjs.Tween.get(gameobjects.player).play(createjs.Tween.get(gameobjects.player,{paused:!0,loop:!0}).to({y:gameobjects.player.y+10},500,createjs.Ease.quadOut).to({y:gameobjects.player.y},500,createjs.Ease.quadOut))}function createFish(){function e(e){createjs.Tween.get(fishes[e]).play(createjs.Tween.get(fishes[e],{paused:!0,loop:!0}).to({y:fishes[e].y+10},500,createjs.Ease.quadOut).to({y:fishes[e].y},500,createjs.Ease.quadOut)),createjs.Tween.get(fishes[e]).play(createjs.Tween.get(fishes[e],{paused:!0,loop:!0}).to({height:fishes[e].height+5},500,createjs.Ease.quadOut).to({height:fishes[e].height},500,createjs.Ease.quadOut))}var t=gameobjects.fish.MinCount+gameobjects.fish.morePerLevel*gameobjects.player.level;t=t>gameobjects.fish.maxCount?gameobjects.fish.maxCount:t;for(var a=0;a<t;a++)null==fishes[a]&&(fishes[a]=new fishEntity,e(a))}function createShark(){function e(e){createjs.Tween.get(sharks[e]).play(createjs.Tween.get(sharks[e],{paused:!0,loop:!0}).to({y:sharks[e].y+10},500,createjs.Ease.quadOut).to({y:sharks[e].y},500,createjs.Ease.quadOut)),createjs.Tween.get(sharks[e]).play(createjs.Tween.get(sharks[e],{paused:!0,loop:!0}).to({height:sharks[e].height+5},500,createjs.Ease.quadOut).to({height:sharks[e].height},500,createjs.Ease.quadOut))}var t=gameobjects.shark.MinCount+gameobjects.shark.morePerLevel*gameobjects.player.level;t=t>gameobjects.shark.maxCount?gameobjects.shark.maxCount:t;for(var a=0;a<t;a++)if(null==sharks[a]){sharks[a]=new sharkEntity,e(a);break}}function createCollectables(e){for(var t=0;t<gameobjects.collectables.maxCount;t++)if(null==collectables[t]){collectables[t]=new collectableEntity(e);break}}function createBubble(){function e(t){bubbles[t].x=random(0,1600),bubbles[t].y=900,bubbles[t].size=random(10,30),createjs.Tween.get(bubbles[t],{loop:!1}).wait(random(bubbles[t].x)).to({x:bubbles[t].x,y:240,width:bubbles[t].size,height:bubbles[t].size},random(5e3,1e4),createjs.Ease.easeInOut).call(e,[t])}for(var t=0;50>t;t++)if(null==bubbles[t]){var a=new bubbleEntity;bubbles[t]=a,e(t)}}function fishCatched(){for(var e=null,t=0;t<fishes.length;t++)if(checkIntersection(gameobjects.hook,fishes[t]))return e=fishes[t],gameobjects.player.score+=e.scorepoints,gameobjects.player.worms-=1,fishes.splice(t,1),createFish(),e}function sharkCatched(){for(var e=0;e<sharks.length;e++)for(var t=0;t<bombs.length;t++)if(checkIntersection(bombs[t],sharks[e])){gameobjects.player.score+=1*gameobjects.shark.scorepoints,createBlast(bombs[t]),bombs.splice(t,1),sharks.splice(e,1);break}}function createBlast(e){var t=new blastEntity;t.x=e.x+e.width/2-t.width/2,t.y=e.y+e.height/2-t.height/2;blasts.push(t)-1}function fishLost(){for(var e=null,t=0;t<sharks.length;t++)for(var a=0;a<fishes.length;a++)if(checkIntersection(sharks[t],fishes[a]))return e=fishes[a],fishes.splice(a,1),createFish(),e}function checkIntersection(e,t){return!(e.x>=t.x+t.width||e.x+e.width<=t.x||e.y>=t.y+t.height||e.y+e.height<=t.y)}function checkIntersection1D(e,t,a,r){return!(e>=a+r||e+t<=a)}function characterIndex(e){for(var t=0;t<spritefontproperties.xindex;t++)for(var a,r=0;r<spritefontproperties.yindex;r++)if(a=spritefontproperties.characterSet[r*spritefontproperties.xindex+t],e.toLowerCase()==a.toLowerCase()){var n={i:t,j:r};return n}}function spriteWrite(e,t,a,r,n){n&&(a-=e.length*t.size*t.spacing/2);for(var o=0;o<e.length;o++)if(" "!=e[o]){var d=characterIndex(e[o]).i,i=characterIndex(e[o]).j;context.drawImage(img.Font,t.charwidth*d,t.charwidth*i,t.stretchx,t.stretchx,a+t.size*t.spacing*o,r,t.size,t.size)}}var spritefontproperties={characterSet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789.,:;?!-+=~&$%()/{}[]<>^*\u25B2\u25BC@",xindex:8,yindex:8},fontSmall={x:0,y:0,width:50,height:80,size:30,stretchx:120,stretchy:120,spacing:.6,charwidth:128},fontMedium={x:0,y:0,width:50,height:80,size:40,stretchx:120,stretchy:120,spacing:.68,charwidth:128},fontClear={x:0,y:0,width:50,height:80,size:50,stretchx:120,stretchy:120,spacing:.7,charwidth:128},fontBig={x:0,y:0,width:50,height:80,size:60,stretchx:120,stretchy:120,spacing:.6,charwidth:128};function renderUI(){if(gameobjects.gamestate==gameobjects.states.loading)spriteWrite("loading is complete",fontSmall,780,400,!0),spriteWrite("press ok button",fontBig,780,500,!0);else if(gameobjects.gamestate==gameobjects.states.home){context.drawImage(img.GameLogo,GUI.gamelogo.x,GUI.gamelogo.y,GUI.gamelogo.width,GUI.gamelogo.height),context.drawImage(img.Button,GUI.playMenu.x+GUI.btnCommon.x+200*homeScreenPointerPos,GUI.playMenu.y+150+GUI.btnPlay.y,GUI.btnPointer.width,GUI.btnPointer.height);for(var e=0;e<homeScreenButtonList.length;e++)context.drawImage(homeScreenButtonList[e],GUI.playMenu.x+GUI.btnCommon.x+200*e,GUI.playMenu.y+GUI.btnCommon.y,GUI.btnCommon.width,GUI.btnCommon.height)}else if(gameobjects.gamestate==gameobjects.states.pause){context.drawImage(img.Paused,GUI.gamelogo.x,GUI.gamelogo.y,GUI.gamelogo.width,GUI.gamelogo.height),context.drawImage(img.Button,GUI.pauseMenu.x+GUI.btnCommon.x+200*pauseScreenPointerPos,GUI.pauseMenu.y+150+GUI.btnPlay.y,GUI.btnPointer.width,GUI.btnPointer.height);for(var e=0;e<pauseScreenButtonList.length;e++)context.drawImage(pauseScreenButtonList[e],GUI.pauseMenu.x+GUI.btnCommon.x+200*e,GUI.pauseMenu.y+GUI.btnCommon.y,GUI.btnCommon.width,GUI.btnCommon.height)}else gameobjects.gamestate==gameobjects.states.play?(context.drawImage(img.Frame2,70,0,1450,70),context.drawImage(img.Frame,420,930,750,70),1>gameobjects.player.worms&&spriteWrite("NEED WORMS!!",fontBig,780,gameobjects.defaults.warnings.y,!0),spriteWrite("TARGET:"+gameobjects.player.target,fontMedium,100,GUI.stats.yup,!1),spriteWrite("SCORE:"+gameobjects.player.score,fontMedium,480,GUI.stats.yup,!1),spriteWrite("LEVEL:"+gameobjects.player.level,fontMedium,800,GUI.stats.yup,!1),spriteWrite("TIME:"+gameobjects.player.time.toString().toHHMMSS(),fontMedium,1100,GUI.stats.yup,!1),spriteWrite("BOMBS:"+gameobjects.player.bombs,fontMedium,480,940,!1),spriteWrite("WORMS:"+gameobjects.player.worms,fontMedium,850,940,!1),context.drawImage(img.LevelUp,GUI.levelup.x,GUI.levelup.y,GUI.levelup.width,GUI.levelup.height)):gameobjects.gamestate==gameobjects.states.overfail?(context.drawImage(img.TimeOver,GUI.gamelogo.x,GUI.gamelogo.y,GUI.gamelogo.width,GUI.gamelogo.height),spriteWrite("HIGH SCORE:"+gameobjects.player.HighScore,fontMedium,780,400,!0),spriteWrite("YOUR SCORE:"+gameobjects.player.lastScore,fontMedium,780,500,!0),spriteWrite("TIME IS OVER",fontMedium,780,600,!0),spriteWrite("PRESS OK BUTTON TO GO BACK TO MAIN MENU",fontMedium,780,700,!0)):gameobjects.gamestate==gameobjects.states.info&&(spriteWrite("PRESS DOWN BUTTON FOR FISHING",fontClear,780,200,!0),spriteWrite("PRESS UP BUTTON TO DROP BOMBS",fontClear,780,300,!0),spriteWrite("PRESS LEFT BUTTON TO MOVE LEFT",fontClear,780,400,!0),spriteWrite("PRESS RIGHT BUTTON TO MOVE RIGHT",fontClear,780,500,!0),spriteWrite("WHILE PLAYING PRESS OK BUTTON TO",fontClear,780,600,!0),spriteWrite("PAUSE THE GAME",fontClear,780,650,!0),spriteWrite("PRESS OK BUTTON TO GO BACK TO MAIN MENU",fontClear,780,800,!0))}function renderGlobalElements(){context.drawImage(img.Sky,scrollength,0,gameobjects.background.width,460),context.drawImage(img.Sky,gameobjects.background.width+scrollength,0,gameobjects.background.width,460),context.drawImage(img.Sky,2*gameobjects.background.width+scrollength,0,gameobjects.background.width,460),context.drawImage(img.PlayerHandRot,gameobjects.player.x+155,gameobjects.player.y+30,gameobjects.player.width/1.5,gameobjects.player.height),context.drawImage(img.PlayerBody,gameobjects.player.x+110,gameobjects.player.y+95,gameobjects.player.width/5,gameobjects.player.height-50),context.drawImage(img.Boat,gameobjects.player.x+20,gameobjects.player.y+110,gameobjects.player.width/1.2,gameobjects.player.height-20),context.drawImage(img.PlayerHandPaddle,gameobjects.player.x+110,gameobjects.player.y+88,gameobjects.player.width/4,gameobjects.player.height),context.drawImage(img.PlayerHead_0,gameobjects.player.x+100,gameobjects.player.y+25,gameobjects.player.width/4,gameobjects.player.height/1.3),context.drawImage(img.Background,scrollength,gameobjects.background.y,gameobjects.background.width,gameobjects.background.height),context.drawImage(img.Background,gameobjects.background.width+scrollength,gameobjects.background.y,gameobjects.background.width,gameobjects.background.height),context.drawImage(img.Background,2*gameobjects.background.width+scrollength,gameobjects.background.y,gameobjects.background.width,gameobjects.background.height);for(var e=0;e<bubbles.length;e++)context.drawImage(img.Bubble,bubbles[e].x,bubbles[e].y,bubbles[e].width,bubbles[e].height);context.drawImage(img.Underwater,0,650,gameobjects.background.width,300),context.drawImage(img.Underwater,gameobjects.background.width,650,gameobjects.background.width,300),context.drawImage(img.Ground,0,900,gameobjects.background.width,100),context.drawImage(img.Ground,gameobjects.background.width,900,gameobjects.background.width,100),context.beginPath(),context.strokeStyle="#bccdd2",context.lineWidth=1,context.moveTo(gameobjects.hook.x+10,gameobjects.player.y+45),context.lineTo(gameobjects.hook.x+10,gameobjects.hook.y),context.stroke(),context.drawImage(img.Plumb,gameobjects.hook.x+5,gameobjects.player.y+50,gameobjects.hook.width/2,gameobjects.hook.height/2),0<gameobjects.player.worms&&context.drawImage(img.Worm_0,gameobjects.hook.x,gameobjects.hook.y+20,2*gameobjects.hook.width,2*gameobjects.hook.height),context.drawImage(img.Hook,gameobjects.hook.x-4,gameobjects.hook.y,1.5*gameobjects.hook.width,2*gameobjects.hook.height),caught&&(context.save(),context.translate(gameobjects.hook.x+caught.width/2,gameobjects.hook.y+caught.height/2),context.rotate(-80),context.translate(-(gameobjects.hook.x+caught.width/2),-(gameobjects.hook.y+caught.height/2)),context.drawImage(img[caught.fishtype],gameobjects.hook.x,gameobjects.hook.y+20,caught.width-10,caught.height+10),context.restore());for(var t=0;t<fishes.length;t++)-1==fishes[t].xdir?context.drawImage(img[fishes[t].fishtype],fishes[t].x,fishes[t].y,fishes[t].width,fishes[t].height):(context.save(),context.scale(-1,1),context.drawImage(img[fishes[t].fishtype],-(fishes[t].width+fishes[t].x),fishes[t].y,fishes[t].width,fishes[t].height),context.restore());for(var a=0;a<sharks.length;a++)-1==sharks[a].xdir?context.drawImage(img.Shark_0,sharks[a].x,sharks[a].y,sharks[a].width,sharks[a].height):(context.save(),context.scale(-1,1),context.drawImage(img.Shark_0,-(sharks[a].width+sharks[a].x),sharks[a].y,sharks[a].width,sharks[a].height),context.restore());for(var r=0;r<collectables.length;r++)context.drawImage(collectables[r].image,collectables[r].x,collectables[r].y,collectables[r].size,collectables[r].size);for(var n=0;n<bombs.length;n++)context.drawImage(img.Bomb,bombs[n].x,bombs[n].y,bombs[n].width,bombs[n].height);for(var i=0;i<blasts.length;i++)blasts[i].frameIndex>blasts[i].frames.length-1?blasts.splice(i,1):(context.drawImage(blasts[i].frames[parseInt(blasts[i].frameIndex)],blasts[i].x,blasts[i].y,blasts[i].width,blasts[i].height),blasts[i].frameIndex+=.2)}function createHomeMenu(){function e(){GUI.playMenu.width=GUI.btnCommon.width*(homeScreenButtonList.length+1),GUI.playMenu.x=(canvas.width-GUI.playMenu.width)/2-8*homeScreenButtonList.length,GUI.pauseMenu.width=GUI.btnCommon.width*(pauseScreenButtonList.length+1),GUI.pauseMenu.x=(canvas.width-GUI.pauseMenu.width)/2-8*pauseScreenButtonList.length}createjs.Tween.get(GUI.gamelogo).play(createjs.Tween.get(GUI.gamelogo,{paused:!0,loop:!0}).to({width:GUI.gamelogo.width+20,height:GUI.gamelogo.height+20},500,createjs.Ease.quadOut).to({width:GUI.gamelogo.width,height:GUI.gamelogo.height},500,createjs.Ease.quadOut)),createjs.Tween.get(GUI.gamelogo).play(createjs.Tween.get(GUI.gamelogo,{paused:!0,loop:!0}).to({x:GUI.gamelogo.x-10},500,createjs.Ease.quadOut).to({x:GUI.gamelogo.x},500,createjs.Ease.quadOut)),e(),createjs.Tween.get(GUI.btnCommon).play(createjs.Tween.get(GUI.btnCommon,{paused:!0,loop:!0}).to({height:GUI.btnCommon.height+5},500,createjs.Ease.quadOut).to({height:GUI.btnCommon.height},500,createjs.Ease.quadOut)),GUI.levelup.y=-400}function leftkeyPressedGUI(){gameobjects.gamestate==gameobjects.states.home&&(homeScreenPointerPos=movePointer(homeScreenPointerPos,homeScreenButtonList,!1)),gameobjects.gamestate==gameobjects.states.pause&&(pauseScreenPointerPos=movePointer(pauseScreenPointerPos,pauseScreenButtonList,!1))}function rightkeyPressedGUI(){gameobjects.gamestate==gameobjects.states.home&&(homeScreenPointerPos=movePointer(homeScreenPointerPos,homeScreenButtonList,!0)),gameobjects.gamestate==gameobjects.states.pause&&(pauseScreenPointerPos=movePointer(pauseScreenPointerPos,pauseScreenButtonList,!0))}function enterkeyPressedGUI(){gameobjects.gamestate==gameobjects.states.loading&&(setTimeout(function(){gameobjects.gamestate=gameobjects.states.home},10),GUI.loading=!1,sound.gamemusic.loop=!0,sound.gamemusic.play()),gameobjects.gamestate==gameobjects.states.home?(0==homeScreenPointerPos&&(startGame(),gameobjects.gamestate=gameobjects.states.play),1==homeScreenPointerPos&&(gameobjects.gamestate=gameobjects.states.info,console.log("info")),2==homeScreenPointerPos&&(console.log("audio"),handleGlobalSound(),homeScreenButtonList[2]=globalsound?img.BtnSoundOn:img.BtnSoundOff,pauseScreenButtonList[3]=globalsound?img.BtnSoundOn:img.BtnSoundOff)):gameobjects.gamestate==gameobjects.states.info?gameobjects.gamestate=gameobjects.states.home:gameobjects.gamestate==gameobjects.states.play?(gameobjects.gamestate=gameobjects.states.pause,console.log("paused")):gameobjects.gamestate==gameobjects.states.pause?(0==pauseScreenPointerPos&&(gameobjects.gamestate=gameobjects.states.play),1==pauseScreenPointerPos&&(restartgame(),gameobjects.gamestate=gameobjects.states.play),2==pauseScreenPointerPos&&(clearLastGame(),gameobjects.gamestate=gameobjects.states.home),3==pauseScreenPointerPos&&(console.log("audio"),handleGlobalSound(),homeScreenButtonList[2]=globalsound?img.BtnSoundOn:img.BtnSoundOff,pauseScreenButtonList[3]=globalsound?img.BtnSoundOn:img.BtnSoundOff)):gameobjects.gamestate==gameobjects.states.overpass?gameobjects.gamestate=gameobjects.states.play:gameobjects.gamestate==gameobjects.states.overfail&&(gameobjects.gamestate=gameobjects.states.home)}function downkeyPressedGUI(){}function upkeyPressedGUI(){}function movePointer(e,t,a){return a?e+1>=t.length?0:e+1:0>e-1?t.length-1:e-1}String.prototype.toHHMMSS=function(){var e=parseInt(this,10),t=Math.floor(e/3600),a=Math.floor((e-3600*t)/60),r=e-3600*t-60*a;return 10>t&&(t="0"+t),10>a&&(a="0"+a),10>r&&(r="0"+r),t+":"+a+":"+r};function randomBool(e,t){return 1==random(1,2)?e:t}function random(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function randomFloat(e,t){return parseFloat(Math.random()*(t-e)+e).toFixed(3)}