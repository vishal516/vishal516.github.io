"use strict";var gameready=function(){var n=0,i=0,a=0,t=[];function s(e){var t;window.requestAnimationFrame(s),e=((t=e)-n)/1e3,n=t,updater(),function(e){.25<i&&(Math.round(a/i),a=i=0),i+=e,a++}(e),renderer(),context.fillStyle="#000000",context.font="12px Verdana"}console.log("assets loaded"),window.addEventListener("keydown",function(e){t[e.keyCode||e.which]=!0},!0),window.addEventListener("keyup",function(e){t[e.keyCode||e.which]=!1},!0),window.addEventListener("keyup",function(e){switch(e.keyCode){case 37:leftkey(),leftkeyPressedGUI();break;case 38:upkey();break;case 39:rightkey(),rightkeyPressedGUI();break;case 40:downkey();break;case 32:spacekeyDebug();break;case 13:enterkeyPressedGUI(),enterkey()}},!1),uiInit(),s(0)},gameobjects={debug:{a:""},paralax:{x:0,y:150,width:2400,height:750,dir:-1},tile:{x:-300,y:500,width:300,height:600,dir:-1,count:8,container:[],varience:180,varience2:250,speed:1,xmin:450},bgStack:[{x:0,y:0,width:1600,height:1e3},{x:1600,y:1e3,width:1600,height:1e3}],bgInitial:{x:1600,y:1e3,width:1600,height:1e3},selector:{x:0,y:0,width:300,height:600,dir:0,element:null},placeholder:null,containers:{carscontainer:[],smokecontainer:[]},startpoint:{x:1700,y:800},defaults:{warnings:{x:600,y:500,width:600,height:100},scoreunit:20,disableInput:!1,duration:5e3,durationmin:0,durationmax:5e3,time:5,stopwatch:null,speed:4,tilespeed:1},player:{x:0,y:0,default:{x:450,y:250},corners:{start:{x:0,y:0,width:50,height:50},end:{x:0,y:0,width:50,height:50}},width:200,height:200,level:1,score:0,ready:!1,highscore:0,lastscore:0,time:0,animation:{pattern:"ABCDEFGHIJ",frame:0},death:0,speed:0},background:{x:0,y:0,width:1600,height:1e3},gamestate:"",states:{loading:"loading",home:"home",play:"play",pause:"pause",overpass:"overpass",overfail:"overfail",info:"info"},images:["images/background.jpg","images/cara.png","images/car1.png","images/car2.png","images/car3.png","images/car4.png","images/cardamaged.png","images/particles.png","images/gamelogo.png","images/BtnPlayOn.png","images/BtnInfoOn.png","images/BtnPlayOn.png","images/BtnSoundOn.png","images/BtnSoundOff.png","images/BtnRestartOn.png","images/BtnExitOn.png","images/Button.png","images/jfont.png","images/mountainbg.png","images/blur.png","images/pixel.png"],sounds:["media/gamemusic.webm","media/Button.m4a","media/die.webm","media/car.webm","media/swoosh.webm","media/levelcomplete.m4a"]},GUI={canvas:{x:0,y:0,width:1600,height:1e3},homeScreen:{x:0,y:0,width:1600,height:1e3,xdir:1,ydir:1,speed:200},levelicon:{x:70,y:100,width:100,height:100,icongap:200,child:{x:80,y:110,size:80}},gamelogo:{x:400,y:150,width:950,height:300},playMenu:{x:0,y:500,width:400,height:400},pauseMenu:{x:0,y:500,width:400,height:400},btnPlay:{x:50,y:50,width:150,height:150},btnSound:{x:50,y:50,width:150,height:150},btnInfo:{x:50,y:50,width:150,height:150},btnCommon:{x:50,y:50,width:150,height:150},btnPointer:{x:50,y:50,width:150,height:150},levelup:{x:350,y:1100,width:900,height:400},decoration:{bubbles:[],bubblesLength:5},btnPadding:200,pointerPadding:40,startintro:{text:"",x:0,y:200,ready:!1},loading:!0},img=loadImages(gameobjects.images),sound=loadSound(gameobjects.sounds),homeScreenButtonList=[img.BtnPlayOn,img.BtnInfoOn,img.BtnSoundOn],pauseScreenButtonList=[img.BtnPlayOn,img.BtnRestartOn,img.BtnExitOn,img.BtnSoundOn],homeScreenPointerPos=0,pauseScreenPointerPos=0,globalsound=!0,loadcount=0,loadtotal=0,preloaded=!1;function loadImages(e){preloaded=!1;for(var t=[],n={},i=0;i<e.length;i++){var a=new Image;a.onload=function(){(loadcount+=1)==e.length&&(preloaded=!0)},a.src=e[i],n[(t[i]=a).src.split("/")[a.src.split("/").length-1].split(".")[0]]=a}return n}function loadSound(e){for(var t=[],n={},i=0;i<e.length;i++){var a=new Audio(e[i]);n[(t[i]=a).src.split("/")[a.src.split("/").length-1].split(".")[0]]=a}return n}function handleGlobalSound(){(globalsound=!globalsound)?sound.gamemusic.play():(sound.gamemusic.pause(),sound.gamemusic.currentTime=0),Object.keys(sound).forEach(function(e){sound[e].volume=globalsound?1:0})}function cell(e){this.x=gameobjects.tile.x+e*gameobjects.tile.width,this.y=gameobjects.tile.y+gameobjects.tile.varience}function playerdeatheffect(){this.x=gameobjects.player.x,this.y=gameobjects.player.y;createjs.Tween.get(this).wait(random(0,9e3)).play(createjs.Tween.get(this,{paused:!0,loop:!0}).to({x:-300},5e3).to({x:GUI.canvas.width+100},0))}function smoke(){this.x=gameobjects.player.x+50,this.y=gameobjects.player.y+50,this.radius=0,this.img=img.particles,this.alpha=1}function raindrop(){this.x=random(GUI.canvas.width+100,GUI.canvas.width+1100),this.y=randomFloat(0,GUI.canvas.height/4),this.width=180,this.height=120,this.image=img.cloud;createjs.Tween.get(this).wait(random(0,9e3)).play(createjs.Tween.get(this,{paused:!0,loop:!0}).to({x:-300},5e3).to({x:GUI.canvas.width+100},0))}function car(e){this.x=gameobjects.startpoint.x,this.y=gameobjects.startpoint.y+e*gameobjects.tile.varience2,this.width=gameobjects.player.width,this.height=gameobjects.player.height,this.img=img["car"+random(1,4)],this.producedchild=!1,this.corners={start:{x:0,y:0,width:50,height:50},end:{x:0,y:0,width:50,height:50}}}function carplaceholder(){this.x=gameobjects.startpoint.x,this.y=gameobjects.startpoint.y,this.width=50,this.height=50,this.img=img.pixel,this.producedchild=!1}function raindropeffect(){for(var e=0;e<GUI.decoration.bubblesLength;e++)GUI.decoration.bubbles.push(new raindrop)}function updater(){updaterwithpause()}function renderer(){renderUI()}function leftkey(){}function rightkey(){}function downkey(){gameobjects.gamestate==gameobjects.states.play&&slidedown()}function upkey(){gameobjects.gamestate==gameobjects.states.play&&slideup()}function enterkey(){}function spacekeyDebug(){}function startnewgame(){reset()}function reset(){gameobjects.player.level=1,gameobjects.player.speed=gameobjects.defaults.speed,gameobjects.player.x=gameobjects.player.default.x,gameobjects.player.y=gameobjects.player.default.y,gameobjects.player.score=0,console.log("new game"),createcars(),gameobjects.containers.carscontainer=[]}function startgame(){gameobjects.gamestate=gameobjects.states.play}function gameover(){console.log("game over"),gameobjects.player.speed=0,gameobjects.player.ready=!1,GUI.startintro.y=-100,scoremanager(),sound.die.play()}function updaterwithpause(){gameobjects.gamestate==gameobjects.states.play&&logic()}function scoremanager(){gameobjects.player.lastscore=gameobjects.player.score,gameobjects.player.highscore<gameobjects.player.score&&(gameobjects.player.highscore=gameobjects.player.score,localStorage.setItem("highscore",gameobjects.player.highscore),gameobjects.player.score=0)}function logic(){for(let e=0;e<gameobjects.bgStack.length;e++)gameobjects.bgStack[e].x<=-gameobjects.bgStack[e].width&&(gameobjects.bgStack[e].x=gameobjects.bgStack[Math.abs(1-e)].x+gameobjects.bgInitial.x,gameobjects.bgStack[e].y=gameobjects.bgStack[Math.abs(1-e)].y+gameobjects.bgInitial.y,gameobjects.bgInitial.y);gameobjects.bgStack.forEach(e=>{var t=gameobjects.player.score/100+6;e.x-=1.6*t,e.y-=t}),movecars([...gameobjects.containers.carscontainer,gameobjects.placeholder,...gameobjects.containers.smokecontainer]),gameobjects.placeholder.x<1e3&&(gameobjects.placeholder.x=gameobjects.startpoint.x,gameobjects.placeholder.y=gameobjects.startpoint.y,createcars(),gameobjects.player.score+=1),dustbin(gameobjects.containers.carscontainer),colliderconnector([gameobjects.player,...gameobjects.containers.carscontainer]),collisiondetection([gameobjects.player.corners.start,gameobjects.player.corners.end],gameobjects.containers.carscontainer,function(){gameover(),gameobjects.gamestate=gameobjects.states.overfail}),smokeeffect()}function colliderconnector(e){e.forEach(e=>{e.corners.start.x=e.x+e.corners.start.width/5,e.corners.start.y=e.y+e.corners.start.height/5,e.corners.end.x=e.x+e.width-70,e.corners.end.y=e.y+e.height-100})}function collisiondetection(n,i,a){for(let t=0;t<n.length;t++)for(let e=0;e<i.length;e++){var s=[i[e].corners.start,i[e].corners.end];for(let e=0;e<s.length;e++)if(checkIntersection(n[t],s[e]))return void a()}}function createcars(){let e=[];for(var t=0;t<3;t++)e.push(new car(t));e.splice(random(0,1),random(1,2)),gameobjects.containers.carscontainer.push(...e)}function slideup(){gameobjects.player.y>gameobjects.player.default.y-gameobjects.tile.varience&&(gameobjects.player.y-=gameobjects.tile.varience,gameobjects.player.x+=.625*gameobjects.tile.varience,sound.swoosh.play())}function slidedown(){gameobjects.player.y<gameobjects.player.default.y+gameobjects.tile.varience&&(gameobjects.player.y+=gameobjects.tile.varience,gameobjects.player.x-=.625*gameobjects.tile.varience,sound.swoosh.play())}function movecars(e){e.forEach(e=>{var t=gameobjects.player.score/100+3;e.x-=1.6*t,e.y-=t})}gameobjects.placeholder=new carplaceholder;let animationinterval=11;function smokeeffect(){animationinterval<0?gameobjects.containers.smokecontainer.length<10&&(gameobjects.containers.smokecontainer.push(new smoke),animationinterval=11):--animationinterval;for(let e=0;e<gameobjects.containers.smokecontainer.length;e++)0<gameobjects.containers.smokecontainer[e].alpha?(gameobjects.containers.smokecontainer[e].alpha-=.02,gameobjects.containers.smokecontainer[e].radius+=1):gameobjects.containers.smokecontainer.splice(e,1)}function dustbin(t){for(let e=0;e<t.length;e++)t[e].x<-t[e].width&&t.splice(e,1)}function containerrender(t){for(let e=0;e<t.length;e++){var n=t[e];context.drawImage(n.img,n.x,n.y,n.width,n.height)}}function smokerender(){var t=gameobjects.containers.smokecontainer;for(let e=0;e<t.length;e++){var n=t[e];drawcircle(n.x,n.y,n.radius,"rgba(100,100,100,"+n.alpha+")")}}function containerrenderimage(t,n){for(let e=0;e<t.length;e++){var i=t[e];context.drawImage(n,i.x,i.y-1100,i.width,i.height+2e3)}}function containerrenderdebug(t,n){for(let e=0;e<t.length;e++){var i=t[e];context.drawImage(n,i.x,i.y,i.width,i.height)}}function drawcircle(e,t,n,i){context.beginPath(),context.arc(e,t,n,0,2*Math.PI,!1),context.fillStyle=i,context.fill(),context.strokeStyle=i,context.stroke()}function renderGame(){containerrender(gameobjects.containers.carscontainer),smokerender(),context.drawImage(img.cara,gameobjects.player.x,gameobjects.player.y,gameobjects.player.width,gameobjects.player.height)}function renderUI(){if(context.drawImage(img.background,1,0,1,1,0,0,gameobjects.background.width,gameobjects.background.height),containerrenderimage(gameobjects.bgStack,img.background),gameobjects.gamestate==gameobjects.states.loading)spriteWrite3("LOADING IS COMPLETE",60,.5,GUI.canvas.width/2,400,!0),spriteWrite3("PRESS OK BUTTON",80,.5,GUI.canvas.width/2,500,!0);else if(gameobjects.gamestate==gameobjects.states.home){context.drawImage(img.gamelogo,GUI.gamelogo.x,GUI.gamelogo.y,GUI.gamelogo.width,GUI.gamelogo.height),context.drawImage(img.Button,GUI.playMenu.x-GUI.pointerPadding/2+GUI.btnCommon.x+200*homeScreenPointerPos,GUI.playMenu.y-GUI.pointerPadding/2+GUI.btnPlay.y,GUI.btnCommon.width+GUI.pointerPadding,GUI.btnCommon.height+GUI.pointerPadding);for(var e=0;e<homeScreenButtonList.length;e++)context.drawImage(homeScreenButtonList[e],GUI.playMenu.x+GUI.btnCommon.x+200*e,GUI.playMenu.y+GUI.btnCommon.y,GUI.btnCommon.width,GUI.btnCommon.height)}else if(gameobjects.gamestate==gameobjects.states.pause){context.drawImage(img.blur,0,0,GUI.canvas.width,GUI.canvas.height),spriteWrite3("PAUSE",200,.5,GUI.canvas.width/2,50,!0),context.drawImage(img.Button,GUI.pauseMenu.x-GUI.pointerPadding/2+GUI.btnCommon.x+200*pauseScreenPointerPos,GUI.pauseMenu.y-GUI.pointerPadding/2+GUI.btnPlay.y,GUI.btnCommon.width+GUI.pointerPadding,GUI.btnCommon.height+GUI.pointerPadding);for(e=0;e<pauseScreenButtonList.length;e++)context.drawImage(pauseScreenButtonList[e],GUI.pauseMenu.x+GUI.btnCommon.x+200*e,GUI.pauseMenu.y+GUI.btnCommon.y,GUI.btnCommon.width,GUI.btnCommon.height)}else gameobjects.gamestate==gameobjects.states.play?(renderGame(),spriteWrite3("SCORE:"+gameobjects.player.score,60,.5,GUI.canvas.width/2,50,!0)):gameobjects.gamestate==gameobjects.states.overfail?(context.drawImage(img.blur,0,0,GUI.canvas.width,GUI.canvas.height),context.drawImage(img.cardamaged,gameobjects.player.x,gameobjects.player.y,gameobjects.player.width,gameobjects.player.height),spriteWrite3("GAME OVER",200,.5,GUI.canvas.width/2,50,!0),spriteWrite3("HIGH SCORE:"+gameobjects.player.highscore,100,.5,GUI.canvas.width/2,450,!0),spriteWrite3("YOUR SCORE:"+gameobjects.player.lastscore,100,.5,GUI.canvas.width/2,550,!0),spriteWrite3("PRESS OK BUTTON TO GO BACK TO MAIN MENU",60,.5,GUI.canvas.width/2,850,!0)):gameobjects.gamestate==gameobjects.states.info&&(context.drawImage(img.blur,0,0,GUI.canvas.width,GUI.canvas.height),spriteWrite3("CONTROLS",90,.5,GUI.canvas.width/2,50,!0),spriteWrite3("PRESS UP BUTTON TO SLIDE UP THE CAR",60,.5,GUI.canvas.width/2,150,!0),spriteWrite3("PRESS DOWN BUTTON TO SLIDE DOWN THE CAR",60,.5,GUI.canvas.width/2,200,!0),spriteWrite3("PRESS OK BUTTON TO PAUSE/RESUME THE GAME",60,.5,GUI.canvas.width/2,250,!0),spriteWrite3("HOW TO PLAY",100,.5,GUI.canvas.width/2,350,!0),spriteWrite3("DRIVE THROUGH THE TRAFFIC AND AVOID",60,.5,GUI.canvas.width/2,450,!0),spriteWrite3("HITTING OTHER CARS",60,.5,GUI.canvas.width/2,500,!0),spriteWrite3("PRESS OK BUTTON TO GO BACK TO MAIN MENU",70,.5,GUI.canvas.width/2,850,!0))}var canvas,context,lastgamestate="home";function Canvas2D(){canvas=document.getElementById("viewport"),context=canvas.getContext("2d")}window.addEventListener("blur",function(){lastgamestate=gameobjects.gamestate,gameobjects.gamestate=gameobjects.states.pause,sound.gamemusic.pause()}),window.addEventListener("focus",function(){gameobjects.gamestate=lastgamestate,sound.gamemusic.play()}),window.onload=function(){resizeCanvas(),setTimeout(function(){canvas.style.display="block",document.getElementById("loader").style.display="none",gameready()},2e3)},window.onresize=function(){resizeCanvas()},Canvas2D();var level={x:1,y:65,width:canvas.width-2,height:canvas.height-66};function resizeCanvas(){canvas.style.height=window.innerHeight+"px",canvas.style.width=window.innerWidth+"px"}var canvas2d=new Canvas2D;function resizeCanvasKeepAR(){widthToHeight=window.innerWidth/window.innerHeight,widthToHeightIdeal=1.6,state=widthToHeight>widthToHeightIdeal?"wider":"higher",widthToHeight>widthToHeightIdeal?(canvas.style.height=window.innerHeight+"px",canvas.style.width=window.innerHeight*widthToHeightIdeal+"px",canvas.style.marginLeft=(window.innerWidth-window.innerHeight*widthToHeightIdeal)/2+"px",canvas.style.marginTop="0px"):(canvas.style.width=window.innerWidth+"px",canvas.style.height=window.innerWidth/widthToHeightIdeal+"px",canvas.style.marginTop=(window.innerHeight-window.innerWidth/widthToHeightIdeal)/2+"px",canvas.style.marginLeft="0px")}function uiInit(){gameobjects.gamestate=gameobjects.states.loading,createHomeMenu(),gameobjects.player.highscore=localStorage.getItem("highscore")}function createHomeMenu(){createjs.Tween.get(GUI.gamelogo).play(createjs.Tween.get(GUI.gamelogo,{paused:!0,loop:!0}).to({width:GUI.gamelogo.width+20,height:GUI.gamelogo.height+20},500,createjs.Ease.quadOut).to({width:GUI.gamelogo.width,height:GUI.gamelogo.height},500,createjs.Ease.quadOut)),createjs.Tween.get(GUI.gamelogo).play(createjs.Tween.get(GUI.gamelogo,{paused:!0,loop:!0}).to({x:GUI.gamelogo.x-10},500,createjs.Ease.quadOut).to({x:GUI.gamelogo.x},500,createjs.Ease.quadOut)),GUI.playMenu.width=GUI.btnCommon.width*(homeScreenButtonList.length+1),GUI.playMenu.x=(canvas.width-GUI.playMenu.width)/2-8*homeScreenButtonList.length,GUI.pauseMenu.width=GUI.btnCommon.width*(pauseScreenButtonList.length+1),GUI.pauseMenu.x=(canvas.width-GUI.pauseMenu.width)/2-8*pauseScreenButtonList.length,createjs.Tween.get(GUI.btnCommon).play(createjs.Tween.get(GUI.btnCommon,{paused:!0,loop:!0}).to({height:GUI.btnCommon.height+5},500,createjs.Ease.quadOut).to({height:GUI.btnCommon.height},500,createjs.Ease.quadOut)),GUI.levelup.y=-400}function leftkeyPressedGUI(){gameobjects.gamestate==gameobjects.states.home&&(homeScreenPointerPos=movePointer(homeScreenPointerPos,homeScreenButtonList,!1)),gameobjects.gamestate==gameobjects.states.pause&&(pauseScreenPointerPos=movePointer(pauseScreenPointerPos,pauseScreenButtonList,!1))}function rightkeyPressedGUI(){gameobjects.gamestate==gameobjects.states.home&&(homeScreenPointerPos=movePointer(homeScreenPointerPos,homeScreenButtonList,!0)),gameobjects.gamestate==gameobjects.states.pause&&(pauseScreenPointerPos=movePointer(pauseScreenPointerPos,pauseScreenButtonList,!0))}function enterkeyPressedGUI(){sound.Button.play(),gameobjects.gamestate==gameobjects.states.loading&&(setTimeout(function(){gameobjects.gamestate=gameobjects.states.home},10),GUI.loading=!1,sound.gamemusic.loop=!0,sound.gamemusic.play()),gameobjects.gamestate==gameobjects.states.home?(0==homeScreenPointerPos&&(gameobjects.gamestate=gameobjects.states.play,startnewgame()),1==homeScreenPointerPos&&(gameobjects.gamestate=gameobjects.states.info,console.log("info")),2==homeScreenPointerPos&&(console.log("audio"),handleGlobalSound(),homeScreenButtonList[2]=globalsound?img.BtnSoundOn:img.BtnSoundOff,pauseScreenButtonList[3]=globalsound?img.BtnSoundOn:img.BtnSoundOff)):gameobjects.gamestate==gameobjects.states.info?gameobjects.gamestate=gameobjects.states.home:gameobjects.gamestate==gameobjects.states.play?(gameobjects.gamestate=gameobjects.states.pause,console.log("paused")):gameobjects.gamestate==gameobjects.states.pause?(0==pauseScreenPointerPos&&(gameobjects.gamestate=gameobjects.states.play),1==pauseScreenPointerPos&&(startnewgame(),gameobjects.gamestate=gameobjects.states.play),2==pauseScreenPointerPos&&(gameobjects.gamestate=gameobjects.states.home),3==pauseScreenPointerPos&&(console.log("audio"),handleGlobalSound(),homeScreenButtonList[2]=globalsound?img.BtnSoundOn:img.BtnSoundOff,pauseScreenButtonList[3]=globalsound?img.BtnSoundOn:img.BtnSoundOff)):gameobjects.gamestate==gameobjects.states.overpass?gameobjects.gamestate=gameobjects.states.play:gameobjects.gamestate==gameobjects.states.overfail&&(gameobjects.gamestate=gameobjects.states.home),gameobjects.gamestate==gameobjects.states.play?sound.gamemusic.volume=.2:sound.gamemusic.volume=1}function downkeyPressedGUI(){}function upkeyPressedGUI(){}function movePointer(e,t,n){return n?e+1>=t.length?0:e+1:e-1<0?t.length-1:e-1}function characterIndex(e,t){for(var n=0;n<t.xindex;n++)for(var i=0;i<t.yindex;i++){var a=t.characterSet[i*t.xindex+n];if(t.lowercase){if(e==a)return{i:n,j:i}}else if(e.toLowerCase()==a.toLowerCase())return{i:n,j:i}}}function spritefont(e,t,n,i,a,s){a&&(n-=(e.length+1)*t.size*t.spacing/2);for(var o,r,c=s.imgResolutionx/s.xindex,u=s.imgResolutiony/s.yindex,h=0;h<e.length;h++)" "!=e[h]&&(o=characterIndex(e[h],s).i,r=characterIndex(e[h],s).j,context.drawImage(img[s.img],c*o,u*r,c,u,n+t.size*t.spacing*h,i,t.size,t.size))}function spriteanim(e,t,n,i,a){var s=e%a.xindex,e=Math.ceil(e/a.xindex)-1;context.drawImage(img[a.img],113.8*s,166*e,113.8,166,n,i,t.sizex,t.sizey)}function playeranimation(e,t,n,i,a){spriteanim(e,{sizex:t,sizey:n,spacing:.5},i,a,spritesheetplayer)}function spriteWrite1(e,t,n,i,a){spritefont(e,t,n,i,a,spritefont1)}function spriteWrite3(e,t,n,i,a,s){spritefont(e,{size:t,spacing:n},i,a,s,spritefont1)}this.createjs=this.createjs||{},createjs.extend=function(e,t){function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n},this.createjs=this.createjs||{},createjs.promote=function(e,t){var n=e.prototype,i=Object.getPrototypeOf&&Object.getPrototypeOf(n)||n.__proto__;if(i)for(var a in n[(t+="_")+"constructor"]=i.constructor,i)n.hasOwnProperty(a)&&"function"==typeof i[a]&&(n[t+a]=i[a]);return e},this.createjs=this.createjs||{},createjs.deprecate=function(t,n){return function(){var e="Deprecated property or method '"+n+"'. See docs for info.";return console&&(console.warn?console.warn(e):console.log(e)),t&&t.apply(this,arguments)}},this.createjs=this.createjs||{},function(){function e(e,t,n){this.type=e,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!t,this.cancelable=!!n,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var t=e.prototype;t.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},t.stopPropagation=function(){this.propagationStopped=!0},t.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},t.remove=function(){this.removed=!0},t.clone=function(){return new e(this.type,this.bubbles,this.cancelable)},t.set=function(e){for(var t in e)this[t]=e[t];return this},t.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=e}(),this.createjs=this.createjs||{},function(){function e(){this._listeners=null,this._captureListeners=null}var t=e.prototype;e.initialize=function(e){e.addEventListener=t.addEventListener,e.on=t.on,e.removeEventListener=e.off=t.removeEventListener,e.removeAllEventListeners=t.removeAllEventListeners,e.hasEventListener=t.hasEventListener,e.dispatchEvent=t.dispatchEvent,e._dispatchEvent=t._dispatchEvent,e.willTrigger=t.willTrigger},t.addEventListener=function(e,t,n){var i=n?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{},a=i[e];return a&&this.removeEventListener(e,t,n),(a=i[e])?a.push(t):i[e]=[t],t},t.on=function(e,t,n,i,a,s){return t.handleEvent&&(n=n||t,t=t.handleEvent),n=n||this,this.addEventListener(e,function(e){t.call(n,e,a),i&&e.remove()},s)},t.removeEventListener=function(e,t,n){var i=n?this._captureListeners:this._listeners;if(i){var a=i[e];if(a)for(var s=0,o=a.length;s<o;s++)if(a[s]==t){1==o?delete i[e]:a.splice(s,1);break}}},t.off=t.removeEventListener,t.removeAllEventListeners=function(e){e?(this._listeners&&delete this._listeners[e],this._captureListeners&&delete this._captureListeners[e]):this._listeners=this._captureListeners=null},t.dispatchEvent=function(e,t,n){if("string"==typeof e){var i=this._listeners;if(!(t||i&&i[e]))return!0;e=new createjs.Event(e,t,n)}else e.target&&e.clone&&(e=e.clone());try{e.target=this}catch(e){}if(e.bubbles&&this.parent){for(var a=this,s=[a];a.parent;)s.push(a=a.parent);for(var o=s.length,r=o-1;0<=r&&!e.propagationStopped;r--)s[r]._dispatchEvent(e,1+(0==r));for(r=1;r<o&&!e.propagationStopped;r++)s[r]._dispatchEvent(e,3)}else this._dispatchEvent(e,2);return!e.defaultPrevented},t.hasEventListener=function(e){var t=this._listeners,n=this._captureListeners;return!!(t&&t[e]||n&&n[e])},t.willTrigger=function(e){for(var t=this;t;){if(t.hasEventListener(e))return!0;t=t.parent}return!1},t.toString=function(){return"[EventDispatcher]"},t._dispatchEvent=function(e,t){var n,i,a=t<=2?this._captureListeners:this._listeners;if(e&&a&&(i=a[e.type])&&(n=i.length)){try{e.currentTarget=this}catch(e){}try{e.eventPhase=0|t}catch(e){}e.removed=!1,i=i.slice();for(var s=0;s<n&&!e.immediatePropagationStopped;s++){var o=i[s];o.handleEvent?o.handleEvent(e):o(e),e.removed&&(this.off(e.type,o,1==t),e.removed=!1)}}2===t&&this._dispatchEvent(e,2.1)},createjs.EventDispatcher=e}(),this.createjs=this.createjs||{},function(){function s(){throw"Ticker cannot be instantiated."}s.RAF_SYNCHED="synched",s.RAF="raf",s.TIMEOUT="timeout",s.timingMode=null,s.maxDelta=0,s.paused=!1,s.removeEventListener=null,s.removeAllEventListeners=null,s.dispatchEvent=null,s.hasEventListener=null,s._listeners=null,createjs.EventDispatcher.initialize(s),s._addEventListener=s.addEventListener,s.addEventListener=function(){return s._inited||s.init(),s._addEventListener.apply(s,arguments)},s._inited=!1,s._startTime=0,s._pausedTime=0,s._ticks=0,s._pausedTicks=0,s._interval=50,s._lastTime=0,s._times=null,s._tickTimes=null,s._timerId=null,s._raf=!0,s._setInterval=function(e){s._interval=e,s._inited&&s._setupTick()},s.setInterval=createjs.deprecate(s._setInterval,"Ticker.setInterval"),s._getInterval=function(){return s._interval},s.getInterval=createjs.deprecate(s._getInterval,"Ticker.getInterval"),s._setFPS=function(e){s._setInterval(1e3/e)},s.setFPS=createjs.deprecate(s._setFPS,"Ticker.setFPS"),s._getFPS=function(){return 1e3/s._interval},s.getFPS=createjs.deprecate(s._getFPS,"Ticker.getFPS");try{Object.defineProperties(s,{interval:{get:s._getInterval,set:s._setInterval},framerate:{get:s._getFPS,set:s._setFPS}})}catch(e){console.log(e)}s.init=function(){s._inited||(s._inited=!0,s._times=[],s._tickTimes=[],s._startTime=s._getTime(),s._times.push(s._lastTime=0),s.interval=s._interval)},s.reset=function(){var e;s._raf?(e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame)&&e(s._timerId):clearTimeout(s._timerId),s.removeAllEventListeners("tick"),s._timerId=s._times=s._tickTimes=null,s._startTime=s._lastTime=s._ticks=s._pausedTime=0,s._inited=!1},s.getMeasuredTickTime=function(e){var t=0,n=s._tickTimes;if(!n||n.length<1)return-1;e=Math.min(n.length,e||0|s._getFPS());for(var i=0;i<e;i++)t+=n[i];return t/e},s.getMeasuredFPS=function(e){var t=s._times;return!t||t.length<2?-1:(e=Math.min(t.length-1,e||0|s._getFPS()),1e3/((t[0]-t[e])/e))},s.getTime=function(e){return s._startTime?s._getTime()-(e?s._pausedTime:0):-1},s.getEventTime=function(e){return s._startTime?(s._lastTime||s._startTime)-(e?s._pausedTime:0):-1},s.getTicks=function(e){return s._ticks-(e?s._pausedTicks:0)},s._handleSynch=function(){s._timerId=null,s._setupTick(),s._getTime()-s._lastTime>=.97*(s._interval-1)&&s._tick()},s._handleRAF=function(){s._timerId=null,s._setupTick(),s._tick()},s._handleTimeout=function(){s._timerId=null,s._setupTick(),s._tick()},s._setupTick=function(){if(null==s._timerId){var e=s.timingMode;if(e==s.RAF_SYNCHED||e==s.RAF){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(t)return s._timerId=t(e==s.RAF?s._handleRAF:s._handleSynch),void(s._raf=!0)}s._raf=!1,s._timerId=setTimeout(s._handleTimeout,s._interval)}},s._tick=function(){var e,t,n=s.paused,i=s._getTime(),a=i-s._lastTime;for(s._lastTime=i,s._ticks++,n&&(s._pausedTicks++,s._pausedTime+=a),s.hasEventListener("tick")&&(e=new createjs.Event("tick"),t=s.maxDelta,e.delta=t&&t<a?t:a,e.paused=n,e.time=i,e.runTime=i-s._pausedTime,s.dispatchEvent(e)),s._tickTimes.unshift(s._getTime()-i);100<s._tickTimes.length;)s._tickTimes.pop();for(s._times.unshift(i);100<s._times.length;)s._times.pop()};var e=window,t=e.performance.now||e.performance.mozNow||e.performance.msNow||e.performance.oNow||e.performance.webkitNow;s._getTime=function(){return(t&&t.call(e.performance)||(new Date).getTime())-s._startTime},createjs.Ticker=s}(),this.createjs=this.createjs||{},function(){function e(e){this.EventDispatcher_constructor(),this.ignoreGlobalPause=!1,this.loop=0,this.useTicks=!1,this.reversed=!1,this.bounce=!1,this.timeScale=1,this.duration=0,this.position=0,this.rawPosition=-1,this._paused=!0,this._next=null,this._prev=null,this._parent=null,this._labels=null,this._labelList=null,e&&(this.useTicks=!!e.useTicks,this.ignoreGlobalPause=!!e.ignoreGlobalPause,this.loop=!0===e.loop?-1:e.loop||0,this.reversed=!!e.reversed,this.bounce=!!e.bounce,this.timeScale=e.timeScale||1,e.onChange&&this.addEventListener("change",e.onChange),e.onComplete&&this.addEventListener("complete",e.onComplete))}var t=createjs.extend(e,createjs.EventDispatcher);t._setPaused=function(e){return createjs.Tween._register(this,e),this},t.setPaused=createjs.deprecate(t._setPaused,"AbstractTween.setPaused"),t._getPaused=function(){return this._paused},t.getPaused=createjs.deprecate(t._getPaused,"AbstactTween.getPaused"),t._getCurrentLabel=function(e){var t=this.getLabels();null==e&&(e=this.position);for(var n=0,i=t.length;n<i&&!(e<t[n].position);n++);return 0===n?null:t[n-1].label},t.getCurrentLabel=createjs.deprecate(t._getCurrentLabel,"AbstractTween.getCurrentLabel");try{Object.defineProperties(t,{paused:{set:t._setPaused,get:t._getPaused},currentLabel:{get:t._getCurrentLabel}})}catch(e){}t.advance=function(e,t){this.setPosition(this.rawPosition+e*this.timeScale,t)},t.setPosition=function(e,t,n,i){var a=this.duration,s=this.loop,o=this.rawPosition,r=0,c=0,u=!1;if(e<0&&(e=0),0===a){if(u=!0,-1!==o)return u}else{if(c=e-(r=e/a|0)*a,(u=-1!==s&&s*a+a<=e)&&(e=(c=a)*(r=s)+a),e===o)return u;!this.reversed!=!(this.bounce&&r%2)&&(c=a-c)}this.position=c,this.rawPosition=e,this._updatePosition(n,u),u&&(this.paused=!0),i&&i(this),t||this._runActions(o,e,n,!n&&-1===o),this.dispatchEvent("change"),u&&this.dispatchEvent("complete")},t.calculatePosition=function(e){var t=this.duration,n=this.loop,i=0,a=0;return 0===t?0:(-1!==n&&n*t+t<=e?(a=t,i=n):a=e<0?0:e-(i=e/t|0)*t,!this.reversed!=!(this.bounce&&i%2)?t-a:a)},t.getLabels=function(){var e=this._labelList;if(!e){e=this._labelList=[];var t,n=this._labels;for(t in n)e.push({label:t,position:n[t]});e.sort(function(e,t){return e.position-t.position})}return e},t.setLabels=function(e){this._labels=e,this._labelList=null},t.addLabel=function(e,t){this._labels||(this._labels={}),this._labels[e]=t;var n=this._labelList;if(n){for(var i=0,a=n.length;i<a&&!(t<n[i].position);i++);n.splice(i,0,{label:e,position:t})}},t.gotoAndPlay=function(e){this.paused=!1,this._goto(e)},t.gotoAndStop=function(e){this.paused=!0,this._goto(e)},t.resolve=function(e){var t=Number(e);return isNaN(t)&&(t=this._labels&&this._labels[e]),t},t.toString=function(){return"[AbstractTween]"},t.clone=function(){throw"AbstractTween can not be cloned."},t._init=function(e){e&&e.paused||(this.paused=!1),e&&null!=e.position&&this.setPosition(e.position)},t._updatePosition=function(){},t._goto=function(e){e=this.resolve(e);null!=e&&this.setPosition(e,!1,!0)},t._runActions=function(e,t,n,i){if(this._actionHead||this.tweens){var a,s,o,r,c=this.duration,u=this.reversed,h=this.bounce,l=this.loop;if(0===c?(a=s=o=r=0,u=h=!1):(o=e-(a=e/c|0)*c,r=t-(s=t/c|0)*c),-1!==l&&(l<s&&(r=c,s=l),l<a&&(o=c,a=l)),n)return this._runActionsRange(r,r,n,i);if(a!==s||o!==r||n||i){-1===a&&(a=o=0);var g=e<=t,d=a;do{var m=!u!=!(h&&d%2),p=d===a?o:g?0:c,f=d===s?r:g?c:0;if(m&&(p=c-p,f=c-f),(!h||d===a||p!==f)&&this._runActionsRange(p,f,n,i||d!==a&&!h))return!0}while(i=!1,g&&++d<=s||!g&&--d>=s)}}},t._runActionsRange=function(){},createjs.AbstractTween=createjs.promote(e,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){function f(e,t){this.AbstractTween_constructor(t),this.pluginData=null,this.target=e,this.passive=!1,this._stepHead=new a(null,0,0,{},null,!0),this._stepTail=this._stepHead,this._stepPosition=0,this._actionHead=null,this._actionTail=null,this._plugins=null,this._pluginIds=null,this._injected=null,t&&(this.pluginData=t.pluginData,t.override&&f.removeTweens(e)),this.pluginData||(this.pluginData={}),this._init(t)}function a(e,t,n,i,a,s){this.next=null,this.prev=e,this.t=t,this.d=n,this.props=i,this.ease=a,this.passive=s,this.index=e?e.index+1:0}function i(e,t,n,i,a){this.next=null,this.prev=e,this.t=t,this.d=0,this.scope=n,this.funct=i,this.params=a}var e=createjs.extend(f,createjs.AbstractTween);f.IGNORE={},f._tweens=[],f._plugins=null,f._tweenHead=null,f._tweenTail=null,f.get=function(e,t){return new f(e,t)},f.tick=function(e,t){for(var n=f._tweenHead;n;){var i=n._next;t&&!n.ignoreGlobalPause||n._paused||n.advance(n.useTicks?1:e),n=i}},f.handleEvent=function(e){"tick"===e.type&&this.tick(e.delta,e.paused)},f.removeTweens=function(e){if(e.tweenjs_count){for(var t=f._tweenHead;t;){var n=t._next;t.target===e&&f._register(t,!0),t=n}e.tweenjs_count=0}},f.removeAllTweens=function(){for(var e=f._tweenHead;e;){var t=e._next;e._paused=!0,e.target&&(e.target.tweenjs_count=0),e._next=e._prev=null,e=t}f._tweenHead=f._tweenTail=null},f.hasActiveTweens=function(e){return e?!!e.tweenjs_count:!!f._tweenHead},f._installPlugin=function(e){for(var t=e.priority=e.priority||0,n=f._plugins=f._plugins||[],i=0,a=n.length;i<a&&!(t<n[i].priority);i++);n.splice(i,0,e)},f._register=function(e,t){var n,i=e.target;!t&&e._paused?(i&&(i.tweenjs_count=i.tweenjs_count?i.tweenjs_count+1:1),(n=f._tweenTail)?(f._tweenTail=n._next=e)._prev=n:f._tweenHead=f._tweenTail=e,!f._inited&&createjs.Ticker&&(createjs.Ticker.addEventListener("tick",f),f._inited=!0)):t&&!e._paused&&(i&&i.tweenjs_count--,n=e._next,i=e._prev,n?n._prev=i:f._tweenTail=i,i?i._next=n:f._tweenHead=n,e._next=e._prev=null),e._paused=t},e.wait=function(e,t){return 0<e&&this._addStep(+e,this._stepTail.props,null,t),this},e.to=function(e,t,n){(null==t||t<0)&&(t=0);n=this._addStep(+t,null,n);return this._appendProps(e,n),this},e.label=function(e){return this.addLabel(e,this.duration),this},e.call=function(e,t,n){return this._addAction(n||this.target,e,t||[this])},e.set=function(e,t){return this._addAction(t||this.target,this._set,[e])},e.play=function(e){return this._addAction(e||this,this._set,[{paused:!1}])},e.pause=function(e){return this._addAction(e||this,this._set,[{paused:!0}])},e.w=e.wait,e.t=e.to,e.c=e.call,e.s=e.set,e.toString=function(){return"[Tween]"},e.clone=function(){throw"Tween can not be cloned."},e._addPlugin=function(e){var t=this._pluginIds||(this._pluginIds={}),n=e.ID;if(n&&!t[n]){t[n]=!0;for(var i=this._plugins||(this._plugins=[]),a=e.priority||0,s=0,o=i.length;s<o;s++)if(a<i[s].priority)return void i.splice(s,0,e);i.push(e)}},e._updatePosition=function(e,t){var n=this._stepHead.next,i=this.position,a=this.duration;if(this.target&&n){for(var s=n.next;s&&s.t<=i;)s=(n=n.next).next;a=t?0===a?1:i/a:(i-n.t)/n.d;this._updateTargetProps(n,a,t)}this._stepPosition=n?i-n.t:0},e._updateTargetProps=function(e,t,n){if(!(this.passive=!!e.passive)){var i,a,s,o,r=e.prev.props,c=e.props;(o=e.ease)&&(t=o(t,0,1,1));var u=this._plugins;e:for(var h in r){if(i=(a=r[h])!==(s=c[h])&&"number"==typeof a?a+(s-a)*t:1<=t?s:a,u)for(var l=0,g=u.length;l<g;l++){var d=u[l].change(this,e,h,i,t,n);if(d===f.IGNORE)continue e;void 0!==d&&(i=d)}this.target[h]=i}}},e._runActionsRange=function(e,t,n,i){var a=t<e,s=a?this._actionTail:this._actionHead,o=t,r=e;a&&(o=e,r=t);for(var c=this.position;s;){var u=s.t;if((u===t||r<u&&u<o||i&&u===e)&&(s.funct.apply(s.scope,s.params),c!==this.position))return!0;s=a?s.prev:s.next}},e._appendProps=function(e,t,n){var i,a,s,o,r=this._stepHead.props,c=this.target,u=f._plugins,h=t.prev,l=h.props,g=t.props||(t.props=this._cloneProps(l)),d={};for(i in e)if(e.hasOwnProperty(i)&&(d[i]=g[i]=e[i],void 0===r[i])){if(o=void 0,u)for(a=u.length-1;0<=a;a--)if(void 0!==(s=u[a].init(this,i,o))&&(o=s),o===f.IGNORE){delete g[i],delete d[i];break}o!==f.IGNORE&&(void 0===o&&(o=c[i]),l[i]=void 0===o?null:o)}for(i in d){s=e[i];for(var m,p=h;(m=p)&&(p=m.prev);)if(p.props!==m.props){if(void 0!==p.props[i])break;p.props[i]=l[i]}}if(!1!==n&&(u=this._plugins))for(a=u.length-1;0<=a;a--)u[a].step(this,t,d);(n=this._injected)&&(this._injected=null,this._appendProps(n,t,!1))},e._injectProp=function(e,t){(this._injected||(this._injected={}))[e]=t},e._addStep=function(e,t,n,i){i=new a(this._stepTail,this.duration,e,t,n,i||!1);return this.duration+=e,this._stepTail=this._stepTail.next=i},e._addAction=function(e,t,n){n=new i(this._actionTail,this.duration,e,t,n);return this._actionTail?this._actionTail.next=n:this._actionHead=n,this._actionTail=n,this},e._set=function(e){for(var t in e)this[t]=e[t]},e._cloneProps=function(e){var t,n={};for(t in e)n[t]=e[t];return n},createjs.Tween=createjs.promote(f,"AbstractTween")}(),this.createjs=this.createjs||{},function(){function e(e){var t,n;e instanceof Array||null==e&&1<arguments.length?(t=e,n=arguments[1],e=arguments[2]):e&&(t=e.tweens,n=e.labels),this.AbstractTween_constructor(e),this.tweens=[],t&&this.addTween.apply(this,t),this.setLabels(n),this._init(e)}var t=createjs.extend(e,createjs.AbstractTween);t.addTween=function(e){e._parent&&e._parent.removeTween(e);var t=arguments.length;if(1<t){for(var n=0;n<t;n++)this.addTween(arguments[n]);return arguments[t-1]}if(0===t)return null;this.tweens.push(e),e._parent=this,e.paused=!0;var i=e.duration;return 0<e.loop&&(i*=e.loop+1),i>this.duration&&(this.duration=i),0<=this.rawPosition&&e.setPosition(this.rawPosition),e},t.removeTween=function(e){var t=arguments.length;if(1<t){for(var n=!0,i=0;i<t;i++)n=n&&this.removeTween(arguments[i]);return n}if(0===t)return!0;for(var a=this.tweens,i=a.length;i--;)if(a[i]===e)return a.splice(i,1),e._parent=null,e.duration>=this.duration&&this.updateDuration(),!0;return!1},t.updateDuration=function(){for(var e=this.duration=0,t=this.tweens.length;e<t;e++){var n=this.tweens[e],i=n.duration;0<n.loop&&(i*=n.loop+1),i>this.duration&&(this.duration=i)}},t.toString=function(){return"[Timeline]"},t.clone=function(){throw"Timeline can not be cloned."},t._updatePosition=function(e){for(var t=this.position,n=0,i=this.tweens.length;n<i;n++)this.tweens[n].setPosition(t,!0,e)},t._runActionsRange=function(e,t,n,i){for(var a=this.position,s=0,o=this.tweens.length;s<o;s++)if(this.tweens[s]._runActions(e,t,n,i),a!==this.position)return!0},createjs.Timeline=createjs.promote(e,"AbstractTween")}(),this.createjs=this.createjs||{},function(){function t(){throw"Ease cannot be instantiated."}t.none=t.linear=function(e){return e},t.get=function(t){return t<-1?t=-1:1<t&&(t=1),function(e){return 0==t?e:t<0?e*(e*-t+1+t):e*((2-e)*t+(1-t))}},t.getPowIn=function(t){return function(e){return Math.pow(e,t)}},t.getPowOut=function(t){return function(e){return 1-Math.pow(1-e,t)}},t.getPowInOut=function(t){return function(e){return(e*=2)<1?.5*Math.pow(e,t):1-.5*Math.abs(Math.pow(2-e,t))}},t.quadIn=t.getPowIn(2),t.quadOut=t.getPowOut(2),t.quadInOut=t.getPowInOut(2),t.cubicIn=t.getPowIn(3),t.cubicOut=t.getPowOut(3),t.cubicInOut=t.getPowInOut(3),t.quartIn=t.getPowIn(4),t.quartOut=t.getPowOut(4),t.quartInOut=t.getPowInOut(4),t.quintIn=t.getPowIn(5),t.quintOut=t.getPowOut(5),t.quintInOut=t.getPowInOut(5),t.sineIn=function(e){return 1-Math.cos(e*Math.PI/2)},t.sineOut=function(e){return Math.sin(e*Math.PI/2)},t.sineInOut=function(e){return-.5*(Math.cos(Math.PI*e)-1)},t.backIn=(t.getBackIn=function(t){return function(e){return e*e*((t+1)*e-t)}})(1.7),t.backOut=(t.getBackOut=function(t){return function(e){return--e*e*((t+1)*e+t)+1}})(1.7),t.backInOut=(t.getBackInOut=function(t){return t*=1.525,function(e){return(e*=2)<1?.5*e*e*((t+1)*e-t):.5*((e-=2)*e*((t+1)*e+t)+2)}})(1.7),t.circIn=function(e){return-(Math.sqrt(1-e*e)-1)},t.circOut=function(e){return Math.sqrt(1- --e*e)},t.circInOut=function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},t.bounceIn=function(e){return 1-t.bounceOut(1-e)},t.bounceOut=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},t.bounceInOut=function(e){return e<.5?.5*t.bounceIn(2*e):.5*t.bounceOut(2*e-1)+.5},t.elasticIn=(t.getElasticIn=function(n,i){var a=2*Math.PI;return function(e){if(0==e||1==e)return e;var t=i/a*Math.asin(1/n);return-(n*Math.pow(2,10*--e)*Math.sin((e-t)*a/i))}})(1,.3),t.elasticOut=(t.getElasticOut=function(n,i){var a=2*Math.PI;return function(e){if(0==e||1==e)return e;var t=i/a*Math.asin(1/n);return n*Math.pow(2,-10*e)*Math.sin((e-t)*a/i)+1}})(1,.3),t.elasticInOut=(t.getElasticInOut=function(n,i){var a=2*Math.PI;return function(e){var t=i/a*Math.asin(1/n);return(e*=2)<1?-.5*n*Math.pow(2,10*--e)*Math.sin((e-t)*a/i):n*Math.pow(2,-10*--e)*Math.sin((e-t)*a/i)*.5+1}})(1,.3*1.5),createjs.Ease=t}(),this.createjs=this.createjs||{},function(){function e(){throw"MotionGuidePlugin cannot be instantiated."}var y=e;y.priority=0,y.ID="MotionGuide",y.install=function(){return createjs.Tween._installPlugin(e),createjs.Tween.IGNORE},y.init=function(e,t){"guide"==t&&e._addPlugin(y)},y.step=function(e,t,n){for(var i in n)if("guide"===i){var a=t.props.guide,s=y._solveGuideData(n.guide,a);a.valid=!s;var o=a.endData;if(e._injectProp("x",o.x),e._injectProp("y",o.y),s||!a.orient)break;s=void 0===t.prev.props.rotation?e.target.rotation||0:t.prev.props.rotation;if(a.startOffsetRot=s-a.startData.rotation,"fixed"==a.orient)a.endAbsRot=o.rotation+a.startOffsetRot,a.deltaRotation=0;else{var o=void 0===n.rotation?e.target.rotation||0:n.rotation,r=o-a.endData.rotation-a.startOffsetRot,c=r%360;switch(a.endAbsRot=o,a.orient){case"auto":a.deltaRotation=r;break;case"cw":a.deltaRotation=(360+c)%360+360*Math.abs(r/360|0);break;case"ccw":a.deltaRotation=(c-360)%360+-360*Math.abs(r/360|0)}}e._injectProp("rotation",a.endAbsRot)}},y.change=function(e,t,n,i,a){var s=t.props.guide;if(s&&t.props!==t.prev.props&&s!==t.prev.props.guide)return"guide"===n&&!s.valid||"x"==n||"y"==n||"rotation"===n&&s.orient?createjs.Tween.IGNORE:void y._ratioToPositionData(a,s,e.target)},y.debug=function(e,t,n){e=e.guide||e;var i=y._findPathProblems(e);if(i&&console.error("MotionGuidePlugin Error found: \n"+i),!t)return i;var a=e.path,s=a.length;for(t.save(),t.lineCap="round",t.lineJoin="miter",t.beginPath(),t.moveTo(a[0],a[1]),u=2;u<s;u+=4)t.quadraticCurveTo(a[u],a[u+1],a[u+2],a[u+3]);t.strokeStyle="black",t.lineWidth=4.5,t.stroke(),t.strokeStyle="white",t.lineWidth=3,t.stroke(),t.closePath();var o=n.length;if(n&&o){var r={},c={};y._solveGuideData(e,r);for(var u=0;u<o;u++)r.orient="fixed",y._ratioToPositionData(n[u],r,c),t.beginPath(),t.moveTo(c.x,c.y),t.lineTo(c.x+9*Math.cos(.0174533*c.rotation),c.y+9*Math.sin(.0174533*c.rotation)),t.strokeStyle="black",t.lineWidth=4.5,t.stroke(),t.strokeStyle="red",t.lineWidth=3,t.stroke(),t.closePath()}return t.restore(),i},y._solveGuideData=function(e,t){if(_=y.debug(e))return _;var n=t.path=e.path;t.orient=e.orient,t.subLines=[],t.totalLength=0,t.startOffsetRot=0,t.deltaRotation=0,t.startData={ratio:0},t.endData={ratio:1},t.animSpan=1;for(var i,a,s,o,r=n.length,c={},u=n[0],h=n[1],l=2;l<r;l+=4){i=n[l],a=n[l+1],s=n[l+2],o=n[l+3];for(var g={weightings:[],estLength:0,portion:0},d=u,m=h,p=1;p<=10;p++){y._getParamsForCurve(u,h,i,a,s,o,p/10,!1,c);var f=c.x-d,v=c.y-m,b=Math.sqrt(f*f+v*v);g.weightings.push(b),g.estLength+=b,d=c.x,m=c.y}for(t.totalLength+=g.estLength,p=0;p<10;p++)b=g.estLength,g.weightings[p]=g.weightings[p]/b;t.subLines.push(g),u=s,h=o}b=t.totalLength;var w=t.subLines.length;for(l=0;l<w;l++)t.subLines[l].portion=t.subLines[l].estLength/b;var _=isNaN(e.start)?0:e.start,e=isNaN(e.end)?1:e.end;y._ratioToPositionData(_,t,t.startData),y._ratioToPositionData(e,t,t.endData),t.startData.ratio=_,t.endData.ratio=e,t.animSpan=t.endData.ratio-t.startData.ratio},y._ratioToPositionData=function(e,t,n){for(var i,a,s,o=t.subLines,r=0,c=e*t.animSpan+t.startData.ratio,u=o.length,h=0;h<u;h++){if(c<=r+(a=o[h].portion)){s=h;break}r+=a}void 0===s&&(s=u-1,r-=a);var l=o[s].weightings,g=a;for(u=l.length,h=0;h<u&&!(c<=r+(a=l[h]*g));h++)r+=a;s=4*s+2,i=h/10+(c-r)/a*.1;var d=t.path;return y._getParamsForCurve(d[s-2],d[s-1],d[s],d[s+1],d[s+2],d[s+3],i,t.orient,n),t.orient&&(.99999<=e&&e<=1.00001&&void 0!==t.endAbsRot?n.rotation=t.endAbsRot:n.rotation+=t.startOffsetRot+e*t.deltaRotation),n},y._getParamsForCurve=function(e,t,n,i,a,s,o,r,c){var u=1-o;c.x=u*u*e+2*u*o*n+o*o*a,c.y=u*u*t+2*u*o*i+o*o*s,r&&(c.rotation=57.2957795*Math.atan2((i-t)*u+(s-i)*o,(n-e)*u+(a-n)*o))},y._findPathProblems=function(e){var t=e.path,n=t&&t.length||0;if(n<6||(n-2)%4){var i="\tCannot parse 'path' array due to invalid number of entries in path. ";return i+="There should be an odd number of points, at least 3 points, and 2 entries per point (x & y). ",(i+="See 'CanvasRenderingContext2D.quadraticCurveTo' for details as 'path' models a quadratic bezier.\n\n")+("Only [ "+n+" ] values found. Expected: "+Math.max(4*Math.ceil((n-2)/4)+2,6))}for(var a=0;a<n;a++)if(isNaN(t[a]))return"All data in path array must be numeric";i=e.start;if(isNaN(i)&&void 0!==i)return"'start' out of bounds. Expected 0 to 1, got: "+i;i=e.end;if(isNaN(i)&&void 0!==i)return"'end' out of bounds. Expected 0 to 1, got: "+i;e=e.orient;return e&&"fixed"!=e&&"auto"!=e&&"cw"!=e&&"ccw"!=e?'Invalid orientation value. Expected ["fixed", "auto", "cw", "ccw", undefined], got: '+e:void 0},createjs.MotionGuidePlugin=e}(),this.createjs=this.createjs||{},function(){var e=createjs.TweenJS=createjs.TweenJS||{};e.version="1.0.0",e.buildDate="Thu, 14 Sep 2017 19:47:47 GMT"}(),String.prototype.toHHMMSS=function(){var e=parseInt(this,10),t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),e=e-3600*t-60*n;return t<10&&(t="0"+t),n<10&&(n="0"+n),e<10&&(e="0"+e),t+":"+n+":"+e};var spritesheetplayer={characterSet:63,lowercase:!0,xindex:9,yindex:7,imgResolutionx:1024,imgResolutiony:1024,img:"surfer"},spritefont1={characterSet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789:/======",lowercase:!0,xindex:14,yindex:5,imgResolutionx:1695,imgResolutiony:908,img:"jfont"},spritefont2={characterSet:'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789.,:;-+=~%!?&$(){}[]\\/<>^*@#"x|xxxxxxxxxxxxxxxx',lowercase:!0,xindex:16,yindex:6,imgResolution:2048,img:"Font"},spritefont3={characterSet:"1234567890abcdefghijklmnopqrstuvwxyz:/,!+-.%xxx",lowercase:!1,xindex:5,yindex:9,imgResolution:320,img:"fontbold"},fontSmall={size:30,spacing:.6},fontMedium={size:40,spacing:.6},fontBig={size:60,spacing:.6},fontXL={size:200,spacing:.6},fontXXL={size:300,spacing:.6};function randomBool(e,t){return 1==random(1,2)?e:t}function random(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function randomFloat(e,t){return parseFloat(Math.random()*(t-e)+e).toFixed(3)}function randomizeArray(e){for(var t=0;t<e.length;t++){var n=random(0,e.length-1),i=e[n],a=e[t];e[t]=i,e[n]=a}return e}function checkIntersection(e,t){return!(e.x>=t.x+t.width||e.x+e.width<=t.x||e.y>=t.y+t.height||e.y+e.height<=t.y)}function setselectorpos(){setPosToAnotherObject(gameobjects.selector,gameobjects.grid.cells[gameobjects.grid.pos])}function setPosToAnotherObject(e,t){e.x=t.x,e.y=t.y}