function characterIndex(e,t){for(var n=0;n<t.xindex;n++)for(var a=0;a<t.yindex;a++){var i=t.characterSet[a*t.xindex+n];if(t.lowercase){if(e==i)return{i:n,j:a}}else if(e.toLowerCase()==i.toLowerCase())return{i:n,j:a}}}function spritefont(e,t,n,a,i,o,r){r&&(i-=(t.length+1)*n*a/2);for(var s,c,l=e.imgResolution/e.xindex,g=l-e.xindex,u=0;u<t.length;u++)" "!=t[u]&&(s=characterIndex(t[u],e).i,c=characterIndex(t[u],e).j,context.drawImage(img[e.img],l*s,l*c,g,g,i+n*a*u,o,n,n))}this.createjs=this.createjs||{},createjs.extend=function(e,t){"use strict";function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n},this.createjs=this.createjs||{},createjs.promote=function(e,t){"use strict";var n=e.prototype,a=Object.getPrototypeOf&&Object.getPrototypeOf(n)||n.__proto__;if(a)for(var i in n[(t+="_")+"constructor"]=a.constructor,a)n.hasOwnProperty(i)&&"function"==typeof a[i]&&(n[t+i]=a[i]);return e},this.createjs=this.createjs||{},createjs.deprecate=function(t,n){"use strict";return function(){var e="Deprecated property or method '"+n+"'. See docs for info.";return console&&(console.warn?console.warn(e):console.log(e)),t&&t.apply(this,arguments)}},this.createjs=this.createjs||{},function(){"use strict";function e(e,t,n){this.type=e,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!t,this.cancelable=!!n,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var t=e.prototype;t.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},t.stopPropagation=function(){this.propagationStopped=!0},t.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},t.remove=function(){this.removed=!0},t.clone=function(){return new e(this.type,this.bubbles,this.cancelable)},t.set=function(e){for(var t in e)this[t]=e[t];return this},t.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this._listeners=null,this._captureListeners=null}var t=e.prototype;e.initialize=function(e){e.addEventListener=t.addEventListener,e.on=t.on,e.removeEventListener=e.off=t.removeEventListener,e.removeAllEventListeners=t.removeAllEventListeners,e.hasEventListener=t.hasEventListener,e.dispatchEvent=t.dispatchEvent,e._dispatchEvent=t._dispatchEvent,e.willTrigger=t.willTrigger},t.addEventListener=function(e,t,n){var a=n?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{},i=a[e];return i&&this.removeEventListener(e,t,n),(i=a[e])?i.push(t):a[e]=[t],t},t.on=function(e,t,n,a,i,o){return t.handleEvent&&(n=n||t,t=t.handleEvent),n=n||this,this.addEventListener(e,function(e){t.call(n,e,i),a&&e.remove()},o)},t.removeEventListener=function(e,t,n){var a=n?this._captureListeners:this._listeners;if(a){var i=a[e];if(i)for(var o=0,r=i.length;o<r;o++)if(i[o]==t){1==r?delete a[e]:i.splice(o,1);break}}},t.off=t.removeEventListener,t.removeAllEventListeners=function(e){e?(this._listeners&&delete this._listeners[e],this._captureListeners&&delete this._captureListeners[e]):this._listeners=this._captureListeners=null},t.dispatchEvent=function(e,t,n){if("string"==typeof e){var a=this._listeners;if(!(t||a&&a[e]))return!0;e=new createjs.Event(e,t,n)}else e.target&&e.clone&&(e=e.clone());try{e.target=this}catch(e){}if(e.bubbles&&this.parent){for(var i=this,o=[i];i.parent;)o.push(i=i.parent);for(var r=o.length,s=r-1;0<=s&&!e.propagationStopped;s--)o[s]._dispatchEvent(e,1+(0==s));for(s=1;s<r&&!e.propagationStopped;s++)o[s]._dispatchEvent(e,3)}else this._dispatchEvent(e,2);return!e.defaultPrevented},t.hasEventListener=function(e){var t=this._listeners,n=this._captureListeners;return!!(t&&t[e]||n&&n[e])},t.willTrigger=function(e){for(var t=this;t;){if(t.hasEventListener(e))return!0;t=t.parent}return!1},t.toString=function(){return"[EventDispatcher]"},t._dispatchEvent=function(e,t){var n,a,i=t<=2?this._captureListeners:this._listeners;if(e&&i&&(a=i[e.type])&&(n=a.length)){try{e.currentTarget=this}catch(e){}try{e.eventPhase=0|t}catch(e){}e.removed=!1,a=a.slice();for(var o=0;o<n&&!e.immediatePropagationStopped;o++){var r=a[o];r.handleEvent?r.handleEvent(e):r(e),e.removed&&(this.off(e.type,r,1==t),e.removed=!1)}}2===t&&this._dispatchEvent(e,2.1)},createjs.EventDispatcher=e}(),this.createjs=this.createjs||{},function(){"use strict";function o(){throw"Ticker cannot be instantiated."}o.RAF_SYNCHED="synched",o.RAF="raf",o.TIMEOUT="timeout",o.timingMode=null,o.maxDelta=0,o.paused=!1,o.removeEventListener=null,o.removeAllEventListeners=null,o.dispatchEvent=null,o.hasEventListener=null,o._listeners=null,createjs.EventDispatcher.initialize(o),o._addEventListener=o.addEventListener,o.addEventListener=function(){return o._inited||o.init(),o._addEventListener.apply(o,arguments)},o._inited=!1,o._startTime=0,o._pausedTime=0,o._ticks=0,o._pausedTicks=0,o._interval=50,o._lastTime=0,o._times=null,o._tickTimes=null,o._timerId=null,o._raf=!0,o._setInterval=function(e){o._interval=e,o._inited&&o._setupTick()},o.setInterval=createjs.deprecate(o._setInterval,"Ticker.setInterval"),o._getInterval=function(){return o._interval},o.getInterval=createjs.deprecate(o._getInterval,"Ticker.getInterval"),o._setFPS=function(e){o._setInterval(1e3/e)},o.setFPS=createjs.deprecate(o._setFPS,"Ticker.setFPS"),o._getFPS=function(){return 1e3/o._interval},o.getFPS=createjs.deprecate(o._getFPS,"Ticker.getFPS");try{Object.defineProperties(o,{interval:{get:o._getInterval,set:o._setInterval},framerate:{get:o._getFPS,set:o._setFPS}})}catch(e){console.log(e)}o.init=function(){o._inited||(o._inited=!0,o._times=[],o._tickTimes=[],o._startTime=o._getTime(),o._times.push(o._lastTime=0),o.interval=o._interval)},o.reset=function(){var e;o._raf?(e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame)&&e(o._timerId):clearTimeout(o._timerId),o.removeAllEventListeners("tick"),o._timerId=o._times=o._tickTimes=null,o._startTime=o._lastTime=o._ticks=o._pausedTime=0,o._inited=!1},o.getMeasuredTickTime=function(e){var t=0,n=o._tickTimes;if(!n||n.length<1)return-1;e=Math.min(n.length,e||0|o._getFPS());for(var a=0;a<e;a++)t+=n[a];return t/e},o.getMeasuredFPS=function(e){var t=o._times;return!t||t.length<2?-1:(e=Math.min(t.length-1,e||0|o._getFPS()),1e3/((t[0]-t[e])/e))},o.getTime=function(e){return o._startTime?o._getTime()-(e?o._pausedTime:0):-1},o.getEventTime=function(e){return o._startTime?(o._lastTime||o._startTime)-(e?o._pausedTime:0):-1},o.getTicks=function(e){return o._ticks-(e?o._pausedTicks:0)},o._handleSynch=function(){o._timerId=null,o._setupTick(),o._getTime()-o._lastTime>=.97*(o._interval-1)&&o._tick()},o._handleRAF=function(){o._timerId=null,o._setupTick(),o._tick()},o._handleTimeout=function(){o._timerId=null,o._setupTick(),o._tick()},o._setupTick=function(){if(null==o._timerId){var e=o.timingMode;if(e==o.RAF_SYNCHED||e==o.RAF){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(t)return o._timerId=t(e==o.RAF?o._handleRAF:o._handleSynch),void(o._raf=!0)}o._raf=!1,o._timerId=setTimeout(o._handleTimeout,o._interval)}},o._tick=function(){var e,t,n=o.paused,a=o._getTime(),i=a-o._lastTime;for(o._lastTime=a,o._ticks++,n&&(o._pausedTicks++,o._pausedTime+=i),o.hasEventListener("tick")&&(e=new createjs.Event("tick"),t=o.maxDelta,e.delta=t&&t<i?t:i,e.paused=n,e.time=a,e.runTime=a-o._pausedTime,o.dispatchEvent(e)),o._tickTimes.unshift(o._getTime()-a);100<o._tickTimes.length;)o._tickTimes.pop();for(o._times.unshift(a);100<o._times.length;)o._times.pop()};var e=window,t=e.performance.now||e.performance.mozNow||e.performance.msNow||e.performance.oNow||e.performance.webkitNow;o._getTime=function(){return(t&&t.call(e.performance)||(new Date).getTime())-o._startTime},createjs.Ticker=o}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.EventDispatcher_constructor(),this.ignoreGlobalPause=!1,this.loop=0,this.useTicks=!1,this.reversed=!1,this.bounce=!1,this.timeScale=1,this.duration=0,this.position=0,this.rawPosition=-1,this._paused=!0,this._next=null,this._prev=null,this._parent=null,this._labels=null,this._labelList=null,e&&(this.useTicks=!!e.useTicks,this.ignoreGlobalPause=!!e.ignoreGlobalPause,this.loop=!0===e.loop?-1:e.loop||0,this.reversed=!!e.reversed,this.bounce=!!e.bounce,this.timeScale=e.timeScale||1,e.onChange&&this.addEventListener("change",e.onChange),e.onComplete&&this.addEventListener("complete",e.onComplete))}var t=createjs.extend(e,createjs.EventDispatcher);t._setPaused=function(e){return createjs.Tween._register(this,e),this},t.setPaused=createjs.deprecate(t._setPaused,"AbstractTween.setPaused"),t._getPaused=function(){return this._paused},t.getPaused=createjs.deprecate(t._getPaused,"AbstactTween.getPaused"),t._getCurrentLabel=function(e){var t=this.getLabels();null==e&&(e=this.position);for(var n=0,a=t.length;n<a&&!(e<t[n].position);n++);return 0===n?null:t[n-1].label},t.getCurrentLabel=createjs.deprecate(t._getCurrentLabel,"AbstractTween.getCurrentLabel");try{Object.defineProperties(t,{paused:{set:t._setPaused,get:t._getPaused},currentLabel:{get:t._getCurrentLabel}})}catch(e){}t.advance=function(e,t){this.setPosition(this.rawPosition+e*this.timeScale,t)},t.setPosition=function(e,t,n,a){var i=this.duration,o=this.loop,r=this.rawPosition,s=0,c=0,l=!1;if(e<0&&(e=0),0===i){if(l=!0,-1!==r)return l}else{if(c=e-(s=e/i|0)*i,(l=-1!==o&&o*i+i<=e)&&(e=(c=i)*(s=o)+i),e===r)return l;!this.reversed!=!(this.bounce&&s%2)&&(c=i-c)}this.position=c,this.rawPosition=e,this._updatePosition(n,l),l&&(this.paused=!0),a&&a(this),t||this._runActions(r,e,n,!n&&-1===r),this.dispatchEvent("change"),l&&this.dispatchEvent("complete")},t.calculatePosition=function(e){var t=this.duration,n=this.loop,a=0,i=0;return 0===t?0:(-1!==n&&n*t+t<=e?(i=t,a=n):i=e<0?0:e-(a=e/t|0)*t,!this.reversed!=!(this.bounce&&a%2)?t-i:i)},t.getLabels=function(){var e=this._labelList;if(!e){e=this._labelList=[];var t,n=this._labels;for(t in n)e.push({label:t,position:n[t]});e.sort(function(e,t){return e.position-t.position})}return e},t.setLabels=function(e){this._labels=e,this._labelList=null},t.addLabel=function(e,t){this._labels||(this._labels={}),this._labels[e]=t;var n=this._labelList;if(n){for(var a=0,i=n.length;a<i&&!(t<n[a].position);a++);n.splice(a,0,{label:e,position:t})}},t.gotoAndPlay=function(e){this.paused=!1,this._goto(e)},t.gotoAndStop=function(e){this.paused=!0,this._goto(e)},t.resolve=function(e){var t=Number(e);return isNaN(t)&&(t=this._labels&&this._labels[e]),t},t.toString=function(){return"[AbstractTween]"},t.clone=function(){throw"AbstractTween can not be cloned."},t._init=function(e){e&&e.paused||(this.paused=!1),e&&null!=e.position&&this.setPosition(e.position)},t._updatePosition=function(){},t._goto=function(e){e=this.resolve(e);null!=e&&this.setPosition(e,!1,!0)},t._runActions=function(e,t,n,a){if(this._actionHead||this.tweens){var i,o,r,s,c=this.duration,l=this.reversed,g=this.bounce,u=this.loop;if(0===c?(i=o=r=s=0,l=g=!1):(r=e-(i=e/c|0)*c,s=t-(o=t/c|0)*c),-1!==u&&(u<o&&(s=c,o=u),u<i&&(r=c,i=u)),n)return this._runActionsRange(s,s,n,a);if(i!==o||r!==s||n||a){-1===i&&(i=r=0);var m=e<=t,h=i;do{var d=!l!=!(g&&h%2),p=h===i?r:m?0:c,f=h===o?s:m?c:0;if(d&&(p=c-p,f=c-f),(!g||h===i||p!==f)&&this._runActionsRange(p,f,n,a||h!==i&&!g))return!0}while(a=!1,m&&++h<=o||!m&&--h>=o)}}},t._runActionsRange=function(){},createjs.AbstractTween=createjs.promote(e,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function f(e,t){this.AbstractTween_constructor(t),this.pluginData=null,this.target=e,this.passive=!1,this._stepHead=new i(null,0,0,{},null,!0),this._stepTail=this._stepHead,this._stepPosition=0,this._actionHead=null,this._actionTail=null,this._plugins=null,this._pluginIds=null,this._injected=null,t&&(this.pluginData=t.pluginData,t.override&&f.removeTweens(e)),this.pluginData||(this.pluginData={}),this._init(t)}function i(e,t,n,a,i,o){this.next=null,this.prev=e,this.t=t,this.d=n,this.props=a,this.ease=i,this.passive=o,this.index=e?e.index+1:0}function a(e,t,n,a,i){this.next=null,this.prev=e,this.t=t,this.d=0,this.scope=n,this.funct=a,this.params=i}var e=createjs.extend(f,createjs.AbstractTween);f.IGNORE={},f._tweens=[],f._plugins=null,f._tweenHead=null,f._tweenTail=null,f.get=function(e,t){return new f(e,t)},f.tick=function(e,t){for(var n=f._tweenHead;n;){var a=n._next;t&&!n.ignoreGlobalPause||n._paused||n.advance(n.useTicks?1:e),n=a}},f.handleEvent=function(e){"tick"===e.type&&this.tick(e.delta,e.paused)},f.removeTweens=function(e){if(e.tweenjs_count){for(var t=f._tweenHead;t;){var n=t._next;t.target===e&&f._register(t,!0),t=n}e.tweenjs_count=0}},f.removeAllTweens=function(){for(var e=f._tweenHead;e;){var t=e._next;e._paused=!0,e.target&&(e.target.tweenjs_count=0),e._next=e._prev=null,e=t}f._tweenHead=f._tweenTail=null},f.hasActiveTweens=function(e){return e?!!e.tweenjs_count:!!f._tweenHead},f._installPlugin=function(e){for(var t=e.priority=e.priority||0,n=f._plugins=f._plugins||[],a=0,i=n.length;a<i&&!(t<n[a].priority);a++);n.splice(a,0,e)},f._register=function(e,t){var n,a=e.target;!t&&e._paused?(a&&(a.tweenjs_count=a.tweenjs_count?a.tweenjs_count+1:1),(n=f._tweenTail)?(f._tweenTail=n._next=e)._prev=n:f._tweenHead=f._tweenTail=e,!f._inited&&createjs.Ticker&&(createjs.Ticker.addEventListener("tick",f),f._inited=!0)):t&&!e._paused&&(a&&a.tweenjs_count--,n=e._next,a=e._prev,n?n._prev=a:f._tweenTail=a,a?a._next=n:f._tweenHead=n,e._next=e._prev=null),e._paused=t},e.wait=function(e,t){return 0<e&&this._addStep(+e,this._stepTail.props,null,t),this},e.to=function(e,t,n){(null==t||t<0)&&(t=0);n=this._addStep(+t,null,n);return this._appendProps(e,n),this},e.label=function(e){return this.addLabel(e,this.duration),this},e.call=function(e,t,n){return this._addAction(n||this.target,e,t||[this])},e.set=function(e,t){return this._addAction(t||this.target,this._set,[e])},e.play=function(e){return this._addAction(e||this,this._set,[{paused:!1}])},e.pause=function(e){return this._addAction(e||this,this._set,[{paused:!0}])},e.w=e.wait,e.t=e.to,e.c=e.call,e.s=e.set,e.toString=function(){return"[Tween]"},e.clone=function(){throw"Tween can not be cloned."},e._addPlugin=function(e){var t=this._pluginIds||(this._pluginIds={}),n=e.ID;if(n&&!t[n]){t[n]=!0;for(var a=this._plugins||(this._plugins=[]),i=e.priority||0,o=0,r=a.length;o<r;o++)if(i<a[o].priority)return void a.splice(o,0,e);a.push(e)}},e._updatePosition=function(e,t){var n=this._stepHead.next,a=this.position,i=this.duration;if(this.target&&n){for(var o=n.next;o&&o.t<=a;)o=(n=n.next).next;i=t?0===i?1:a/i:(a-n.t)/n.d;this._updateTargetProps(n,i,t)}this._stepPosition=n?a-n.t:0},e._updateTargetProps=function(e,t,n){if(!(this.passive=!!e.passive)){var a,i,o,r,s=e.prev.props,c=e.props;(r=e.ease)&&(t=r(t,0,1,1));var l=this._plugins;e:for(var g in s){if(a=(i=s[g])!==(o=c[g])&&"number"==typeof i?i+(o-i)*t:1<=t?o:i,l)for(var u=0,m=l.length;u<m;u++){var h=l[u].change(this,e,g,a,t,n);if(h===f.IGNORE)continue e;void 0!==h&&(a=h)}this.target[g]=a}}},e._runActionsRange=function(e,t,n,a){var i=t<e,o=i?this._actionTail:this._actionHead,r=t,s=e;i&&(r=e,s=t);for(var c=this.position;o;){var l=o.t;if((l===t||s<l&&l<r||a&&l===e)&&(o.funct.apply(o.scope,o.params),c!==this.position))return!0;o=i?o.prev:o.next}},e._appendProps=function(e,t,n){var a,i,o,r,s=this._stepHead.props,c=this.target,l=f._plugins,g=t.prev,u=g.props,m=t.props||(t.props=this._cloneProps(u)),h={};for(a in e)if(e.hasOwnProperty(a)&&(h[a]=m[a]=e[a],void 0===s[a])){if(r=void 0,l)for(i=l.length-1;0<=i;i--)if(void 0!==(o=l[i].init(this,a,r))&&(r=o),r===f.IGNORE){delete m[a],delete h[a];break}r!==f.IGNORE&&(void 0===r&&(r=c[a]),u[a]=void 0===r?null:r)}for(a in h){o=e[a];for(var d,p=g;(d=p)&&(p=d.prev);)if(p.props!==d.props){if(void 0!==p.props[a])break;p.props[a]=u[a]}}if(!1!==n&&(l=this._plugins))for(i=l.length-1;0<=i;i--)l[i].step(this,t,h);(n=this._injected)&&(this._injected=null,this._appendProps(n,t,!1))},e._injectProp=function(e,t){(this._injected||(this._injected={}))[e]=t},e._addStep=function(e,t,n,a){a=new i(this._stepTail,this.duration,e,t,n,a||!1);return this.duration+=e,this._stepTail=this._stepTail.next=a},e._addAction=function(e,t,n){n=new a(this._actionTail,this.duration,e,t,n);return this._actionTail?this._actionTail.next=n:this._actionHead=n,this._actionTail=n,this},e._set=function(e){for(var t in e)this[t]=e[t]},e._cloneProps=function(e){var t,n={};for(t in e)n[t]=e[t];return n},createjs.Tween=createjs.promote(f,"AbstractTween")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){var t,n;e instanceof Array||null==e&&1<arguments.length?(t=e,n=arguments[1],e=arguments[2]):e&&(t=e.tweens,n=e.labels),this.AbstractTween_constructor(e),this.tweens=[],t&&this.addTween.apply(this,t),this.setLabels(n),this._init(e)}var t=createjs.extend(e,createjs.AbstractTween);t.addTween=function(e){e._parent&&e._parent.removeTween(e);var t=arguments.length;if(1<t){for(var n=0;n<t;n++)this.addTween(arguments[n]);return arguments[t-1]}if(0===t)return null;this.tweens.push(e),e._parent=this,e.paused=!0;var a=e.duration;return 0<e.loop&&(a*=e.loop+1),a>this.duration&&(this.duration=a),0<=this.rawPosition&&e.setPosition(this.rawPosition),e},t.removeTween=function(e){var t=arguments.length;if(1<t){for(var n=!0,a=0;a<t;a++)n=n&&this.removeTween(arguments[a]);return n}if(0===t)return!0;for(var i=this.tweens,a=i.length;a--;)if(i[a]===e)return i.splice(a,1),e._parent=null,e.duration>=this.duration&&this.updateDuration(),!0;return!1},t.updateDuration=function(){for(var e=this.duration=0,t=this.tweens.length;e<t;e++){var n=this.tweens[e],a=n.duration;0<n.loop&&(a*=n.loop+1),a>this.duration&&(this.duration=a)}},t.toString=function(){return"[Timeline]"},t.clone=function(){throw"Timeline can not be cloned."},t._updatePosition=function(e){for(var t=this.position,n=0,a=this.tweens.length;n<a;n++)this.tweens[n].setPosition(t,!0,e)},t._runActionsRange=function(e,t,n,a){for(var i=this.position,o=0,r=this.tweens.length;o<r;o++)if(this.tweens[o]._runActions(e,t,n,a),i!==this.position)return!0},createjs.Timeline=createjs.promote(e,"AbstractTween")}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"Ease cannot be instantiated."}t.none=t.linear=function(e){return e},t.get=function(t){return t<-1?t=-1:1<t&&(t=1),function(e){return 0==t?e:t<0?e*(e*-t+1+t):e*((2-e)*t+(1-t))}},t.getPowIn=function(t){return function(e){return Math.pow(e,t)}},t.getPowOut=function(t){return function(e){return 1-Math.pow(1-e,t)}},t.getPowInOut=function(t){return function(e){return(e*=2)<1?.5*Math.pow(e,t):1-.5*Math.abs(Math.pow(2-e,t))}},t.quadIn=t.getPowIn(2),t.quadOut=t.getPowOut(2),t.quadInOut=t.getPowInOut(2),t.cubicIn=t.getPowIn(3),t.cubicOut=t.getPowOut(3),t.cubicInOut=t.getPowInOut(3),t.quartIn=t.getPowIn(4),t.quartOut=t.getPowOut(4),t.quartInOut=t.getPowInOut(4),t.quintIn=t.getPowIn(5),t.quintOut=t.getPowOut(5),t.quintInOut=t.getPowInOut(5),t.sineIn=function(e){return 1-Math.cos(e*Math.PI/2)},t.sineOut=function(e){return Math.sin(e*Math.PI/2)},t.sineInOut=function(e){return-.5*(Math.cos(Math.PI*e)-1)},t.backIn=(t.getBackIn=function(t){return function(e){return e*e*((t+1)*e-t)}})(1.7),t.backOut=(t.getBackOut=function(t){return function(e){return--e*e*((t+1)*e+t)+1}})(1.7),t.backInOut=(t.getBackInOut=function(t){return t*=1.525,function(e){return(e*=2)<1?.5*e*e*((t+1)*e-t):.5*((e-=2)*e*((t+1)*e+t)+2)}})(1.7),t.circIn=function(e){return-(Math.sqrt(1-e*e)-1)},t.circOut=function(e){return Math.sqrt(1- --e*e)},t.circInOut=function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},t.bounceIn=function(e){return 1-t.bounceOut(1-e)},t.bounceOut=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},t.bounceInOut=function(e){return e<.5?.5*t.bounceIn(2*e):.5*t.bounceOut(2*e-1)+.5},t.elasticIn=(t.getElasticIn=function(n,a){var i=2*Math.PI;return function(e){if(0==e||1==e)return e;var t=a/i*Math.asin(1/n);return-(n*Math.pow(2,10*--e)*Math.sin((e-t)*i/a))}})(1,.3),t.elasticOut=(t.getElasticOut=function(n,a){var i=2*Math.PI;return function(e){if(0==e||1==e)return e;var t=a/i*Math.asin(1/n);return n*Math.pow(2,-10*e)*Math.sin((e-t)*i/a)+1}})(1,.3),t.elasticInOut=(t.getElasticInOut=function(n,a){var i=2*Math.PI;return function(e){var t=a/i*Math.asin(1/n);return(e*=2)<1?-.5*n*Math.pow(2,10*--e)*Math.sin((e-t)*i/a):n*Math.pow(2,-10*--e)*Math.sin((e-t)*i/a)*.5+1}})(1,.3*1.5),createjs.Ease=t}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"MotionGuidePlugin cannot be instantiated."}var j=e;j.priority=0,j.ID="MotionGuide",j.install=function(){return createjs.Tween._installPlugin(e),createjs.Tween.IGNORE},j.init=function(e,t){"guide"==t&&e._addPlugin(j)},j.step=function(e,t,n){for(var a in n)if("guide"===a){var i=t.props.guide,o=j._solveGuideData(n.guide,i);i.valid=!o;var r=i.endData;if(e._injectProp("x",r.x),e._injectProp("y",r.y),o||!i.orient)break;o=void 0===t.prev.props.rotation?e.target.rotation||0:t.prev.props.rotation;if(i.startOffsetRot=o-i.startData.rotation,"fixed"==i.orient)i.endAbsRot=r.rotation+i.startOffsetRot,i.deltaRotation=0;else{var r=void 0===n.rotation?e.target.rotation||0:n.rotation,s=r-i.endData.rotation-i.startOffsetRot,c=s%360;switch(i.endAbsRot=r,i.orient){case"auto":i.deltaRotation=s;break;case"cw":i.deltaRotation=(360+c)%360+360*Math.abs(s/360|0);break;case"ccw":i.deltaRotation=(c-360)%360+-360*Math.abs(s/360|0)}}e._injectProp("rotation",i.endAbsRot)}},j.change=function(e,t,n,a,i){var o=t.props.guide;if(o&&t.props!==t.prev.props&&o!==t.prev.props.guide)return"guide"===n&&!o.valid||"x"==n||"y"==n||"rotation"===n&&o.orient?createjs.Tween.IGNORE:void j._ratioToPositionData(i,o,e.target)},j.debug=function(e,t,n){e=e.guide||e;var a=j._findPathProblems(e);if(a&&console.error("MotionGuidePlugin Error found: \n"+a),!t)return a;var i=e.path,o=i.length;for(t.save(),t.lineCap="round",t.lineJoin="miter",t.beginPath(),t.moveTo(i[0],i[1]),l=2;l<o;l+=4)t.quadraticCurveTo(i[l],i[l+1],i[l+2],i[l+3]);t.strokeStyle="black",t.lineWidth=4.5,t.stroke(),t.strokeStyle="white",t.lineWidth=3,t.stroke(),t.closePath();var r=n.length;if(n&&r){var s={},c={};j._solveGuideData(e,s);for(var l=0;l<r;l++)s.orient="fixed",j._ratioToPositionData(n[l],s,c),t.beginPath(),t.moveTo(c.x,c.y),t.lineTo(c.x+9*Math.cos(.0174533*c.rotation),c.y+9*Math.sin(.0174533*c.rotation)),t.strokeStyle="black",t.lineWidth=4.5,t.stroke(),t.strokeStyle="red",t.lineWidth=3,t.stroke(),t.closePath()}return t.restore(),a},j._solveGuideData=function(e,t){if(w=j.debug(e))return w;var n=t.path=e.path;t.orient=e.orient,t.subLines=[],t.totalLength=0,t.startOffsetRot=0,t.deltaRotation=0,t.startData={ratio:0},t.endData={ratio:1},t.animSpan=1;for(var a,i,o,r,s=n.length,c={},l=n[0],g=n[1],u=2;u<s;u+=4){a=n[u],i=n[u+1],o=n[u+2],r=n[u+3];for(var m={weightings:[],estLength:0,portion:0},h=l,d=g,p=1;p<=10;p++){j._getParamsForCurve(l,g,a,i,o,r,p/10,!1,c);var f=c.x-h,b=c.y-d,y=Math.sqrt(f*f+b*b);m.weightings.push(y),m.estLength+=y,h=c.x,d=c.y}for(t.totalLength+=m.estLength,p=0;p<10;p++)y=m.estLength,m.weightings[p]=m.weightings[p]/y;t.subLines.push(m),l=o,g=r}y=t.totalLength;var v=t.subLines.length;for(u=0;u<v;u++)t.subLines[u].portion=t.subLines[u].estLength/y;var w=isNaN(e.start)?0:e.start,e=isNaN(e.end)?1:e.end;j._ratioToPositionData(w,t,t.startData),j._ratioToPositionData(e,t,t.endData),t.startData.ratio=w,t.endData.ratio=e,t.animSpan=t.endData.ratio-t.startData.ratio},j._ratioToPositionData=function(e,t,n){for(var a,i,o,r=t.subLines,s=0,c=e*t.animSpan+t.startData.ratio,l=r.length,g=0;g<l;g++){if(c<=s+(i=r[g].portion)){o=g;break}s+=i}void 0===o&&(o=l-1,s-=i);var u=r[o].weightings,m=i;for(l=u.length,g=0;g<l&&!(c<=s+(i=u[g]*m));g++)s+=i;o=4*o+2,a=g/10+(c-s)/i*.1;var h=t.path;return j._getParamsForCurve(h[o-2],h[o-1],h[o],h[o+1],h[o+2],h[o+3],a,t.orient,n),t.orient&&(.99999<=e&&e<=1.00001&&void 0!==t.endAbsRot?n.rotation=t.endAbsRot:n.rotation+=t.startOffsetRot+e*t.deltaRotation),n},j._getParamsForCurve=function(e,t,n,a,i,o,r,s,c){var l=1-r;c.x=l*l*e+2*l*r*n+r*r*i,c.y=l*l*t+2*l*r*a+r*r*o,s&&(c.rotation=57.2957795*Math.atan2((a-t)*l+(o-a)*r,(n-e)*l+(i-n)*r))},j._findPathProblems=function(e){var t=e.path,n=t&&t.length||0;if(n<6||(n-2)%4){var a="\tCannot parse 'path' array due to invalid number of entries in path. ";return a+="There should be an odd number of points, at least 3 points, and 2 entries per point (x & y). ",(a+="See 'CanvasRenderingContext2D.quadraticCurveTo' for details as 'path' models a quadratic bezier.\n\n")+("Only [ "+n+" ] values found. Expected: "+Math.max(4*Math.ceil((n-2)/4)+2,6))}for(var i=0;i<n;i++)if(isNaN(t[i]))return"All data in path array must be numeric";a=e.start;if(isNaN(a)&&void 0!==a)return"'start' out of bounds. Expected 0 to 1, got: "+a;a=e.end;if(isNaN(a)&&void 0!==a)return"'end' out of bounds. Expected 0 to 1, got: "+a;e=e.orient;return e&&"fixed"!=e&&"auto"!=e&&"cw"!=e&&"ccw"!=e?'Invalid orientation value. Expected ["fixed", "auto", "cw", "ccw", undefined], got: '+e:void 0},createjs.MotionGuidePlugin=e}(),this.createjs=this.createjs||{},function(){"use strict";var e=createjs.TweenJS=createjs.TweenJS||{};e.version="1.0.0",e.buildDate="Thu, 14 Sep 2017 19:47:47 GMT"}();var spritefont1={characterSet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789.,:;?!-+=~&$%()/{}[]<>^*▲▼@",lowercase:!(String.prototype.toHHMMSS=function(){var e=parseInt(this,10),t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),e=e-3600*t-60*n;return t<10&&(t="0"+t),n<10&&(n="0"+n),e<10&&(e="0"+e),t+":"+n+":"+e}),xindex:8,yindex:8,imgResolution:512,img:"jfont"},spritefont2={characterSet:'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789.,:;-+=~%!?&$(){}[]\\/<>^*@#"x|xxxxxxxxxxxxxxxx',lowercase:!0,xindex:16,yindex:6,imgResolution:2048,img:"Font"};function rednerall(e){for(var t=0;t<e.length;t++)for(var n=e[t],a=0;a<n.length;a++){var i=n[a];context.drawImage(img[i.img],i.tilex*i.type,0,i.tilex,i.tiley,i.x,i.y,i.width,i.height)}}function rednerallunalignedsheet(e){for(var t=0;t<e.length;t++)for(var n=0;n<e[t].length;n++){var a=e[t][n];context.drawImage(img[a.img],a.tilex,a.tiley,a.width,a.height,a.x,a.y,a.width,a.height)}}function rednerallanim(e){for(var t=0;t<e.length;t++)for(var n=0;n<e[t].length;n++)renderanim(e[t][n],gameobjects.animation[e[t][n].animation])}function renderselfdestructiveanim(e){for(var t=0;t<e.length;t++){var n=e[t],a=gameobjects.animation[n.animation][0];n.aniframe<a.framecount-1?(n.aniframe+=.2,context.drawImage(img[a.img],a.w*Math.floor(n.aniframe),0,a.w,a.h,n.x-a.alignx,n.y-a.aligny,1.5*n.width+a.stretchx,1.5*n.height+a.stretchy)):e.splice(t,1)}}function renderanim(e,t,n){n&&e.anitype,e.aniframe=loopnext(e.aniframe,t[e.anitype].framecount-1);t=t[e.anitype];context.drawImage(img[t.img],t.w*Math.floor(e.aniframe),0,t.w,t.h,e.x-t.alignx,e.y-t.aligny,e.width+t.stretchx,e.height+t.stretchy)}function rednerallsimple(e){for(var t=0;t<e.length;t++)for(var n=0;n<e[t].length;n++){var a=e[t][n];context.drawImage(img[a.img],a.x,a.y,a.width,a.height)}}function randomBool(e,t){return 1==random(1,2)?e:t}function random(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function randomFloat(e,t){return parseFloat(Math.random()*(t-e)+e).toFixed(3)}function loopnext(e,t){return e<t?e+=.2:e=0,e}function randomizeArray(e){for(var t=0;t<e.length;t++){var n=random(0,e.length-1),a=e[n],i=e[t];e[t]=a,e[n]=i}return e}function checkIntersection(e,t){return!(e.x>=t.x+t.width||e.x+e.width<=t.x||e.y>=t.y+t.height||e.y+e.height<=t.y)}function checkCircleIntersection(e,t){var n=e.x+e.width/2,a=e.y+e.height/2,i=t.x+t.width/2,o=t.y+t.height/2;return(e.width+t.width)/2>Math.sqrt((i-n)*(i-n)+(o-a)*(o-a))}function renderplayer(){0<gameobjects.player.attack?renderanim(gameobjects.player.transform,gameobjects.animation[gameobjects.player.transform.animation],1):renderanim(gameobjects.player.transform,gameobjects.animation[gameobjects.player.transform.animation],0)}var blink=!0;function renderGame(){var e;rednerallanim([gameobjects.containers.enemycontainer,gameobjects.containers.enemyongroundcontainer,gameobjects.containers.enemyonbranchcontainer,gameobjects.containers.bulletcontainer]),0<gameobjects.player.damageble?(blink?renderplayer():(e=gameobjects.player.transform,context.drawImage(img.dblank,e.x,e.y,e.width,e.height)),blink=!blink):renderplayer(),renderselfdestructiveanim(gameobjects.containers.explocontainer),rednerall([gameobjects.containers.backgroundcontainer3])}function renderUI(){if(rednerall([gameobjects.containers.backgroundcontainer,gameobjects.containers.backgroundcontainer2,gameobjects.containers.bushcontainer,gameobjects.containers.treescontainer,gameobjects.containers.branchcontainer,gameobjects.containers.enemybulletcontainer,gameobjects.containers.bulletcontainer]),rednerallunalignedsheet([gameobjects.containers.groundcontainer]),rednerallsimple([gameobjects.containers.enemybulletcontainer,gameobjects.containers.collectablecontainer]),gameobjects.gamestate==gameobjects.states.loading)spritefont(spritefont2,"LOADING IS COMPLETE",40,.6,780,400,!0),spritefont(spritefont2,"PRESS OK BUTTON",60,.6,780,500,!0);else if(gameobjects.gamestate==gameobjects.states.home){context.drawImage(img.gamelogo,(GUI.canvas.width-GUI.gamelogo.width)/2,GUI.gamelogo.y,GUI.gamelogo.width,GUI.gamelogo.height),context.drawImage(img.Button,GUI.playMenu.x-GUI.pointerPadding/2+GUI.btnCommon.x+200*homeScreenPointerPos,GUI.playMenu.y-GUI.pointerPadding/2+GUI.btnPlay.y,GUI.btnCommon.width+GUI.pointerPadding,GUI.btnCommon.height+GUI.pointerPadding);for(var e=0;e<homeScreenButtonList.length;e++)context.drawImage(homeScreenButtonList[e],GUI.playMenu.x+GUI.btnCommon.x+200*e,GUI.playMenu.y+GUI.btnCommon.y,GUI.btnCommon.width,GUI.btnCommon.height)}else if(gameobjects.gamestate==gameobjects.states.pause){spritefont(spritefont2,"PAUSED",40,.6,800,60,!0),context.drawImage(img.Button,GUI.pauseMenu.x-GUI.pointerPadding/2+GUI.btnCommon.x+200*pauseScreenPointerPos,GUI.pauseMenu.y-GUI.pointerPadding/2+GUI.btnPlay.y,GUI.btnCommon.width+GUI.pointerPadding,GUI.btnCommon.height+GUI.pointerPadding);for(e=0;e<pauseScreenButtonList.length;e++)context.drawImage(pauseScreenButtonList[e],GUI.pauseMenu.x+GUI.btnCommon.x+200*e,GUI.pauseMenu.y+GUI.btnCommon.y,GUI.btnCommon.width,GUI.btnCommon.height)}else gameobjects.gamestate==gameobjects.states.play?(renderGame(),spritefont(spritefont2,"SCORE:"+gameobjects.player.score+"  HEALTH:"+gameobjects.player.health,40,.6,800,100,!0)):gameobjects.gamestate==gameobjects.states.overfail?(spritefont(spritefont2,"GAME OVER",200,.6,800,100,!0),spritefont(spritefont2,"HIGH SCORE:"+gameobjects.player.highscore,40,.6,800,450,!0),spritefont(spritefont2,"YOUR SCORE:"+gameobjects.player.lastscore,40,.6,800,550,!0),spritefont(spritefont2,"PRESS OK BUTTON TO GO BACK TO MAIN MENU",60,.6,800,750,!0)):gameobjects.gamestate==gameobjects.states.info&&(spritefont(spritefont2,"HOW TO PLAY",80,.6,800,100,!0),spritefont(spritefont2,"PRESS DOWN BUTTON TO MOVE DOWN",40,.6,800,300,!0),spritefont(spritefont2,"PRESS UP BUTTON TO MOVE UP",40,.6,800,350,!0),spritefont(spritefont2,"PRESS RIGHT BUTTON TO THROW STARS",40,.6,800,450,!0),spritefont(spritefont2,"WHILE PLAYING PRESS OK BUTTON TO PAUSE",40,.6,800,700,!0),spritefont(spritefont2,"PRESS OK BUTTON TO GO BACK TO MAIN MENU",60,.6,800,800,!0))}function uiInit(){gameobjects.gamestate=gameobjects.states.loading,createbackground(),createHomeMenu()}function createHomeMenu(){createjs.Tween.get(GUI.gamelogo).play(createjs.Tween.get(GUI.gamelogo,{paused:!0,loop:!0}).to({width:GUI.gamelogo.width+20,height:GUI.gamelogo.height+20},500,createjs.Ease.quadOut).to({width:GUI.gamelogo.width,height:GUI.gamelogo.height},500,createjs.Ease.quadOut)),createjs.Tween.get(GUI.gamelogo).play(createjs.Tween.get(GUI.gamelogo,{paused:!0,loop:!0}).to({x:GUI.gamelogo.x-10},500,createjs.Ease.quadOut).to({x:GUI.gamelogo.x},500,createjs.Ease.quadOut)),GUI.playMenu.width=GUI.btnCommon.width*(homeScreenButtonList.length+1),GUI.playMenu.x=(canvas.width-GUI.playMenu.width)/2-8*homeScreenButtonList.length,GUI.pauseMenu.width=GUI.btnCommon.width*(pauseScreenButtonList.length+1),GUI.pauseMenu.x=(canvas.width-GUI.pauseMenu.width)/2-8*pauseScreenButtonList.length,createjs.Tween.get(GUI.btnCommon).play(createjs.Tween.get(GUI.btnCommon,{paused:!0,loop:!0}).to({height:GUI.btnCommon.height+5},500,createjs.Ease.quadOut).to({height:GUI.btnCommon.height},500,createjs.Ease.quadOut)),GUI.levelup.y=-400}function leftkeyPressedGUI(){gameobjects.gamestate==gameobjects.states.home&&(homeScreenPointerPos=movePointer(homeScreenPointerPos,homeScreenButtonList,!1)),gameobjects.gamestate==gameobjects.states.pause&&(pauseScreenPointerPos=movePointer(pauseScreenPointerPos,pauseScreenButtonList,!1))}function rightkeyPressedGUI(){gameobjects.gamestate==gameobjects.states.home&&(homeScreenPointerPos=movePointer(homeScreenPointerPos,homeScreenButtonList,!0)),gameobjects.gamestate==gameobjects.states.pause&&(pauseScreenPointerPos=movePointer(pauseScreenPointerPos,pauseScreenButtonList,!0))}function enterkeyPressedGUI(){sound.Button.play(),gameobjects.gamestate==gameobjects.states.loading&&(setTimeout(function(){gameobjects.gamestate=gameobjects.states.home},10),GUI.loading=!1,sound.gamemusic.loop=!0,sound.gamemusic.play()),gameobjects.gamestate==gameobjects.states.home?(0==homeScreenPointerPos&&(gameobjects.gamestate=gameobjects.states.play,startnewgame()),1==homeScreenPointerPos&&(gameobjects.gamestate=gameobjects.states.info,console.log("info")),2==homeScreenPointerPos&&(console.log("audio"),handleGlobalSound(),homeScreenButtonList[2]=globalsound?img.BtnSoundOn:img.BtnSoundOff,pauseScreenButtonList[3]=globalsound?img.BtnSoundOn:img.BtnSoundOff)):gameobjects.gamestate==gameobjects.states.info?gameobjects.gamestate=gameobjects.states.home:gameobjects.gamestate==gameobjects.states.play?(gameobjects.gamestate=gameobjects.states.pause,console.log("paused")):gameobjects.gamestate==gameobjects.states.pause?(0==pauseScreenPointerPos&&(gameobjects.gamestate=gameobjects.states.play),1==pauseScreenPointerPos&&(startnewgame(),gameobjects.gamestate=gameobjects.states.play),2==pauseScreenPointerPos&&(gameobjects.gamestate=gameobjects.states.home),3==pauseScreenPointerPos&&(console.log("audio"),handleGlobalSound(),homeScreenButtonList[2]=globalsound?img.BtnSoundOn:img.BtnSoundOff,pauseScreenButtonList[3]=globalsound?img.BtnSoundOn:img.BtnSoundOff)):gameobjects.gamestate==gameobjects.states.overpass?gameobjects.gamestate=gameobjects.states.play:gameobjects.gamestate==gameobjects.states.overfail&&(gameobjects.gamestate=gameobjects.states.home)}function downkeyPressedGUI(){}function upkeyPressedGUI(){}function movePointer(e,t,n){return n?e+1>=t.length?0:e+1:e-1<0?t.length-1:e-1}function updater(){gameobjects.gamestate==gameobjects.states.play&&updatelogic()}function renderer(){renderUI()}function leftkey(){}function downkey(){gameobjects.gamestate,gameobjects.states.play}function upkey(){gameobjects.gamestate,gameobjects.states.play}function enterkey(){}function spacekeyDebug(){}function reset(){gameobjects.player.score=0,gameobjects.player.health=gameobjects.defaults.playerHealth,initlogic()}function startgame(){gameobjects.gamestate=gameobjects.states.play}function gameover(){gameobjects.gamestate=gameobjects.states.overfail,scoremanager()}function startnewgame(){reset(),startgame()}function scoremanager(){gameobjects.player.lastscore=gameobjects.player.score,gameobjects.player.highscore<gameobjects.player.score&&(gameobjects.player.highscore=gameobjects.player.score)}function addscore(){gameobjects.player.score+=gameobjects.defaults.scoreunit}function createbackground(){gameobjects.containers.bushcontainer=fillcontainer(gameobjects.containers.bushcontainer,bush,gameobjects.containers.default.bushcontainer),gameobjects.containers.treescontainer=fillcontainer(gameobjects.containers.treescontainer,tree,gameobjects.containers.default.treescontainer),gameobjects.containers.backgroundcontainer=fillcontainer(gameobjects.containers.backgroundcontainer,background,gameobjects.containers.default.backgroundcontainer),gameobjects.containers.backgroundcontainer2=fillcontainer(gameobjects.containers.backgroundcontainer2,background2,gameobjects.containers.default.backgroundcontainer),gameobjects.containers.backgroundcontainer3=fillcontainer(gameobjects.containers.backgroundcontainer3,background3,gameobjects.containers.default.backgroundcontainer),gameobjects.containers.groundcontainer=fillcontainer(gameobjects.containers.groundcontainer,ground,gameobjects.containers.default.groundcontainer),gameobjects.containers.branchcontainer=fillcontainer(gameobjects.containers.branchcontainer,branch,gameobjects.containers.default.branchcontainer)}function initlogic(){gameobjects.containers.enemybulletcontainer=[],gameobjects.containers.enemycontainer=[],gameobjects.containers.enemyonbranchcontainer=[],gameobjects.containers.enemyongroundcontainer=[],gameobjects.containers.collectablecontainer=[]}function updatelogic(){gameobjects.keyState[38]&&(gameobjects.player.transform.y-=gameobjects.level.speed+gameobjects.player.level,console.log("pressing up")),gameobjects.keyState[40]&&(gameobjects.player.transform.y+=gameobjects.level.speed+gameobjects.player.level,console.log("pressing down")),gameobjects.player.transform.y>gameobjects.level.ymax&&(gameobjects.player.transform.y=gameobjects.level.ymax),gameobjects.player.transform.y<gameobjects.level.ymin&&(gameobjects.player.transform.y=gameobjects.level.ymin),paralaxmove(gameobjects.containers.treescontainer,0),paralaxmove(gameobjects.containers.bushcontainer,0),paralaxmove(gameobjects.containers.backgroundcontainer,3*-gameobjects.player.level),paralaxmove(gameobjects.containers.backgroundcontainer2,1.5*-gameobjects.player.level),paralaxmove(gameobjects.containers.backgroundcontainer3,-gameobjects.player.level),paralaxmove(gameobjects.containers.groundcontainer,0),paralaxmove(gameobjects.containers.branchcontainer,0),paralaxmove(gameobjects.containers.enemyonbranchcontainer,0),paralaxmove(gameobjects.containers.enemyongroundcontainer,0),paralaxmove(gameobjects.containers.explocontainer,0),paralaxmove(gameobjects.containers.collectablecontainer,0),paralaxmove(gameobjects.containers.enemycontainer,1.5*gameobjects.player.level),paralaxmove(gameobjects.containers.bulletcontainer,-4*(gameobjects.player.level+gameobjects.level.speed)),paralaxmove(gameobjects.containers.enemybulletcontainer,2*(gameobjects.player.level+gameobjects.level.speed)),paralaxrearange(gameobjects.containers.treescontainer,gameobjects.level.tile.tree.tilegap),paralaxrearange(gameobjects.containers.bushcontainer,gameobjects.level.tile.bush.tilegap),paralaxrearange(gameobjects.containers.backgroundcontainer,0),paralaxrearange(gameobjects.containers.backgroundcontainer2,0),paralaxrearange(gameobjects.containers.backgroundcontainer3,0),paralaxrecreate(gameobjects.containers.groundcontainer,ground,0,enemyonground),paralaxrecreate(gameobjects.containers.branchcontainer,branch,gameobjects.level.tile.tree.tilegap,enemyonbranch),intervalevent(function(){cleargarbage([gameobjects.containers.enemyonbranchcontainer,gameobjects.containers.enemyongroundcontainer,gameobjects.containers.enemybulletcontainer,gameobjects.containers.enemycontainer,gameobjects.containers.collectablecontainer],[gameobjects.containers.bulletcontainer]),0==random(0,1)&&fillsingle(gameobjects.containers.enemycontainer,enmey())},0,100),intervalevent(function(){enemyshoot()},1,20),gameobjects.player.transform.y+gameobjects.player.transform.height>gameobjects.level.tile.background3.y&&1<gameobjects.player.health&&0==gameobjects.player.damageble&&(--gameobjects.player.health,gameobjects.player.damageble=200,sound.deathplayer.play()),collision([gameobjects.containers.bulletcontainer],[gameobjects.containers.enemycontainer,gameobjects.containers.enemyonbranchcontainer,gameobjects.containers.enemyongroundcontainer]),0<gameobjects.player.damageble?--gameobjects.player.damageble:playercollision([gameobjects.containers.enemybulletcontainer,gameobjects.containers.enemycontainer,gameobjects.containers.enemyonbranchcontainer,gameobjects.containers.enemyongroundcontainer,gameobjects.containers.collectablecontainer])}function rightkey(){gameobjects.player.transform.anitype=1,setTimeout(function(){fillsingle(gameobjects.containers.bulletcontainer,playerbullet()),gameobjects.player.transform.anitype=0},100)}function paralaxmove(e,t){for(var n=0;n<e.length;n++)e[n].x-=gameobjects.level.speed+gameobjects.player.level+t}function enemyshoot(){for(var e=0;e<gameobjects.containers.enemycontainer.length;e++){var t=gameobjects.containers.enemycontainer[e];gameobjects.animation[t.animation][t.anitype].shoots&&t.x<.7*GUI.canvas.width&&Math.abs(gameobjects.player.transform.y+gameobjects.player.transform.height/2-(t.y+t.height/2))<200&&fillsingle(gameobjects.containers.enemybulletcontainer,enemybullet(t))}}function paralaxrearange(e,t){for(var n=0;n<e.length;n++){var a=e[n];a.x<-a.width&&(e.splice(n,1),a.x=e[e.length-1].x+a.width+t,e.push(a))}}function paralaxrecreate(e,t,n,a){for(var i=0;i<e.length;i++){var o,r=e[i];r.x<-r.width&&(e.splice(i,1),o=e[e.length-1],r=e.push(t(0)),e[r-1].x=o.x+o.width+n,a(e[r-1]))}}function fillbytype(e,t,n,a){null!=a?e.push(t.apply(null,a)):"function"!=typeof t?e.push(t):e.push(t(n))}function fillcontainer(e,t,n,a){e=[];for(var i=0;i<n;i++)fillbytype(e,t,i,a);return e}function fillsingle(e,t){e.push(t)}function cleargarbage(e,t){for(var n=0;n<e.length;n++)for(var a=e[n],i=0;i<a.length;i++){var o=a[i];o.x<-o.width&&a.splice(i,1)}for(var r=0;r<t.length;r++)for(var s=t[r],c=0;c<s.length;c++){var l=s[c];l.x>GUI.canvas.width+l.width&&s.splice(c,1)}}function intervalevent(e,t,n){gameobjects.level.speedtimer[t]<n?gameobjects.level.speedtimer[t]+=gameobjects.player.level:(gameobjects.level.speedtimer[t]=0,e())}function collision(e,t){for(var n=0;n<e.length;n++)for(var a=0;a<e[n].length;a++)for(var i=0;i<t.length;i++)for(var o=0;o<t[i].length;o++)null!=e[n][a]&&null!=t[i][o]&&checkIntersection(e[n][a],t[i][o])&&(0<e[n][a].health?--e[n][a].health:e[n].splice(a,1),0<t[i][o].health?(--t[i][o].health,sound.deathenemy.play(),gameobjects.player.score+=gameobjects.defaults.scoreunit):(explosion(t[i][o]),t[i].splice(o,1)))}function playercollision(e){for(var t=0;t<e.length;t++)for(var n=0;n<e[t].length;n++)if(null!=e[t][n])if(e[t]===gameobjects.containers.collectablecontainer)checkIntersection(gameobjects.player.transform,e[t][n])&&(e[t].splice(n,1),gameobjects.player.health+=2,gameobjects.player.health>gameobjects.defaults.playerHealth&&(gameobjects.player.health=gameobjects.defaults.playerHealth),sound.life.play());else if(checkIntersection(gameobjects.player.transform,e[t][n])){if(e[t].splice(n,1),1<gameobjects.player.health)return--gameobjects.player.health,gameobjects.player.damageble=200,void sound.deathplayer.play();gameover()}}var gameready=function(){var n=0,a=0,i=0;function o(e){var t;window.requestAnimationFrame(o),e=((t=e)-n)/1e3,n=t,updater(),function(e){.25<a&&(Math.round(i/a),i=a=0),a+=e,i++}(e),renderer(),context.fillStyle="#000000",context.font="12px Verdana"}console.log("assets loaded"),window.addEventListener("keydown",function(e){gameobjects.keyState[e.keyCode||e.which]=!0},!0),window.addEventListener("keyup",function(e){gameobjects.keyState[e.keyCode||e.which]=!1},!0),window.addEventListener("keyup",function(e){switch(e.keyCode){case 37:leftkey(),leftkeyPressedGUI();break;case 38:upkey();break;case 39:rightkey(),rightkeyPressedGUI();break;case 40:downkey();break;case 32:spacekeyDebug();break;case 13:enterkeyPressedGUI(),enterkey()}},!1),uiInit(),o(0)},gameobjects={keyState:{},containers:{backgroundcontainer:[],backgroundcontainer2:[],backgroundcontainer3:[],bulletcontainer:[],enemycontainer:[],enemybulletcontainer:[],treescontainer:[],groundcontainer:[],bushcontainer:[],branchcontainer:[],enemyonbranchcontainer:[],enemyongroundcontainer:[],collectablecontainer:[],explocontainer:[],default:{enemycontainer:5,enemybulletcontainer:[],treescontainer:4,backgroundcontainer:2,groundcontainer:8,bushcontainer:8,branchcontainer:4,enemyonbranchcontainer:4,enemyongroundcontainer:4}},level:{speed:4,speedmax:10,speedmin:1,speedtimer:[0,0],bombdropcontainer:[],blastcontainer:[],collectablecontainer:[],tile:{background:{width:1600,height:1e3,img:"background",tilegap:0},background2:{y:600,width:1600,height:400,img:"bgstone",tilegap:0},background3:{y:850,width:1600,height:400,img:"bgwater",tilegap:0},tree:{width:400,height:1e3,framelength:3,tilex:500,tiley:672,tilegap:200,img:"trees"},bush:{width:800,height:600,framelength:5,tilex:802,tiley:602,tilegap:-400,img:"bgbush"},ground:{width:400,height:400,framelength:5,tilex:1,tiley:1,tilegap:150,img:"ground",tile:[{x:1,y:1,w:448,h:239},{x:451,y:1,w:254,h:186},{x:707,y:1,w:246,h:116},{x:955,y:1,w:548,h:354},{x:1505,y:1,w:548,h:630},{x:2055,y:1,w:565,h:548},{x:2622,y:1,w:565,h:548}]},branch:{width:400,height:100,framelength:3,emptyframe:3,tilex:456,tiley:143,tilegap:200,img:"branch"},enemyonbranch:{width:150,height:150,tilex:1,tiley:1,alignx:100,aligny:-200,img:"denemy",animation:"enemyonbranch"},enemyonground:{width:200,height:200,tilex:1,tiley:1,alignx:100,aligny:-200,img:"denemy",animation:"enemyonground"},collectable:{width:100,height:100,alignx:0,aligny:0,img:"potion"},enemy:{width:150,height:150,tilex:1,tiley:1,alignx:100,aligny:-200,img:"denemy",animation:"fly"},bulletplayer:{width:50,height:50,img:"denemy",animation:"bullet"},bulletenemy:{width:150,height:50,img:"denemy",animation:"bullet"},explosion:{animation:"explo"}},ymax:700,ymin:100},animation:{fly:[{img:"bomber",w:150,h:245,stretchx:20,stretchy:50,alignx:10,aligny:25,framecount:4,frame:0},{img:"fly1",w:250,h:250,stretchx:100,stretchy:100,alignx:50,aligny:50,framecount:4,frame:0,shoots:!0},{img:"fly2",w:250,h:250,stretchx:100,stretchy:100,alignx:50,aligny:50,framecount:4,frame:0},{img:"fly3",w:250,h:250,stretchx:100,stretchy:100,alignx:50,aligny:50,framecount:4,frame:0,shoots:!0},{img:"fly4",w:250,h:250,stretchx:100,stretchy:100,alignx:50,aligny:50,framecount:4,frame:0},{img:"fly5",w:250,h:250,stretchx:100,stretchy:100,alignx:50,aligny:50,framecount:4,frame:0,shoots:!0},{img:"fly6",w:250,h:250,stretchx:100,stretchy:100,alignx:50,aligny:50,framecount:4,frame:0},{img:"fly7",w:250,h:250,stretchx:100,stretchy:100,alignx:50,aligny:50,framecount:4,frame:0,shoots:!0},{img:"fly8",w:250,h:250,stretchx:100,stretchy:100,alignx:50,aligny:50,framecount:4,frame:0},{img:"fly9",w:250,h:250,stretchx:100,stretchy:100,alignx:50,aligny:50,framecount:4,frame:0,shoots:!0},{img:"fly10",w:250,h:250,stretchx:100,stretchy:100,alignx:50,aligny:50,framecount:4,frame:0}],enemyonground:[{img:"spikes",w:174,h:147,stretchx:0,stretchy:0,alignx:0,aligny:0,framecount:1,frame:0},{img:"hog",w:199,h:217,stretchx:50,stretchy:50,alignx:25,aligny:40,framecount:8,frame:0},{img:"pencil",w:71,h:144,stretchx:0,stretchy:0,alignx:0,aligny:0,framecount:1,frame:0},{img:"plant",w:212,h:235,stretchx:50,stretchy:50,alignx:25,aligny:40,framecount:18,frame:0},{img:"cyclops",w:384,h:395,stretchx:50,stretchy:50,alignx:25,aligny:40,framecount:8,frame:0}],enemyonbranch:[{img:"swordman",w:183,h:160,stretchx:50,stretchy:50,alignx:25,aligny:40,framecount:8,frame:0},{img:"archer",w:202,h:155,stretchx:50,stretchy:50,alignx:25,aligny:25,framecount:8,frame:0},{img:"summon",w:132,h:181,stretchx:50,stretchy:80,alignx:25,aligny:70,framecount:8,frame:0}],bullet:[{img:"star",w:200,h:200,stretchx:50,stretchy:50,alignx:25,aligny:40,framecount:2,frame:0}],explo:[{img:"exploa",w:119.8,h:119,stretchx:100,stretchy:100,alignx:50,aligny:50,framecount:8,frame:0}],player:[{img:"playerfly",w:320,h:320,stretchx:100,stretchy:100,alignx:50,aligny:50,framecount:8,frame:0},{img:"playerattack",w:320,h:320,stretchx:100,stretchy:100,alignx:50,aligny:50,framecount:5,frame:0}]},paralax:{x:0,y:150,width:2400,height:750,dir:-1,speed:2},defaults:{warnings:{x:600,y:500,width:600,height:100},scoreunit:20,disableInput:!1,duration:5e3,durationmin:0,durationmax:5e3,time:5,stopwatch:null,playerHealth:10},player:{transform:{x:100,y:500,width:200,height:200,tilex:1,tiley:1,alignx:0,aligny:0,anitype:0,img:"dplayer",animation:"player"},level:1,score:0,highscore:0,lastscore:0,time:0,health:10,damageble:100,attack:0},gamestate:"",states:{loading:"loading",home:"home",play:"play",pause:"pause",overpass:"overpass",overfail:"overfail",info:"info"},images:["images/background.jpg","images/cloud.png","images/Font.png","images/jfont.png","images/gamelogo.png","images/BtnPlayOn.png","images/BtnInfoOn.png","images/BtnPlayOn.png","images/BtnSoundOn.png","images/BtnSoundOff.png","images/BtnRestartOn.png","images/BtnExitOn.png","images/Button.png","images/ebullet.png","images/exploa.png","images/explob.png","images/star.png","images/potion.png","images/tree/trees.png","images/tree/bgstone.png","images/tree/bgwater.png","images/tree/bgbush.png","images/tree/ground.png","images/tree/branch.png","images/enemies/pencil.png","images/enemies/spikes.png","images/enemies/bomber.png","images/enemies/cyclops.png","images/enemies/hog.png","images/enemies/summon.png","images/enemies/archer.png","images/enemies/swordman.png","images/enemies/fly1.png","images/enemies/fly2.png","images/enemies/fly3.png","images/enemies/fly4.png","images/enemies/fly5.png","images/enemies/fly6.png","images/enemies/fly7.png","images/enemies/fly8.png","images/enemies/fly9.png","images/enemies/fly10.png","images/enemies/plant.png","images/player/playerfly.png","images/player/playerattack.png","images/debug/dplayer.png","images/debug/denemy.png","images/debug/dblank.png"],sounds:["media/Button.m4a","media/gamemusic.ogg","media/throw.ogg","media/deathplayer.m4a","media/deathenemy.ogg","media/life.m4a"]},GUI={canvas:{x:0,y:0,width:1600,height:1e3},gamelogo:{x:400,y:150,width:950,height:300},playMenu:{x:0,y:500,width:400,height:400},pauseMenu:{x:0,y:500,width:400,height:400},btnPlay:{x:50,y:50,width:150,height:150},btnSound:{x:50,y:50,width:150,height:150},btnInfo:{x:50,y:50,width:150,height:150},btnCommon:{x:50,y:50,width:150,height:150},levelup:{x:350,y:1100,width:900,height:400},decoration:{bubbles:[],bubblesLength:10},pointerPadding:40},img=loadImages(gameobjects.images),sound=loadSound(gameobjects.sounds),homeScreenButtonList=[img.BtnPlayOn,img.BtnInfoOn,img.BtnSoundOn],pauseScreenButtonList=[img.BtnPlayOn,img.BtnRestartOn,img.BtnExitOn,img.BtnSoundOn],homeScreenPointerPos=0,pauseScreenPointerPos=0,globalsound=!0,loadcount=0,loadtotal=0,preloaded=!1;function loadImages(e){preloaded=!1;for(var t=[],n={},a=0;a<e.length;a++){var i=new Image;i.onload=function(){(loadcount+=1)==e.length&&(preloaded=!0)},i.src=e[a],n[(t[a]=i).src.split("/")[i.src.split("/").length-1].split(".")[0]]=i}return n}function loadSound(e){for(var t=[],n={},a=0;a<e.length;a++){var i=new Audio(e[a]);n[(t[a]=i).src.split("/")[i.src.split("/").length-1].split(".")[0]]=i}return n}function handleGlobalSound(){(globalsound=!globalsound)?(sound.gamemusic.loop=!0,sound.gamemusic.play()):(sound.gamemusic.pause(),sound.gamemusic.currentTime=0),Object.keys(sound).forEach(function(e){sound[e].volume=globalsound?1:0})}function raindrop(){this.x=random(GUI.canvas.width+100,GUI.canvas.width+1100),this.y=randomFloat(0,GUI.canvas.height/4),this.size=random(100,200),this.width=this.size,this.height=2*this.size/3,this.image=img.cloud;var e=this;createjs.Tween.get(e).wait(random(0,9e3)).play(createjs.Tween.get(e,{paused:!0,loop:!0}).to({x:-300},5e3).to({x:GUI.canvas.width+100},0))}function position(e,t){this.x=e||0,this.y=t||0}function scale(e,t){this.width=e,this.height=t}function mix(t){var n={};for(let e=0;e<t.length;e++){var a=Object.getOwnPropertyDescriptors(t[e]);Object.defineProperties(n,a)}return n}function transform(e,t,n,a){var i={};return mix([new position(e,t),new scale(n,a),i])}function tile(e,t){this.type=random(0,(e.framelength||1)-1),this.tilex=e.tilex||e.width,this.tiley=e.tiley||e.height,this.tilegap=e.tilegap||0,this.alignx=e.alignx||0,this.aligny=e.aligny||0,this.img=e.img||"denemy",t&&random(0,t)===t&&(this.img="dblank")}function damageble(e){this.health=e}function animation(e){this.animation=e.animation,this.anitype=random(0,gameobjects.animation[e.animation].length-1),this.aniframe=0}function explosion(e){e=mix([transform(e.x,e.y,e.width,e.height),new animation(gameobjects.level.tile.explosion)]);gameobjects.containers.explocontainer.push(e)}img=loadImages(gameobjects.images),sound=loadSound(gameobjects.sounds),homeScreenButtonList=[img.BtnPlayOn,img.BtnInfoOn,img.BtnSoundOn],pauseScreenButtonList=[img.BtnPlayOn,img.BtnRestartOn,img.BtnExitOn,img.BtnSoundOn],homeScreenPointerPos=0,pauseScreenPointerPos=0,globalsound=!0,loadcount=0,loadtotal=0,preloaded=!1;function loadImages(e){preloaded=!1;for(var t=[],n={},a=0;a<e.length;a++){var i=new Image;i.onload=function(){(loadcount+=1)==e.length&&(preloaded=!0)},i.src=e[a],n[(t[a]=i).src.split("/")[i.src.split("/").length-1].split(".")[0]]=i}return n}function loadSound(e){for(var t=[],n={},a=0;a<e.length;a++){var i=new Audio(e[a]);n[(t[a]=i).src.split("/")[i.src.split("/").length-1].split(".")[0]]=i}return n}function handleGlobalSound(){(globalsound=!globalsound)?(sound.gamemusic.loop=!0,sound.gamemusic.play()):(sound.gamemusic.pause(),sound.gamemusic.currentTime=0),Object.keys(sound).forEach(function(e){sound[e].volume=globalsound?1:0})}function raindrop(){this.x=random(GUI.canvas.width+100,GUI.canvas.width+1100),this.y=randomFloat(0,GUI.canvas.height/4),this.size=random(100,200),this.width=this.size,this.height=2*this.size/3,this.image=img.cloud;createjs.Tween.get(this).wait(random(0,9e3)).play(createjs.Tween.get(this,{paused:!0,loop:!0}).to({x:-300},5e3).to({x:GUI.canvas.width+100},0))}function position(e,t){this.x=e||0,this.y=t||0}function scale(e,t){this.width=e,this.height=t}function mix(e){for(var t={},n=0;n<e.length;n++){var a=Object.getOwnPropertyDescriptors(e[n]);Object.defineProperties(t,a)}return t}function transform(e,t,n,a){return mix([new position(e,t),new scale(n,a),{}])}function tile(e,t){this.type=random(0,(e.framelength||1)-1),this.tilex=e.tilex||e.width,this.tiley=e.tiley||e.height,this.tilegap=e.tilegap||0,this.alignx=e.alignx||0,this.aligny=e.aligny||0,this.img=e.img||"denemy",t&&random(0,t)===t&&(this.img="dblank")}function damageble(e){this.health=e}function animation(e){this.animation=e.animation,this.anitype=random(0,gameobjects.animation[e.animation].length-1),this.aniframe=0}function explosion(e){e=mix([transform(e.x,e.y,e.width,e.height),new animation(gameobjects.level.tile.explosion)]);gameobjects.containers.explocontainer.push(e)}function platfromenemy(e,t,n){n=mix([transform(e.x,e.y,t.width,t.height),new tile(t),new damageble(n),new animation(t)]);return n.x=e.x+(e.width-t.width)/2,n.y=n.y-n.height,n}function collectable(e,t,n){n=mix([transform(e.x,e.y,t.width,t.height),new tile(t),new damageble(n)]);return n.x=e.x+(e.width-t.width)/2,n.y=n.y-n.height,n}function tilex(e,t,n){return(t=mix([transform(e*(t.width+t.tilegap),t.y,t.width,t.height),new tile(t,n)])).x=t.x+t.alignx,t}function bullet(e,t,n,a,i){return mix([transform(e.x,e.y+i,a.width,a.height),{img:t},new damageble(n),new animation(a)])}function ground(e){gameobjects.level.tile.ground.y=random(700,800);var t=tilex(e,gameobjects.level.tile.ground,1),e=gameobjects.level.tile.ground.tile[t.type];return t.tilex=e.x,t.tiley=e.y,t.width=e.w,t.height=e.h,t}function playerbullet(){return sound.throw.play(),bullet(gameobjects.player.transform,"denemy",0,gameobjects.level.tile.bulletplayer,0)}function enemybullet(e){return bullet(e,"ebullet",0,gameobjects.level.tile.bulletenemy,e.height/2)}function enmey(){var e=gameobjects.level.tile.enemy;return mix([transform(GUI.canvas.width+e.width,random(100,500),e.width,e.height),new tile(e),new damageble(1),new animation(e)])}function enemyonbranch(e){"dblank"!=e.img&&0==random(0,1)&&gameobjects.containers.enemyonbranchcontainer.push(platfromenemy(e,gameobjects.level.tile.enemyonbranch,2))}function enemyonground(e){"dblank"!==e.img&&(0==random(0,1)?gameobjects.containers.enemyongroundcontainer.push(platfromenemy(e,gameobjects.level.tile.enemyonground,2)):0==random(0,5)&&gameobjects.containers.collectablecontainer.push(collectable(e,gameobjects.level.tile.collectable,0)))}function tree(e){return tilex(e,gameobjects.level.tile.tree)}function branch(e){return gameobjects.level.tile.branch.y=random(200,300),tilex(e,gameobjects.level.tile.branch,1)}function bush(e){return gameobjects.level.tile.bush.y=random(-200,0),tilex(e,gameobjects.level.tile.bush)}function background(e){return tilex(e,gameobjects.level.tile.background)}function background2(e){return tilex(e,gameobjects.level.tile.background2)}function background3(e){return tilex(e,gameobjects.level.tile.background3)}function platfromenemy(e,t,n){n=mix([transform(e.x,e.y,t.width,t.height),new tile(t),new damageble(n),new animation(t)]);return n.x=e.x+(e.width-t.width)/2,n.y=n.y-n.height,n}function collectable(e,t,n){n=mix([transform(e.x,e.y,t.width,t.height),new tile(t),new damageble(n)]);return n.x=e.x+(e.width-t.width)/2,n.y=n.y-n.height,n}function tilex(e,t,n){return(t=mix([transform(e*(t.width+t.tilegap),t.y,t.width,t.height),new tile(t,n)])).x=t.x+t.alignx,t}function bullet(e,t,n,a,i){return mix([transform(e.x,e.y+i,a.width,a.height),{img:t},new damageble(n),new animation(a)])}function ground(e){gameobjects.level.tile.ground.y=random(700,800);var t=tilex(e,gameobjects.level.tile.ground,1),e=gameobjects.level.tile.ground.tile[t.type];return t.tilex=e.x,t.tiley=e.y,t.width=e.w,t.height=e.h,t}function playerbullet(){return sound.throw.play(),bullet(gameobjects.player.transform,"denemy",0,gameobjects.level.tile.bulletplayer,0)}function enemybullet(e){return bullet(e,"ebullet",0,gameobjects.level.tile.bulletenemy,e.height/2)}function enmey(){var e=gameobjects.level.tile.enemy;return mix([transform(GUI.canvas.width+e.width,random(100,500),e.width,e.height),new tile(e),new damageble(1),new animation(e)])}function enemyonbranch(e){"dblank"!=e.img&&0==random(0,1)&&gameobjects.containers.enemyonbranchcontainer.push(platfromenemy(e,gameobjects.level.tile.enemyonbranch,2))}function enemyonground(e){"dblank"!==e.img&&(0==random(0,1)?gameobjects.containers.enemyongroundcontainer.push(platfromenemy(e,gameobjects.level.tile.enemyonground,2)):0==random(0,5)&&gameobjects.containers.collectablecontainer.push(collectable(e,gameobjects.level.tile.collectable,0)))}function tree(e){return tilex(e,gameobjects.level.tile.tree)}function branch(e){return gameobjects.level.tile.branch.y=random(200,300),tilex(e,gameobjects.level.tile.branch,1)}function bush(e){return gameobjects.level.tile.bush.y=random(-200,0),tilex(e,gameobjects.level.tile.bush)}function background(e){return tilex(e,gameobjects.level.tile.background)}function background2(e){return tilex(e,gameobjects.level.tile.background2)}function background3(e){return tilex(e,gameobjects.level.tile.background3)}var canvas,context,lastgamestate="home";function Canvas2D(){canvas=document.getElementById("viewport"),context=canvas.getContext("2d")}window.addEventListener("blur",function(){lastgamestate=gameobjects.gamestate,gameobjects.gamestate=gameobjects.states.pause,sound.gamemusic.pause()}),window.addEventListener("focus",function(){gameobjects.gamestate=lastgamestate,sound.gamemusic.loop=!0,sound.gamemusic.play()}),window.onload=function(){resizeCanvas(),setTimeout(function(){canvas.style.display="block",document.getElementById("loader").style.display="none",gameready()},2e3)},window.onresize=function(){resizeCanvas()},Canvas2D();var level={x:1,y:65,width:canvas.width-2,height:canvas.height-66};function resizeCanvas(){canvas.style.height=window.innerHeight+"px",canvas.style.width=window.innerWidth+"px"}var canvas2d=new Canvas2D;function resizeCanvasKeepAR(){widthToHeight=window.innerWidth/window.innerHeight,widthToHeightIdeal=1.6,state=widthToHeight>widthToHeightIdeal?"wider":"higher",widthToHeight>widthToHeightIdeal?(canvas.style.height=window.innerHeight+"px",canvas.style.width=window.innerHeight*widthToHeightIdeal+"px",canvas.style.marginLeft=(window.innerWidth-window.innerHeight*widthToHeightIdeal)/2+"px",canvas.style.marginTop="0px"):(canvas.style.width=window.innerWidth+"px",canvas.style.height=window.innerWidth/widthToHeightIdeal+"px",canvas.style.marginTop=(window.innerHeight-window.innerWidth/widthToHeightIdeal)/2+"px",canvas.style.marginLeft="0px")}